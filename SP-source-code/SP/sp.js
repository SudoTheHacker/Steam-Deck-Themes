/* Third-party software licenses can be found at licenses.txt */
(self.webpackChunksteamui = self.webpackChunksteamui || []).push([[5742], { 49437: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/bumper_end.wav" }, 30783: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/confirmation_negative.wav" }, 97266: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/confirmation_positive.wav" }, 87679: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/deck_ui_misc_01.wav" }, 98995: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/deck_ui_misc_08.wav" }, 66555: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/deck_ui_tile_scroll.wav" }, 53532: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/sounds/pop_sound.wav" }, 10659: e => { e.exports = { "duration-app-launch": "800ms", carouselNavButton: "carousel_carouselNavButton_1KK5N", left: "carousel_left_gLIfz", carouselBtnCtn: "carousel_carouselBtnCtn_aqswv", right: "carousel_right_1qWih", carouselBody: "carousel_carouselBody_2M7XO", sliderBody: "carousel_sliderBody_gtnxY", slideTrayCustomize: "carousel_slideTrayCustomize_2rRBe", breadcrumbContainer: "carousel_breadcrumbContainer_1nhaj", pipList: "carousel_pipList_3oTuB", pipScrollerContainer: "carousel_pipScrollerContainer_1C-B8", pipScrollButton: "carousel_pipScrollButton_vy7Kr", scrollNavDiv: "carousel_scrollNavDiv_13TQ_", scrollNavButton: "carousel_scrollNavButton_1GLi1", pipScroller: "carousel_pipScroller_GXWYa", scrollBackground: "carousel_scrollBackground_3-RYo", scrollForeground: "carousel_scrollForeground_yJM1K", pipContainer: "carousel_pipContainer_373Zi", pip: "carousel_pip_3Bznr", pipNumber: "carousel_pipNumber_2_JtJ", innerSlide: "carousel_innerSlide_Kx5A5", DisableSliderMotion: "carousel_DisableSliderMotion_3la_1" } }, 1543: e => { e.exports = { LanguageHeader: "curatorfeedbrowse_LanguageHeader_1w7-R", CuratorInfoRow: "curatorfeedbrowse_CuratorInfoRow_1ePmt", CuratorInfoImg: "curatorfeedbrowse_CuratorInfoImg_3TDAb", CuratorInfoName: "curatorfeedbrowse_CuratorInfoName_Hrl-3", CuratorInfoTitleCtn: "curatorfeedbrowse_CuratorInfoTitleCtn_feb3U", CuratorInfoActionCtn: "curatorfeedbrowse_CuratorInfoActionCtn_3UORQ", CuratorInfoPreview: "curatorfeedbrowse_CuratorInfoPreview_11jpz", CuratorInfoIcon: "curatorfeedbrowse_CuratorInfoIcon_1j65n", CuratorInfoFollow: "curatorfeedbrowse_CuratorInfoFollow_M53Y8", CuratorHoverContainer: "curatorfeedbrowse_CuratorHoverContainer_2Q00L", CuratorHoverToolTip: "curatorfeedbrowse_CuratorHoverToolTip_3YF0X" } }, 4883: e => { e.exports = { FeedSuggestContainerBG: "curatorfeedsuggestrow_FeedSuggestContainerBG_1q6aG", FeedSuggestContainer: "curatorfeedsuggestrow_FeedSuggestContainer_17xnI", FeedSuggestCaption: "curatorfeedsuggestrow_FeedSuggestCaption_3w_M8", RowContainer: "curatorfeedsuggestrow_RowContainer_OHGO1", ClanInfo: "curatorfeedsuggestrow_ClanInfo_3R1cy", DismissButton: "curatorfeedsuggestrow_DismissButton_H14vN", BrowseMore: "curatorfeedsuggestrow_BrowseMore_2uAxs" } }, 53990: e => { e.exports = { strMaxMobileWidth: "700px", strMinMobileHeight: "360px", strDesktopControlBarWidth: "300px", strDesktopGlobalHeaderHeight: "104px", strMobileGlobalHeaderHeight: "62px", strDesktopLabsBannerHeight: "46px", strMobileLabsBannerHeight: "42px", strDesktopHubBannerHeight: "80px", strMobileHubBannerHeight: "80px", strJumboHubBannerHeight: "150px", strDesktopGroupHeaderHeight: "70px", strMobileGroupHeaderHeight: "37px", strMobileNavBannerHeight: "52px", strLogInBannerLargeHeight: "239px", strLogInBannerSmallHeight: "70px", HubBanner: "eventcalendar_HubBanner_3FLui", LargeMode: "eventcalendar_LargeMode_2a-qT", CloseFilterPage: "eventcalendar_CloseFilterPage_8f6V6", ShowSettings: "eventcalendar_ShowSettings_1gxRe", ControlPageContainer: "eventcalendar_ControlPageContainer_1q3uu", FiltersTitle: "eventcalendar_FiltersTitle_2wiwx", FiltersDescription: "eventcalendar_FiltersDescription_32EuV", SideSteamLabsBannerCtn: "eventcalendar_SideSteamLabsBannerCtn_13S5t", SteamLabsIdentifiers: "eventcalendar_SteamLabsIdentifiers_XKYrN", SteamLabsName: "eventcalendar_SteamLabsName_2zJUu", SteamLabsNumber: "eventcalendar_SteamLabsNumber_3zgCX", SteamLabsButton: "eventcalendar_SteamLabsButton_3w2FN", SteamLabsBanner: "eventcalendar_SteamLabsBanner_1ooep", SteamLabsBannerCtn: "eventcalendar_SteamLabsBannerCtn_201dI", SidebarContainer: "eventcalendar_SidebarContainer_1DLtr", SidebarCollapsed: "eventcalendar_SidebarCollapsed_JztN-", CollapseButton: "eventcalendar_CollapseButton_GHpEC", DesktopButton: "eventcalendar_DesktopButton_1q6qU", SidebarBackground: "eventcalendar_SidebarBackground_3_Jml", Sidebar: "eventcalendar_Sidebar_2A05H", SidebarTitle: "eventcalendar_SidebarTitle_3tbyf", FilterControlPage: "eventcalendar_FilterControlPage_1etlT", FilterOption: "eventcalendar_FilterOption_3k3Gi", FilterSubOption: "eventcalendar_FilterSubOption_hHIh7", SideBarFilterNavLinks: "eventcalendar_SideBarFilterNavLinks_2-HL_", FilterLink: "eventcalendar_FilterLink_1-Ujk", NumberDisplay: "eventcalendar_NumberDisplay_3Wff7", FilterSettingsCtn: "eventcalendar_FilterSettingsCtn_1C7Qd", OpenFilterSettings: "eventcalendar_OpenFilterSettings_1EGvy", SidebarBackLink: "eventcalendar_SidebarBackLink_2EpHe", MobileCloseButton: "eventcalendar_MobileCloseButton_2Og-q", FilterSection: "eventcalendar_FilterSection_240qv", FilterSubSection: "eventcalendar_FilterSubSection_1oWh_", FilterSubSectionTitle: "eventcalendar_FilterSubSectionTitle_3sotA", ConfigPanelSteamLabs: "eventcalendar_ConfigPanelSteamLabs_1izKM", ForceResponsiveLink: "eventcalendar_ForceResponsiveLink_3dYGU", SidebarLink: "eventcalendar_SidebarLink_ZyeWn", SidebarManageMutedApps: "eventcalendar_SidebarManageMutedApps_1jbMT", MutedSourcesGroup: "eventcalendar_MutedSourcesGroup_3jegH", MutedSourcesCount: "eventcalendar_MutedSourcesCount_1x7L5", SidebarFooter: "eventcalendar_SidebarFooter_3wIEo", FooterLegal: "eventcalendar_FooterLegal_3ABtB", MobileButton: "eventcalendar_MobileButton_2DSNf", BodyNoScroll: "eventcalendar_BodyNoScroll_2ppU0", EventCalendarContainer: "eventcalendar_EventCalendarContainer_3vzNv", ReserveControlSpace: "eventcalendar_ReserveControlSpace_3cdtJ", WideLeftGutter: "eventcalendar_WideLeftGutter_sEEVH", LogInFeedRow: "eventcalendar_LogInFeedRow_3GG4P", RowContainer: "eventcalendar_RowContainer_24NWG", Loading: "eventcalendar_Loading_2Xs6v", LoadingProgress: "eventcalendar_LoadingProgress_1LhRX", AdjustFiltersText: "eventcalendar_AdjustFiltersText_3eZJB", Rows: "eventcalendar_Rows_1TY7h", FutureSection: "eventcalendar_FutureSection_1qoJs", PastSection: "eventcalendar_PastSection_2S38Q", DarkerBackground: "eventcalendar_DarkerBackground_iSooR", EmptySectionText: "eventcalendar_EmptySectionText_38-PU", CalendarEventListRow: "eventcalendar_CalendarEventListRow_1-nZy", CalendarEventListContainer: "eventcalendar_CalendarEventListContainer_H6Xmf", CalendarRow: "eventcalendar_CalendarRow_uRe48", EventListTitle: "eventcalendar_EventListTitle_NhZOr", GroupHeader: "eventcalendar_GroupHeader_3ZL97", GroupHeaderTitle: "eventcalendar_GroupHeaderTitle_3wRHR", GroupHeaderLine: "eventcalendar_GroupHeaderLine_2dC7U", SeeAllLink: "eventcalendar_SeeAllLink_3fQBc", SeeAllCount: "eventcalendar_SeeAllCount_2lrj5", HorizontalTileContainer: "eventcalendar_HorizontalTileContainer_1RFyn", HorizontalTiles: "eventcalendar_HorizontalTiles_2dunE", HeaderAtTop: "eventcalendar_HeaderAtTop_22eDj", EndOfRows: "eventcalendar_EndOfRows_fIf4x", BackToThePast: "eventcalendar_BackToThePast_1C0lI", MobileSeeAllink: "eventcalendar_MobileSeeAllink_X0eKv", NoCount: "eventcalendar_NoCount_3Pmrq", LiveText: "eventcalendar_LiveText_2Vq2q", UpdatePageBanner: "eventcalendar_UpdatePageBanner_2zK8E", LoginPrompt: "eventcalendar_LoginPrompt_3PSOD", LoginButton: "eventcalendar_LoginButton_16XHf", SpecialEventListGroup: "eventcalendar_SpecialEventListGroup_cRgpU", SpecialEventListTitle: "eventcalendar_SpecialEventListTitle_3oR2P", SpecialEventList: "eventcalendar_SpecialEventList_2J5Fd", SpecialEvent: "eventcalendar_SpecialEvent_27uLY", SpecialEventTitle: "eventcalendar_SpecialEventTitle_355Ad", SpecialEventTime: "eventcalendar_SpecialEventTime_3KlFX", NewsChannelGroup: "eventcalendar_NewsChannelGroup_3Zc7j", NewsChannelListTitle: "eventcalendar_NewsChannelListTitle_niYt6", NewsChannelList: "eventcalendar_NewsChannelList_2ye1o", NewsChannel: "eventcalendar_NewsChannel_TOM8J", NewsChannelText: "eventcalendar_NewsChannelText_3giXA", NewsChannelCount: "eventcalendar_NewsChannelCount_1XImz", NewsChannelOnPage: "eventcalendar_NewsChannelOnPage_EhtJ_", NewsChannelTitle: "eventcalendar_NewsChannelTitle_1vRlL", NewsChannelSubtitle: "eventcalendar_NewsChannelSubtitle_3oo-Z", DiscoverGroup: "eventcalendar_DiscoverGroup_ZpiHX", NewsChannelIcon: "eventcalendar_NewsChannelIcon_CgI2T", SidePanelGameSearch: "eventcalendar_SidePanelGameSearch_2MujS", MobileNavBannerCtn: "eventcalendar_MobileNavBannerCtn_2Frbv", SearchDismiss: "eventcalendar_SearchDismiss_2FplR", SearchBox: "eventcalendar_SearchBox_2M_7N", SearchExpanded: "eventcalendar_SearchExpanded_1eVsV", SettingsPanel: "eventcalendar_SettingsPanel_psC2o", MobileNavHScroll: "eventcalendar_MobileNavHScroll_2M1_b", MobileNavBannerList: "eventcalendar_MobileNavBannerList_UZcA8", MobileNavButton: "eventcalendar_MobileNavButton_1f2uC", MobileNavCount: "eventcalendar_MobileNavCount_1wL6_", MobileNavButtonActive: "eventcalendar_MobileNavButtonActive_3jMyS", CalendarEventList: "eventcalendar_CalendarEventList_taRpt", LogInSmallMode: "eventcalendar_LogInSmallMode_S3Bg-", LogInFeedText: "eventcalendar_LogInFeedText_2Wwqw", PromptCtn: "eventcalendar_PromptCtn_2DXtj", LogInFeedTitle: "eventcalendar_LogInFeedTitle_dwZZT", LogInButton: "eventcalendar_LogInButton_1JHwA", LazyCalendarSectionCtn: "eventcalendar_LazyCalendarSectionCtn_2uSnK", TimeEventRow: "eventcalendar_TimeEventRow_3mvKU", TimeEventLastPlayed: "eventcalendar_TimeEventLastPlayed_331zO", TimeEventWishlisted: "eventcalendar_TimeEventWishlisted_vX6Wf" } }, 25382: e => { e.exports = { simpleTitleSmallHeight: "80", simpleTitleLargeHeight: "200", SimpleTitleHeaderCtn: "eventcalendarcollectionheaders_SimpleTitleHeaderCtn_PmpGj", CollectionBannerGroup: "eventcalendarcollectionheaders_CollectionBannerGroup_2tnx8", AppBannerLogoCtn: "eventcalendarcollectionheaders_AppBannerLogoCtn_16LX1", SimpleTitleCtn: "eventcalendarcollectionheaders_SimpleTitleCtn_yxDj9", Title: "eventcalendarcollectionheaders_Title_2Lv0Z", Subtitle: "eventcalendarcollectionheaders_Subtitle_2rp2c", LargeHeader: "eventcalendarcollectionheaders_LargeHeader_1lKhJ", NoHeaderImg: "eventcalendarcollectionheaders_NoHeaderImg_2HRXk", AppBannerLogo: "eventcalendarcollectionheaders_AppBannerLogo_3CJuc" } }, 5950: e => { e.exports = { GameTitleContainer: "eventcalendartile_GameTitleContainer_1bEUE", AppIcon: "eventcalendartile_AppIcon_3wvlH", TileTextAppName: "eventcalendartile_TileTextAppName_2BL8L", EnableHovers: "eventcalendartile_EnableHovers_1fwVU", TileContainer: "eventcalendartile_TileContainer_27AwJ", CoverImageCtn: "eventcalendartile_CoverImageCtn_1z05m", GameShortDescription: "eventcalendartile_GameShortDescription_3t7Mb", LiveText: "eventcalendartile_LiveText_3efBC", LiveNow: "eventcalendartile_LiveNow_3VnsB", FutureDateText: "eventcalendartile_FutureDateText_nmVmP", PastDateText: "eventcalendartile_PastDateText_bg1_S", GameSource: "eventcalendartile_GameSource_NopR2", SourceList: "eventcalendartile_SourceList_EyXCR", Source: "eventcalendartile_Source_cwALQ", RecommendedSource: "eventcalendartile_RecommendedSource_dG5lj", SourceRecommended: "eventcalendartile_SourceRecommended_3__4f", DateAndSourceLine: "eventcalendartile_DateAndSourceLine_2sKqZ", EventTypeAndDateCtn: "eventcalendartile_EventTypeAndDateCtn_1aeC3", LeaveRoomForReminder: "eventcalendartile_LeaveRoomForReminder_3oE9t", SmallAppName: "eventcalendartile_SmallAppName_ToBXZ", TileTextCategoryType: "eventcalendartile_TileTextCategoryType_184La", EventType28: "eventcalendartile_EventType28_mk_un", EventType10: "eventcalendartile_EventType10_aHnCE", EventType11: "eventcalendartile_EventType11_12EBE", EventType23: "eventcalendartile_EventType23_3cfYl", EventType35: "eventcalendartile_EventType35_ikSKc", EventType13: "eventcalendartile_EventType13_23ExK", EventType14: "eventcalendartile_EventType14_1jnLc", EventType15: "eventcalendartile_EventType15_3Zi-O", Tile: "eventcalendartile_Tile_a0iPy", MainContentContainer: "eventcalendartile_MainContentContainer_2W5LC", YoutubePreviewImage: "eventcalendartile_YoutubePreviewImage_3T2CQ", TileImage: "eventcalendartile_TileImage_Zo12U", TileTextContainer: "eventcalendartile_TileTextContainer_ymS8R", EventType12: "eventcalendartile_EventType12_KucHh", EventName: "eventcalendartile_EventName_3myvq", EventSubTitle: "eventcalendartile_EventSubTitle_3sqG2", GameCapsuleCtn: "eventcalendartile_GameCapsuleCtn_1js7a", AppBannerLogo: "eventcalendartile_AppBannerLogo_QRRaO", TileTextHeader: "eventcalendartile_TileTextHeader_2SYia", PatchIconCtn: "eventcalendartile_PatchIconCtn_rRP5R", EventTitleCtn: "eventcalendartile_EventTitleCtn_1SP_7", Footer: "eventcalendartile_Footer_DEtoe", EventCapsuleCtn: "eventcalendartile_EventCapsuleCtn_2vLZ-", FallbackImage: "eventcalendartile_FallbackImage_kbkLs", LiveBroadcastPreview: "eventcalendartile_LiveBroadcastPreview_1HaxG", TileBackgroundImage: "eventcalendartile_TileBackgroundImage_2Gnfg", TileCoverImagePlayable: "eventcalendartile_TileCoverImagePlayable_2FHPA", TileCoverLiveIcon: "eventcalendartile_TileCoverLiveIcon_19TYS", ReminderContainer: "eventcalendartile_ReminderContainer_n9Vac", OnlyIcon: "eventcalendartile_OnlyIcon_2KOMz", EventSummaryDefault: "eventcalendartile_EventSummaryDefault_23hMR", Vote_NotLoggedIn: "eventcalendartile_Vote_NotLoggedIn_3-UCk", Vote_LimitedUser: "eventcalendartile_Vote_LimitedUser_1ZCW6", Vote_Positive: "eventcalendartile_Vote_Positive_3hsn9", RateIcon: "eventcalendartile_RateIcon_1e7Al", Vote_Negative: "eventcalendartile_Vote_Negative_3xf8Q", Vote_Ready: "eventcalendartile_Vote_Ready_3k8SI", FooterRightSide: "eventcalendartile_FooterRightSide_1pVH1", Options: "eventcalendartile_Options_fpyqp", TileViewerCount: "eventcalendartile_TileViewerCount_1Kark", FooterStat: "eventcalendartile_FooterStat_3L6pU", CommentIcon: "eventcalendartile_CommentIcon_e4HhG", CommentIconCtn: "eventcalendartile_CommentIconCtn_2beft", LoadingTile: "eventcalendartile_LoadingTile_ZT_XQ", CarouselMode: "eventcalendartile_CarouselMode_19V9q", UpcomingMode: "eventcalendartile_UpcomingMode_2oNi3", TileVideoIcon: "eventcalendartile_TileVideoIcon_3_ckM", DateAndTime: "eventcalendartile_DateAndTime_27Tkn", HasVideo: "eventcalendartile_HasVideo_1S66y", SubTitleShown: "eventcalendartile_SubTitleShown_10v7u", VideoPlayerReady: "eventcalendartile_VideoPlayerReady_1K9tx" } }, 99791: e => { e.exports = { EventTileCarousel: "eventtilecarousel_EventTileCarousel_1uKel", HorizontalTiles: "eventtilecarousel_HorizontalTiles_1vFi-", EventTileCarouselTitleContainer: "eventtilecarousel_EventTileCarouselTitleContainer_2iHiV", EventTileCarouselTextTitle: "eventtilecarousel_EventTileCarouselTextTitle_1RnBj", EventTileCarouselTitle: "eventtilecarousel_EventTileCarouselTitle_2bhb_", EventTileCarouselFollow: "eventtilecarousel_EventTileCarouselFollow_3Hs-I" } }, 53398: e => { e.exports = { "duration-app-launch": "800ms", strWidescreenWidth: "1420px", strPhoneWidth: "768px", FacetedBrowseInnerCtn: "facetedbrowse_FacetedBrowseInnerCtn_hWbTI", FacetedBrowseControls: "facetedbrowse_FacetedBrowseControls_3fHFf", FacetMenuTitle: "facetedbrowse_FacetMenuTitle_3K6Uu", FacetedBrowseMatchCount: "facetedbrowse_FacetedBrowseMatchCount_3jXlH", FacetedBrowseReset: "facetedbrowse_FacetedBrowseReset_CtoEO", Facet: "facetedbrowse_Facet_2i4LT", FacetTitleCtn: "facetedbrowse_FacetTitleCtn_3W_uV", FacetTitle: "facetedbrowse_FacetTitle_3L67O", FacetValue: "facetedbrowse_FacetValue_Qu-ZC", FacetValueEnabled: "facetedbrowse_FacetValueEnabled_2kNes", FacetValueDeactivated: "facetedbrowse_FacetValueDeactivated_1J6AZ", FacetValueName: "facetedbrowse_FacetValueName_3WMvo", FacetValueDescription: "facetedbrowse_FacetValueDescription_1Su6Q", FacetValueShowMore: "facetedbrowse_FacetValueShowMore_230Th", FacetedBrowseItems: "facetedbrowse_FacetedBrowseItems_NO-IP", FacetedBrowsePopupCtn: "facetedbrowse_FacetedBrowsePopupCtn_Vyowz", FacetedBrowsePopupLabel: "facetedbrowse_FacetedBrowsePopupLabel_1voIo", FacetedBrowsePopup: "facetedbrowse_FacetedBrowsePopup_35kqo", FacetedBrowseFeedbackLink: "facetedbrowse_FacetedBrowseFeedbackLink_3B2jY", FacetValuePriceSlider: "facetedbrowse_FacetValuePriceSlider_h8tqf", SelectedFacetValuesTitle: "facetedbrowse_SelectedFacetValuesTitle_1rCTF", SelectedFacetValuesList: "facetedbrowse_SelectedFacetValuesList_17tCW", SelectedFacetValueCtn: "facetedbrowse_SelectedFacetValueCtn_1whZi", FacetValueSearch: "facetedbrowse_FacetValueSearch_1nSEf" } }, 90058: e => { e.exports = { HorizontalScrollInDragForceCursor: "horizontalscrollcontainer_HorizontalScrollInDragForceCursor_1uftH" } }, 78546: e => { e.exports = { LanguageFeedNoteBucket: "languagefeedrow_LanguageFeedNoteBucket_1AmGk", LanguageFeedNoteCtn: "languagefeedrow_LanguageFeedNoteCtn_2F8lX", BodyFlow: "languagefeedrow_BodyFlow_2hM2g", LeftColumn: "languagefeedrow_LeftColumn_30y-r", RightColumn: "languagefeedrow_RightColumn_8nQdu", Title: "languagefeedrow_Title_30RYL", LanguageList: "languagefeedrow_LanguageList_2fQkM", Text: "languagefeedrow_Text_hp5WH", DismissButton: "languagefeedrow_DismissButton_1TLMk" } }, 37846: e => { e.exports = { LegalFooter: "legalfooter_LegalFooter_2YSVe", FooterLegal: "legalfooter_FooterLegal_3Zkc7", mainmenu_socials_china: "legalfooter_mainmenu_socials_china_99YF1", mainmenu_social_box: "legalfooter_mainmenu_social_box_1PmFQ", mainmenu_line: "legalfooter_mainmenu_line_2idKn", mainmenu_links_china: "legalfooter_mainmenu_links_china_3SZUg", mainmenu_legal_china: "legalfooter_mainmenu_legal_china_Gz8AW", mainmenu_legal_pwlegal: "legalfooter_mainmenu_legal_pwlegal_1u5tI", mainmenu_logos_china: "legalfooter_mainmenu_logos_china_1Xxfm", mainmenu_china_wechat_logo: "legalfooter_mainmenu_china_wechat_logo_UBR1U", mainmenu_china_weibo_logo: "legalfooter_mainmenu_china_weibo_logo_24TYK", mainmenu_china_pw_logo: "legalfooter_mainmenu_china_pw_logo_2jNwb", mainmenu_china_valve_logo: "legalfooter_mainmenu_china_valve_logo_DTU_-", mainmenu_footer_spacer: "legalfooter_mainmenu_footer_spacer_yoJPd", china_spacer: "legalfooter_china_spacer_3QgUU" } }, 47605: e => { e.exports = { AppCarouselTrailerCtn: "appcarouseltrailer_AppCarouselTrailerCtn_3hJp_", AutoplayCheckbox: "appcarouseltrailer_AutoplayCheckbox_36Ep1", AppVideo: "appcarouseltrailer_AppVideo_2ykD7", AppMainCap: "appcarouseltrailer_AppMainCap_2SJkc", PlayButton: "appcarouseltrailer_PlayButton_2b7SF" } }, 97024: e => { e.exports = { DiscoveryQueueWidgetCtn: "discoveryqueuewidget_DiscoveryQueueWidgetCtn_1iOb7", WidgetHeaderCtn: "discoveryqueuewidget_WidgetHeaderCtn_3u5R_", LaunchAction: "discoveryqueuewidget_LaunchAction_1V7ho", AppCarouselPosition: "discoveryqueuewidget_AppCarouselPosition_3bu52", AppCarouselCtn: "discoveryqueuewidget_AppCarouselCtn_29s_c", WidgetHeaderText: "discoveryqueuewidget_WidgetHeaderText_uUpem", AppCapsuleCtn: "discoveryqueuewidget_AppCapsuleCtn_2dIBN", LibraryImage: "discoveryqueuewidget_LibraryImage_2C3wb", AppName: "discoveryqueuewidget_AppName_2t1rR", LoginButton: "discoveryqueuewidget_LoginButton_24bCZ", Placeholder: "discoveryqueuewidget_Placeholder_3rUZ-" } }, 54008: e => { e.exports = { "duration-app-launch": "800ms", DiscoveryQueueCarouselCtn: "discoveryqueuewizard_DiscoveryQueueCarouselCtn_1GFC6", TextLink: "discoveryqueuewizard_TextLink_1hQVC", DiscoveryQueueCarousel: "discoveryqueuewizard_DiscoveryQueueCarousel_2swWH", DiscoveryQueueApp: "discoveryqueuewizard_DiscoveryQueueApp_2o_YH", Focused: "discoveryqueuewizard_Focused_2Xpm2", DiscoveryQueueWrapper: "discoveryqueuewizard_DiscoveryQueueWrapper_1s3BJ", revealDiscoveryQueueWrapper: "discoveryqueuewizard_revealDiscoveryQueueWrapper_308QK", AppVideoCtn: "discoveryqueuewizard_AppVideoCtn_2XCS5", WishlistBadge: "discoveryqueuewizard_WishlistBadge_2vb6r", Active: "discoveryqueuewizard_Active_2EDE0", DeckVerifiedLogo: "discoveryqueuewizard_DeckVerifiedLogo_2mYU2", AppDetailsCtn: "discoveryqueuewizard_AppDetailsCtn_2E1O4", AppDetailsCtnTop: "discoveryqueuewizard_AppDetailsCtnTop_3LnWP", AppDetailsHeader: "discoveryqueuewizard_AppDetailsHeader_1Qn-x", AppLibraryHero: "discoveryqueuewizard_AppLibraryHero_1TDRh", RightColumn: "discoveryqueuewizard_RightColumn_35mWv", AppName: "discoveryqueuewizard_AppName_3KC4W", AppTagsCtn: "discoveryqueuewizard_AppTagsCtn_1t4JV", TagEntry: "discoveryqueuewizard_TagEntry_UNDKT", AppReviews: "discoveryqueuewizard_AppReviews_2lVXS", RelevantCtn: "discoveryqueuewizard_RelevantCtn_FGuCn", RelevantColumn: "discoveryqueuewizard_RelevantColumn_1HcOX", RelevantItem: "discoveryqueuewizard_RelevantItem_3I77j", RelevantCheck: "discoveryqueuewizard_RelevantCheck_qKF9P", IgnoreLink: "discoveryqueuewizard_IgnoreLink_2OinP", AppActionButtonsCtn: "discoveryqueuewizard_AppActionButtonsCtn_2bIsf", AppActionJustButtonsCtn: "discoveryqueuewizard_AppActionJustButtonsCtn_10l0M", QueueButton: "discoveryqueuewizard_QueueButton_19cHb", ButtonsRowWrap: "discoveryqueuewizard_ButtonsRowWrap_1XcPE", MainCapBlur: "discoveryqueuewizard_MainCapBlur_2TOx2", DiscoveryQueuePlaceholder: "discoveryqueuewizard_DiscoveryQueuePlaceholder_3ZUUI", IgnoredCtn: "discoveryqueuewizard_IgnoredCtn_2e3_o", IgnoredInfo: "discoveryqueuewizard_IgnoredInfo_130E6", IgnoredTitle: "discoveryqueuewizard_IgnoredTitle_1QXC5", IgnoredDescription: "discoveryqueuewizard_IgnoredDescription_3RVP5", UndoIgnoreButton: "discoveryqueuewizard_UndoIgnoreButton_wC564", AppDesc: "discoveryqueuewizard_AppDesc_3bAqJ", YGlyph: "discoveryqueuewizard_YGlyph_1SpsG", SummaryContentCtn: "discoveryqueuewizard_SummaryContentCtn_M522o", SummaryTitle: "discoveryqueuewizard_SummaryTitle_W4ekX", YourStats: "discoveryqueuewizard_YourStats_8PO3T", SummaryGrid: "discoveryqueuewizard_SummaryGrid_1b0jZ", GridItem: "discoveryqueuewizard_GridItem_12Sab", GridTitle: "discoveryqueuewizard_GridTitle_1vnt8", GridNumber: "discoveryqueuewizard_GridNumber_-Q4Ax", GridSubTitle: "discoveryqueuewizard_GridSubTitle_1FQzN", SummaryActionButtonsCtn: "discoveryqueuewizard_SummaryActionButtonsCtn_1hRNc", TopBarCtn: "discoveryqueuewizard_TopBarCtn_24gmm", revealTopBarCtn: "discoveryqueuewizard_revealTopBarCtn_2Gt6G", TopMargin: "discoveryqueuewizard_TopMargin_2xo1m", BotomBarCtn: "discoveryqueuewizard_BotomBarCtn_YW9Pr", LearnMoreLink: "discoveryqueuewizard_LearnMoreLink_3bCDZ", ControlsCtn: "discoveryqueuewizard_ControlsCtn_3UbRl", Disabled: "discoveryqueuewizard_Disabled_1yh4o", Primary: "discoveryqueuewizard_Primary_1ZYKE", Wide: "discoveryqueuewizard_Wide_SD-xU", QueueNavArrow: "discoveryqueuewizard_QueueNavArrow_1kgdo", Enable: "discoveryqueuewizard_Enable_1hqwM", RightArrow: "discoveryqueuewizard_RightArrow_1ZHCC", LeftArrow: "discoveryqueuewizard_LeftArrow_3Bctd", ReleventSimilarAppsCtn: "discoveryqueuewizard_ReleventSimilarAppsCtn_3wqiW", RecommendingCuratorsCtn: "discoveryqueuewizard_RecommendingCuratorsCtn_II031", WhyRelevant: "discoveryqueuewizard_WhyRelevant_WBWfZ", SimilarAppCtn: "discoveryqueuewizard_SimilarAppCtn_2oeoS", SimilarAppImg: "discoveryqueuewizard_SimilarAppImg_2eNyY", SimilarAppText: "discoveryqueuewizard_SimilarAppText_3MS2G", FriendAvatarsCtn: "discoveryqueuewizard_FriendAvatarsCtn_kOfo-", RelevantTextBold: "discoveryqueuewizard_RelevantTextBold_2FiP4", AppDescription: "discoveryqueuewizard_AppDescription_Kzj5I", TradingCardCtn: "discoveryqueuewizard_TradingCardCtn_36Qbj", TradingCardImage: "discoveryqueuewizard_TradingCardImage_3wa0d", Bold: "discoveryqueuewizard_Bold_1SxI5", FriendBlockCtn: "discoveryqueuewizard_FriendBlockCtn_2a8Fg", PersonaStatus: "discoveryqueuewizard_PersonaStatus_3HMhz" } }, 84788: e => { e.exports = { SuggestContainer: "storesuggest_SuggestContainer_2n5ab", Results: "storesuggest_Results__dpvO", EmptyResults: "storesuggest_EmptyResults_3BRBi", ResultSectionHeader: "storesuggest_ResultSectionHeader_23MUU", ResultRow: "storesuggest_ResultRow_3kPvF", AvatarImage: "storesuggest_AvatarImage_34zaz", GameName: "storesuggest_GameName_3DcZv", Label: "storesuggest_Label_21GTl" } }, 52589: e => { e.exports = { strMaxMobileWidth: "700px" } }, 56730: e => { e.exports = { YoutubePreviewImage: "youtubepreviewimage_YoutubePreviewImage_MzScK", YoutubePlayer: "youtubepreviewimage_YoutubePlayer_3uK6c" } }, 12399: e => { e.exports = { "duration-app-launch": "800ms", CurrentUserProfileBackground: "accountpanel_CurrentUserProfileBackground_UAXd_", CurrentUserProfileBackgroundImage: "accountpanel_CurrentUserProfileBackgroundImage_1unGU", AccountPanelPage: "accountpanel_AccountPanelPage_2KuyU", AvatarAndLabel: "accountpanel_AvatarAndLabel_lqhIk", Avatar: "accountpanel_Avatar_3pvJG", LabelHolder: "accountpanel_LabelHolder_2neyM", ChangePersonaNameContent: "accountpanel_ChangePersonaNameContent_gGeff", PersonaNameInput: "accountpanel_PersonaNameInput_3gjdc", RemoveTopPadding: "accountpanel_RemoveTopPadding_khL0i", NetworkWarning: "accountpanel_NetworkWarning_2qSRI", StatusConnected: "accountpanel_StatusConnected_2cza3", StatusDisconnected: "accountpanel_StatusDisconnected_12WAp", StatusOfflineMode: "accountpanel_StatusOfflineMode_3HZx1", Highlight: "accountpanel_Highlight_35ztZ", HasActiveSupportAlert: "accountpanel_HasActiveSupportAlert_3AB0r", ChangeAccountButton: "accountpanel_ChangeAccountButton_1ncuo", FatButton: "accountpanel_FatButton_TEWms", Label: "accountpanel_Label_3wadw", Details: "accountpanel_Details_3Wb9y", FatButtonFocus: "accountpanel_FatButtonFocus_2rd6k", RewardsDisclaimer: "accountpanel_RewardsDisclaimer_1UI0e", SteamDeckRewardsBtns: "accountpanel_SteamDeckRewardsBtns_3tNnn", "ItemFocusAnim-darkerGrey-nocolor": "accountpanel_ItemFocusAnim-darkerGrey-nocolor_1l7OT", "ItemFocusAnim-darkerGrey": "accountpanel_ItemFocusAnim-darkerGrey_33GlS", "ItemFocusAnim-darkGrey": "accountpanel_ItemFocusAnim-darkGrey_3RA0-", "ItemFocusAnim-grey": "accountpanel_ItemFocusAnim-grey_2-K6V", "ItemFocusAnimBorder-darkGrey": "accountpanel_ItemFocusAnimBorder-darkGrey_29K66", "ItemFocusAnim-green": "accountpanel_ItemFocusAnim-green_xHTgV" } }, 65049: e => { e.exports = { "duration-app-launch": "800ms", headerPadding: "40px", Header: "basicappdetailssectionstyler_Header_1IW9p", AppDetailsContent: "basicappdetailssectionstyler_AppDetailsContent_17iCv", AppDetailsContainer: "basicappdetailssectionstyler_AppDetailsContainer_2-ns_", AppDetailsRoot: "basicappdetailssectionstyler_AppDetailsRoot_3fp5y", GameInfoContainer: "basicappdetailssectionstyler_GameInfoContainer_pzBMd", GameInfoQuickLinks: "basicappdetailssectionstyler_GameInfoQuickLinks_2GqvV", GameInfoCollections: "basicappdetailssectionstyler_GameInfoCollections_32SD3", CollectionsHeader: "basicappdetailssectionstyler_CollectionsHeader_3hW5F", PlaySection: "basicappdetailssectionstyler_PlaySection_3scbH", ActionRow: "basicappdetailssectionstyler_ActionRow_2Gj21", AppDetailSectionList: "basicappdetailssectionstyler_AppDetailSectionList_1nTD-", AppActionButton: "basicappdetailssectionstyler_AppActionButton_QsZdW", ActionButtonAndStatusPanel: "basicappdetailssectionstyler_ActionButtonAndStatusPanel_1fHBR", AppButtons: "basicappdetailssectionstyler_AppButtons_1thLD", InvertFocusedIcon: "basicappdetailssectionstyler_InvertFocusedIcon_3uJLN", DeckVerifiedFeedbackContainer: "basicappdetailssectionstyler_DeckVerifiedFeedbackContainer_3Y8xV", DeckVerifiedFeedbackConfirmationContainer: "basicappdetailssectionstyler_DeckVerifiedFeedbackConfirmationContainer_3G0l_", DeckVerifiedFeedbackButton: "basicappdetailssectionstyler_DeckVerifiedFeedbackButton_2F-oC", DeckVerifiedFeedbackQuestion: "basicappdetailssectionstyler_DeckVerifiedFeedbackQuestion_r0XD8", DeckVerifiedFeedbackConfirmation: "basicappdetailssectionstyler_DeckVerifiedFeedbackConfirmation_2ddhh" } }, 51237: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", LayoutAppImageAndControls: "basicappoverlaygameapiosk_LayoutAppImageAndControls_3RVnN", LayoutAppImage: "basicappoverlaygameapiosk_LayoutAppImage_14pNH", BackgroundGlass: "basicappoverlaygameapiosk_BackgroundGlass_224PZ", MenuOpen: "basicappoverlaygameapiosk_MenuOpen_3l3hj", ViewPlaceholder: "basicappoverlaygameapiosk_ViewPlaceholder_3EvZ9", "ItemFocusAnim-darkerGrey-nocolor": "basicappoverlaygameapiosk_ItemFocusAnim-darkerGrey-nocolor_37bk4", "ItemFocusAnim-darkerGrey": "basicappoverlaygameapiosk_ItemFocusAnim-darkerGrey_G-gDL", "ItemFocusAnim-darkGrey": "basicappoverlaygameapiosk_ItemFocusAnim-darkGrey_1GwPY", "ItemFocusAnim-grey": "basicappoverlaygameapiosk_ItemFocusAnim-grey_HQ_7E", "ItemFocusAnimBorder-darkGrey": "basicappoverlaygameapiosk_ItemFocusAnimBorder-darkGrey_2ZlhX", "ItemFocusAnim-green": "basicappoverlaygameapiosk_ItemFocusAnim-green_36Hdi", focusAnimation: "basicappoverlaygameapiosk_focusAnimation_2PKn1", hoverAnimation: "basicappoverlaygameapiosk_hoverAnimation_1pHKc" } }, 3903: e => { e.exports = { "duration-app-launch": "800ms", BasicContextMenuModal: "basiccontextmenu_BasicContextMenuModal_1UaeK", BasicContextMenuHeader: "basiccontextmenu_BasicContextMenuHeader_2nHKK", BasicContextMenuHeaderShrinkableSpacing: "basiccontextmenu_BasicContextMenuHeaderShrinkableSpacing_XRSyO", BasicContextMenuContainer: "basiccontextmenu_BasicContextMenuContainer_2dUDj", slideInAnimation: "basiccontextmenu_slideInAnimation_24nxp", contextMenu: "basiccontextmenu_contextMenu_34FKE", contextMenuContents: "basiccontextmenu_contextMenuContents_TBSbv", hasSubMenu: "basiccontextmenu_hasSubMenu_1Mql2", contextMenuFade: "basiccontextmenu_contextMenuFade_3X9rz", contextMenuItem: "basiccontextmenu_contextMenuItem_3PqLg", active: "basiccontextmenu_active_27ULO", Selected: "basiccontextmenu_Selected_iWaEr", Focused: "basiccontextmenu_Focused_3t3Zg", Positive: "basiccontextmenu_Positive_EHc8j", Emphasis: "basiccontextmenu_Emphasis_18Tra", Destructive: "basiccontextmenu_Destructive_Uob7D", Capitalized: "basiccontextmenu_Capitalized_290Hf", MenuSectionHeader: "basiccontextmenu_MenuSectionHeader_mLQRR", UpperCase: "basiccontextmenu_UpperCase_3fI-E", SubMenu: "basiccontextmenu_SubMenu_3O4Ic", ContextMenuSeparator: "basiccontextmenu_ContextMenuSeparator_zVMb1", Label: "basiccontextmenu_Label_wxa2v", Arrow: "basiccontextmenu_Arrow_1MkBi", "ItemFocusAnim-darkerGrey-nocolor": "basiccontextmenu_ItemFocusAnim-darkerGrey-nocolor_82mxd", "ItemFocusAnim-darkerGrey": "basiccontextmenu_ItemFocusAnim-darkerGrey_3R1Vy", "ItemFocusAnim-darkGrey": "basiccontextmenu_ItemFocusAnim-darkGrey_1aOqB", "ItemFocusAnim-grey": "basiccontextmenu_ItemFocusAnim-grey_1A6Tz", "ItemFocusAnimBorder-darkGrey": "basiccontextmenu_ItemFocusAnimBorder-darkGrey_1oGyE", "ItemFocusAnim-green": "basiccontextmenu_ItemFocusAnim-green_3xk21", focusAnimation: "basiccontextmenu_focusAnimation_ahtC0", hoverAnimation: "basiccontextmenu_hoverAnimation_1mHxN" } }, 72029: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", ItemMarginRight: "12px", CarouselHorizontalPadding: "2.8vw", CarouselTopPadding: "12px", CarouselBottomPadding: "16px", LabelHeight: "52px", BasicGameCarousel: "basicgamecarousel_BasicGameCarousel_3MdH5", BasicGameCarouselItem: "basicgamecarousel_BasicGameCarouselItem_3YYQ9", TextBoxCarouselContents: "basicgamecarousel_TextBoxCarouselContents_3bvCH", BasicGameCarouselItemMediaContainer: "basicgamecarousel_BasicGameCarouselItemMediaContainer_1HIFN", Featured: "basicgamecarousel_Featured_2eJEJ", CarouselCapsuleBackgroundGlow: "basicgamecarousel_CarouselCapsuleBackgroundGlow_1H3Kf", IsFocused: "basicgamecarousel_IsFocused_2KPrM", CarouselGameLabelWrapper: "basicgamecarousel_CarouselGameLabelWrapper_ZkD6W", CarouselGameLabel: "basicgamecarousel_CarouselGameLabel_3CKji", ActionIcon: "basicgamecarousel_ActionIcon_25Qbo", Play: "basicgamecarousel_Play_12eKc", SubMessage: "basicgamecarousel_SubMessage_1BtXg", FriendsInGame: "basicgamecarousel_FriendsInGame_3z5U1", EmptyLibraryCarouselItem: "basicgamecarousel_EmptyLibraryCarouselItem_2utGW", FeaturedSeparator: "basicgamecarousel_FeaturedSeparator_1qOWM", "ItemFocusAnim-darkerGrey-nocolor": "basicgamecarousel_ItemFocusAnim-darkerGrey-nocolor_1TfVR", "ItemFocusAnim-darkerGrey": "basicgamecarousel_ItemFocusAnim-darkerGrey_1Rmth", "ItemFocusAnim-darkGrey": "basicgamecarousel_ItemFocusAnim-darkGrey_19Z0V", "ItemFocusAnim-grey": "basicgamecarousel_ItemFocusAnim-grey_3rDSK", "ItemFocusAnimBorder-darkGrey": "basicgamecarousel_ItemFocusAnimBorder-darkGrey_1NwnK", "ItemFocusAnim-green": "basicgamecarousel_ItemFocusAnim-green_2kN1s", focusAnimation: "basicgamecarousel_focusAnimation_3n5Qz", hoverAnimation: "basicgamecarousel_hoverAnimation_3tXiS" } }, 97622: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", OverlayTransitionDurationMS: "0ms", OverlayTransitionDelayMS: "0ms", Container: "basiclibrary_Container_3ub8a", IsResizingLeftList: "basiclibrary_IsResizingLeftList_37s6g", PreloadThrobber: "basiclibrary_PreloadThrobber_1T7P8", LibraryContextMenu: "basiclibrary_LibraryContextMenu_l8b-x", MainPanel: "basiclibrary_MainPanel_1iWOJ", NewCollectionTarget: "basiclibrary_NewCollectionTarget_1ooO9", Visible: "basiclibrary_Visible_ir4VX", TopGradient: "basiclibrary_TopGradient_LBFsv", LibraryWindowDivider: "basiclibrary_LibraryWindowDivider_2sl_l", Sizable: "basiclibrary_Sizable_1fn9c", LeftListSizableContainer: "basiclibrary_LeftListSizableContainer_298_N", AppDetailsTransitionGroup: "basiclibrary_AppDetailsTransitionGroup_1PY8F", PartnerEventOverlayContainer: "basiclibrary_PartnerEventOverlayContainer_1iFoU", TransitionWrapper: "basiclibrary_TransitionWrapper_1_fls", OverlayAppDetailsTransitionEnter: "basiclibrary_OverlayAppDetailsTransitionEnter_nnJkB", OverlayAppDetailsTransitionEnterActive: "basiclibrary_OverlayAppDetailsTransitionEnterActive_IAQso", OverlayAppDetailsTransitionEntered: "basiclibrary_OverlayAppDetailsTransitionEntered_3pmme", OverlayAppDetailsTransitionExit: "basiclibrary_OverlayAppDetailsTransitionExit_1m-TH", OverlayAppDetailsTransitionExitActive: "basiclibrary_OverlayAppDetailsTransitionExitActive_XpaHL", AppDetailsMain: "basiclibrary_AppDetailsMain_1DLmE", AppDetailsTransitionEnter: "basiclibrary_AppDetailsTransitionEnter_2KAzT", AppDetailsTransitionEnterActive: "basiclibrary_AppDetailsTransitionEnterActive_mSn5V", AppDetailsTransitionEntered: "basiclibrary_AppDetailsTransitionEntered_KUIE5", AppDetailsTransitionExit: "basiclibrary_AppDetailsTransitionExit_24bPT", AppDetailsTransitionExitActive: "basiclibrary_AppDetailsTransitionExitActive_qiAMu", ContextMenuAction: "basiclibrary_ContextMenuAction_1Fx8A", SettingsZooButtonContainer: "basiclibrary_SettingsZooButtonContainer_3p491", SettingsZooButton: "basiclibrary_SettingsZooButton_3FUqN", UnimplementedTitle: "basiclibrary_UnimplementedTitle_39tIO", DeveloperPlaceholderButton: "basiclibrary_DeveloperPlaceholderButton_2hXAZ", SettingsPanel: "basiclibrary_SettingsPanel_3bKcR", MainBrowser: "basiclibrary_MainBrowser_2RXjS", SteamDeckIFrameLoadingFooterCallout: "basiclibrary_SteamDeckIFrameLoadingFooterCallout_1k-q7", "ItemFocusAnim-darkerGrey-nocolor": "basiclibrary_ItemFocusAnim-darkerGrey-nocolor_1BFat", "ItemFocusAnim-darkerGrey": "basiclibrary_ItemFocusAnim-darkerGrey_ijdld", "ItemFocusAnim-darkGrey": "basiclibrary_ItemFocusAnim-darkGrey_GyaWs", "ItemFocusAnim-grey": "basiclibrary_ItemFocusAnim-grey_2PA3k", "ItemFocusAnimBorder-darkGrey": "basiclibrary_ItemFocusAnimBorder-darkGrey_3PfTC", "ItemFocusAnim-green": "basiclibrary_ItemFocusAnim-green_1dlW4", focusAnimation: "basiclibrary_focusAnimation_34MYJ", hoverAnimation: "basiclibrary_hoverAnimation_c-g-4" } }, 80315: e => { e.exports = { GiantHeading: "basiclibrarysettingszoo_GiantHeading_2BoYW", HeadingEmphasis: "basiclibrarysettingszoo_HeadingEmphasis_2LH9p", Heading: "basiclibrarysettingszoo_Heading_3emI9", HeadingSmall: "basiclibrarysettingszoo_HeadingSmall_2pGOe", Label: "basiclibrarysettingszoo_Label_2LN-b", SubHeading: "basiclibrarysettingszoo_SubHeading_3oKIi", BodyExtrabold: "basiclibrarysettingszoo_BodyExtrabold_typvr", BodyEmphasis: "basiclibrarysettingszoo_BodyEmphasis_3bFF3", Body: "basiclibrarysettingszoo_Body_2l_9H", BodyItalic: "basiclibrarysettingszoo_BodyItalic_2HqWD", BodySmall: "basiclibrarysettingszoo_BodySmall_4u2C7", MicroHeading: "basiclibrarysettingszoo_MicroHeading_1-erG", Description: "basiclibrarysettingszoo_Description_2yDos", StartupAnimationContainer: "basiclibrarysettingszoo_StartupAnimationContainer_3WiRj" } }, 72684: e => { e.exports = { "duration-app-launch": "800ms", VolumePopin: "audio_VolumePopin_2iUUM", VolumePopinHidden: "audio_VolumePopinHidden_1OwmL", VolumeSliderPosition: "audio_VolumeSliderPosition_1_hv3", VolumeSliderLabel: "audio_VolumeSliderLabel_262HY" } }, 22097: e => { e.exports = { "duration-app-launch": "800ms", BackgroundGlass: "backgroundglass_BackgroundGlass_3rsrz", Visible: "backgroundglass_Visible_fSM7w", DrawBackground: "backgroundglass_DrawBackground_2NQoF", Blur: "backgroundglass_Blur_N9sQL", "ItemFocusAnim-darkerGrey-nocolor": "backgroundglass_ItemFocusAnim-darkerGrey-nocolor_2L29L", "ItemFocusAnim-darkerGrey": "backgroundglass_ItemFocusAnim-darkerGrey_1FyWS", "ItemFocusAnim-darkGrey": "backgroundglass_ItemFocusAnim-darkGrey_NnnDe", "ItemFocusAnim-grey": "backgroundglass_ItemFocusAnim-grey_27ndv", "ItemFocusAnimBorder-darkGrey": "backgroundglass_ItemFocusAnimBorder-darkGrey_12RoZ", "ItemFocusAnim-green": "backgroundglass_ItemFocusAnim-green_1R9y4", focusAnimation: "backgroundglass_focusAnimation_3dNcL", hoverAnimation: "backgroundglass_hoverAnimation_1RhFn" } }, 41251: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", GameCapsule: "gamecapsule_GameCapsule_fXdhj", BottomBar: "gamecapsule_BottomBar_3-GyQ", DeckCompat: "gamecapsule_DeckCompat_Tl-6l", PriceCtn: "gamecapsule_PriceCtn_2E-mS", IgnoredApp: "gamecapsule_IgnoredApp_2Ubdj", PriceWrapper: "gamecapsule_PriceWrapper_2DRyA", Discount: "gamecapsule_Discount_2bV_6", OriginalPrice: "gamecapsule_OriginalPrice_3e5vN", DiscountedPrice: "gamecapsule_DiscountedPrice_3WwXH", Friends: "gamecapsule_Friends_3gKVI", Avatar: "gamecapsule_Avatar_3H_re", Remainder: "gamecapsule_Remainder_1RyQj", RemainderText: "gamecapsule_RemainderText_1Yfh8", InLibrary: "gamecapsule_InLibrary_fyHna", BurgerWrapper: "gamecapsule_BurgerWrapper_2PVqu", "ItemFocusAnim-darkerGrey-nocolor": "gamecapsule_ItemFocusAnim-darkerGrey-nocolor_2VXBF", "ItemFocusAnim-darkerGrey": "gamecapsule_ItemFocusAnim-darkerGrey_3CTF3", "ItemFocusAnim-darkGrey": "gamecapsule_ItemFocusAnim-darkGrey_3a3rS", "ItemFocusAnim-grey": "gamecapsule_ItemFocusAnim-grey_JclHv", "ItemFocusAnimBorder-darkGrey": "gamecapsule_ItemFocusAnimBorder-darkGrey_2v-py", "ItemFocusAnim-green": "gamecapsule_ItemFocusAnim-green_1Pxdv", focusAnimation: "gamecapsule_focusAnimation_2bQaB", hoverAnimation: "gamecapsule_hoverAnimation_lbpZQ" } }, 79507: e => { e.exports = { ActivateProductHeading: "activateproductdialog_ActivateProductHeading_1VqfX", ActivateProductPromptContent: "activateproductdialog_ActivateProductPromptContent_Rzy-_", InfoIcon: "activateproductdialog_InfoIcon_8Uz6L", HeaderContainer: "activateproductdialog_HeaderContainer_2IWpf", InfoIconContainer: "activateproductdialog_InfoIconContainer_3sqYF", ModalHeader: "activateproductdialog_ModalHeader_3jYlt", CloseButtonContainer: "activateproductdialog_CloseButtonContainer_2CKq4", CodeInput: "activateproductdialog_CodeInput_2Jbju", SSAPopupContainer: "activateproductdialog_SSAPopupContainer_1owkF", AgreementPrompt: "activateproductdialog_AgreementPrompt_2YRcW", SSAContainer: "activateproductdialog_SSAContainer_3m3ry", ProductActivationInfoContainer: "activateproductdialog_ProductActivationInfoContainer_1Amz7", InfoBody: "activateproductdialog_InfoBody_1fFig", InfoExampleHeader: "activateproductdialog_InfoExampleHeader_3kLa_", InfoExample: "activateproductdialog_InfoExample_2sEmB", InfoAcceptButton: "activateproductdialog_InfoAcceptButton_1RNTR", ActivateResultContainer: "activateproductdialog_ActivateResultContainer_3E6rB", ResultBody: "activateproductdialog_ResultBody_1aSkO", ResultAcceptButton: "activateproductdialog_ResultAcceptButton_2Zs0B", "ItemFocusAnim-darkerGrey-nocolor": "activateproductdialog_ItemFocusAnim-darkerGrey-nocolor_3monw", "ItemFocusAnim-darkerGrey": "activateproductdialog_ItemFocusAnim-darkerGrey_2IdUB", "ItemFocusAnim-darkGrey": "activateproductdialog_ItemFocusAnim-darkGrey_15oaF", "ItemFocusAnim-grey": "activateproductdialog_ItemFocusAnim-grey_JwVsB", "ItemFocusAnimBorder-darkGrey": "activateproductdialog_ItemFocusAnimBorder-darkGrey_3qlN4", "ItemFocusAnim-green": "activateproductdialog_ItemFocusAnim-green_2xKW5", focusAnimation: "activateproductdialog_focusAnimation_2iqFb", hoverAnimation: "activateproductdialog_hoverAnimation_2QPcj" } }, 69862: e => { e.exports = { "duration-app-launch": "800ms", CaptivePortalBrowserViewContainer: "captiveportaldialog_CaptivePortalBrowserViewContainer_3UTt2", CaptivePortalBrowserView: "captiveportaldialog_CaptivePortalBrowserView_1OG5S", CaptivePortalDialogBodyPanel: "captiveportaldialog_CaptivePortalDialogBodyPanel_2-5Mb", TopBar: "captiveportaldialog_TopBar_vEjyN", BottomBar: "captiveportaldialog_BottomBar_2GceJ", URL: "captiveportaldialog_URL_23fbJ", Controls: "captiveportaldialog_Controls_3cEd_" } }, 46278: e => { e.exports = { "duration-app-launch": "800ms", Dialog: "displayscaledialog_Dialog_25KHn", YouCanChangeThisLater: "displayscaledialog_YouCanChangeThisLater_LDYUg", Glyph: "displayscaledialog_Glyph_106Kh", SectionSeparator: "displayscaledialog_SectionSeparator_3BK5o" } }, 71972: e => { e.exports = { "duration-app-launch": "800ms", HardwareSurveyDialog: "hardwaresurveydialog_HardwareSurveyDialog_3v2Gg", Prompt: "hardwaresurveydialog_Prompt_2TaU1", HardwareSurveySections: "hardwaresurveydialog_HardwareSurveySections_3f3VJ", HardwareSurveySection: "hardwaresurveydialog_HardwareSurveySection_RRhNQ", "ItemFocusAnim-darkerGrey-nocolor": "hardwaresurveydialog_ItemFocusAnim-darkerGrey-nocolor_32hdK", "ItemFocusAnim-darkerGrey": "hardwaresurveydialog_ItemFocusAnim-darkerGrey_1_XGy", "ItemFocusAnim-darkGrey": "hardwaresurveydialog_ItemFocusAnim-darkGrey_1s9Ek", "ItemFocusAnim-grey": "hardwaresurveydialog_ItemFocusAnim-grey_XSPiF", "ItemFocusAnimBorder-darkGrey": "hardwaresurveydialog_ItemFocusAnimBorder-darkGrey_1OOqa", "ItemFocusAnim-green": "hardwaresurveydialog_ItemFocusAnim-green_1TK5S", focusAnimation: "hardwaresurveydialog_focusAnimation_5qZLW", hoverAnimation: "hardwaresurveydialog_hoverAnimation_3gQeK" } }, 99837: e => { e.exports = { "duration-app-launch": "800ms", PasswordPromptContent: "networkconnectiondialog_PasswordPromptContent_2JbBH", DialogError: "networkconnectiondialog_DialogError_20iwB", Header: "networkconnectiondialog_Header_3RDxH", ConnectingProgressIcons: "networkconnectiondialog_ConnectingProgressIcons_3RZKn", ConnectingProgressIcon: "networkconnectiondialog_ConnectingProgressIcon_30-5V", SteamPalIcon: "networkconnectiondialog_SteamPalIcon_30Mi1", ProgressNetworkIcon: "networkconnectiondialog_ProgressNetworkIcon_3n-Xc", ConnectingProgressText: "networkconnectiondialog_ConnectingProgressText_14J8I", ConnectingThrobberContainer: "networkconnectiondialog_ConnectingThrobberContainer_2bTNE", Failed: "networkconnectiondialog_Failed_1KgSA", ConnectingThrobber: "networkconnectiondialog_ConnectingThrobber_2n5Ds", ConnectingThrobberKeyframes: "networkconnectiondialog_ConnectingThrobberKeyframes_9vWT6", ConnectingProgressIconContainer: "networkconnectiondialog_ConnectingProgressIconContainer_2QaJd", ConnectionStatus: "networkconnectiondialog_ConnectionStatus_32AQ-", ConnectionStatusText: "networkconnectiondialog_ConnectionStatusText_ZHuww", "ItemFocusAnim-darkerGrey-nocolor": "networkconnectiondialog_ItemFocusAnim-darkerGrey-nocolor_1DdQU", "ItemFocusAnim-darkerGrey": "networkconnectiondialog_ItemFocusAnim-darkerGrey_2LYXg", "ItemFocusAnim-darkGrey": "networkconnectiondialog_ItemFocusAnim-darkGrey_3i3m6", "ItemFocusAnim-grey": "networkconnectiondialog_ItemFocusAnim-grey_1AOmE", "ItemFocusAnimBorder-darkGrey": "networkconnectiondialog_ItemFocusAnimBorder-darkGrey_2Q-AE", "ItemFocusAnim-green": "networkconnectiondialog_ItemFocusAnim-green_39lWn", focusAnimation: "networkconnectiondialog_focusAnimation_2M2uH", hoverAnimation: "networkconnectiondialog_hoverAnimation_2PyVf" } }, 66472: e => { e.exports = { "duration-app-launch": "800ms", InfoDialogBody: "networkinfodialog_InfoDialogBody_qI9gE", Header: "networkinfodialog_Header_15P3O", CenteredHeader: "networkinfodialog_CenteredHeader_1sHVb" } }, 19067: e => { e.exports = { FriendInviteOverlayDialog: "overlaydialogs_FriendInviteOverlayDialog_1EZ0U", FriendOverlayDialogUser: "overlaydialogs_FriendOverlayDialogUser_3s3J6", Avatar: "overlaydialogs_Avatar_r382a", PersonaName: "overlaydialogs_PersonaName_3kzMQ", SearchFriendInput: "overlaydialogs_SearchFriendInput_2EjJw", FriendsListContainer: "overlaydialogs_FriendsListContainer_3H736", FriendsList: "overlaydialogs_FriendsList_3s3Qu", FriendSelector: "overlaydialogs_FriendSelector_3RbGK", Invited: "overlaydialogs_Invited_27w4g", FullWidthPersona: "overlaydialogs_FullWidthPersona_2hp2E", "ItemFocusAnim-darkerGrey-nocolor": "overlaydialogs_ItemFocusAnim-darkerGrey-nocolor_2QCoK", "ItemFocusAnim-darkerGrey": "overlaydialogs_ItemFocusAnim-darkerGrey_2OGUb", "ItemFocusAnim-darkGrey": "overlaydialogs_ItemFocusAnim-darkGrey_3zcHL", "ItemFocusAnim-grey": "overlaydialogs_ItemFocusAnim-grey_2Swgr", "ItemFocusAnimBorder-darkGrey": "overlaydialogs_ItemFocusAnimBorder-darkGrey_1wi2i", "ItemFocusAnim-green": "overlaydialogs_ItemFocusAnim-green_33vOu", focusAnimation: "overlaydialogs_focusAnimation_1Y1_Q", hoverAnimation: "overlaydialogs_hoverAnimation_39vl6" } }, 35326: e => { e.exports = { ProxyPromptContent: "proxysettingsdialog_ProxyPromptContent_36-dS" } }, 45244: e => { e.exports = { BrowserWrapper: "supportalerts_BrowserWrapper_14nHy" } }, 47973: e => { e.exports = { ErrorConditionBackground: "errorconditionpanel_ErrorConditionBackground_3bFji", ErrorConditionContainer: "errorconditionpanel_ErrorConditionContainer_1C84l", Header: "errorconditionpanel_Header_2zUgH", SubHeader: "errorconditionpanel_SubHeader_jcmDt", Reason: "errorconditionpanel_Reason_1Mtp-", "ItemFocusAnim-darkerGrey-nocolor": "errorconditionpanel_ItemFocusAnim-darkerGrey-nocolor_13ptQ", "ItemFocusAnim-darkerGrey": "errorconditionpanel_ItemFocusAnim-darkerGrey_3MsGx", "ItemFocusAnim-darkGrey": "errorconditionpanel_ItemFocusAnim-darkGrey_1j9nn", "ItemFocusAnim-grey": "errorconditionpanel_ItemFocusAnim-grey_16VK0", "ItemFocusAnimBorder-darkGrey": "errorconditionpanel_ItemFocusAnimBorder-darkGrey_M79F3", "ItemFocusAnim-green": "errorconditionpanel_ItemFocusAnim-green_WMsRM", focusAnimation: "errorconditionpanel_focusAnimation_3TdJm", hoverAnimation: "errorconditionpanel_hoverAnimation_Q8X4u" } }, 61992: e => { e.exports = { "duration-app-launch": "800ms", HeaderHeightVisible: "40px", BasicUiRoot: "gamepadui_BasicUiRoot_gbo6E", StandaloneConfigurator: "gamepadui_StandaloneConfigurator_1oZO8", MainNavMenuMainSplit: "gamepadui_MainNavMenuMainSplit_2Y_Mr", BasicHome: "gamepadui_BasicHome_3LYP1", OpaqueBackground: "gamepadui_OpaqueBackground_b084m", TransparentBackground: "gamepadui_TransparentBackground_3vBmc", Content: "gamepadui_Content_1FxmN", MainNavMenuAnchor: "gamepadui_MainNavMenuAnchor_vI9jJ", QuickAccessMenuAnchor: "gamepadui_QuickAccessMenuAnchor_1zGXS", GamepadDialogOverlay: "gamepadui_GamepadDialogOverlay_34Euf", "ItemFocusAnim-darkerGrey-nocolor": "gamepadui_ItemFocusAnim-darkerGrey-nocolor_2K5n7", "ItemFocusAnim-darkerGrey": "gamepadui_ItemFocusAnim-darkerGrey_1j50D", "ItemFocusAnim-darkGrey": "gamepadui_ItemFocusAnim-darkGrey_Uw7dg", "ItemFocusAnim-grey": "gamepadui_ItemFocusAnim-grey_20y-A", "ItemFocusAnimBorder-darkGrey": "gamepadui_ItemFocusAnimBorder-darkGrey_V_1Ah", "ItemFocusAnim-green": "gamepadui_ItemFocusAnim-green_2-Gwv", focusAnimation: "gamepadui_focusAnimation_3Nek3", hoverAnimation: "gamepadui_hoverAnimation_1XRHv" } }, 41716: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", OverlayPosition: "gamepaduiappoverlay_OverlayPosition_2D-LG", DarkBackground: "gamepaduiappoverlay_DarkBackground_EZCFR", BackgroundGlass: "gamepaduiappoverlay_BackgroundGlass_39CWY", MenuOpen: "gamepaduiappoverlay_MenuOpen_2rtdK", ViewPlaceholder: "gamepaduiappoverlay_ViewPlaceholder_t2T-R", "ItemFocusAnim-darkerGrey-nocolor": "gamepaduiappoverlay_ItemFocusAnim-darkerGrey-nocolor_39GjO", "ItemFocusAnim-darkerGrey": "gamepaduiappoverlay_ItemFocusAnim-darkerGrey_B6lpr", "ItemFocusAnim-darkGrey": "gamepaduiappoverlay_ItemFocusAnim-darkGrey_2wCmi", "ItemFocusAnim-grey": "gamepaduiappoverlay_ItemFocusAnim-grey_2JZwU", "ItemFocusAnimBorder-darkGrey": "gamepaduiappoverlay_ItemFocusAnimBorder-darkGrey_1S_5Q", "ItemFocusAnim-green": "gamepaduiappoverlay_ItemFocusAnim-green_1rFjG", focusAnimation: "gamepaduiappoverlay_focusAnimation_2CePe", hoverAnimation: "gamepaduiappoverlay_hoverAnimation_3LyJU" } }, 70333: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", DismissTime: "500ms", DeskJobPromo: "deskjobpromo_DeskJobPromo_1a64a", Loaded: "deskjobpromo_Loaded_hqk39", Dismissing: "deskjobpromo_Dismissing_1PUhU", Banner: "deskjobpromo_Banner_1dCX6", Text: "deskjobpromo_Text_DwKY2", Title: "deskjobpromo_Title_3djUk", SubTitle: "deskjobpromo_SubTitle_3hsNX", "ItemFocusAnim-darkerGrey-nocolor": "deskjobpromo_ItemFocusAnim-darkerGrey-nocolor_3HVm-", "ItemFocusAnim-darkerGrey": "deskjobpromo_ItemFocusAnim-darkerGrey_MoCFA", "ItemFocusAnim-darkGrey": "deskjobpromo_ItemFocusAnim-darkGrey_JORzh", "ItemFocusAnim-grey": "deskjobpromo_ItemFocusAnim-grey_12UDt", "ItemFocusAnimBorder-darkGrey": "deskjobpromo_ItemFocusAnimBorder-darkGrey_2N3Yo", "ItemFocusAnim-green": "deskjobpromo_ItemFocusAnim-green_3kAGV", focusAnimation: "deskjobpromo_focusAnimation_2CLZI", hoverAnimation: "deskjobpromo_hoverAnimation_1bWTT" } }, 15522: e => { e.exports = { "duration-app-launch": "800ms", BasicFooter: "footer_BasicFooter_3T1iF", FooterLegend: "footer_FooterLegend_2JJDH", WithKeyboard: "footer_WithKeyboard_1fMXT", QuickAccessFooter: "footer_QuickAccessFooter_VdbQ_", Item: "footer_Item_wesFG", Spacer: "footer_Spacer_j7NCO", PillShapedIcon: "footer_PillShapedIcon_1aE5r", "ItemFocusAnim-darkerGrey-nocolor": "footer_ItemFocusAnim-darkerGrey-nocolor_2QFXM", "ItemFocusAnim-darkerGrey": "footer_ItemFocusAnim-darkerGrey_2iz7H", "ItemFocusAnim-darkGrey": "footer_ItemFocusAnim-darkGrey_1KI4F", "ItemFocusAnim-grey": "footer_ItemFocusAnim-grey_m5Tj5", "ItemFocusAnimBorder-darkGrey": "footer_ItemFocusAnimBorder-darkGrey_2BcxU", "ItemFocusAnim-green": "footer_ItemFocusAnim-green_1NSCS", focusAnimation: "footer_focusAnimation_3W0CU", hoverAnimation: "footer_hoverAnimation_PPoYB" } }, 11237: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", "ItemFocusAnim-darkerGrey-nocolor": "friendactivityfeed_ItemFocusAnim-darkerGrey-nocolor_inCgQ", "ItemFocusAnim-darkerGrey": "friendactivityfeed_ItemFocusAnim-darkerGrey_DpvLe", "ItemFocusAnim-darkGrey": "friendactivityfeed_ItemFocusAnim-darkGrey_Vjsvf", "ItemFocusAnim-grey": "friendactivityfeed_ItemFocusAnim-grey_1rt1h", "ItemFocusAnimBorder-darkGrey": "friendactivityfeed_ItemFocusAnimBorder-darkGrey_2Mp19", "ItemFocusAnim-green": "friendactivityfeed_ItemFocusAnim-green_V6354", focusAnimation: "friendactivityfeed_focusAnimation_1e5ga", hoverAnimation: "friendactivityfeed_hoverAnimation_3OK_U" } }, 92520: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", headerPadding: "40px", contentBottomPadding: "36px", RecentSection: "gamepadhome_RecentSection_39tNv", TabbedContent: "gamepadhome_TabbedContent_cE1Sa", ScrollArea: "gamepadhome_ScrollArea_3PhGY", BackstackRootTest: "gamepadhome_BackstackRootTest_2yiqT" } }, 65570: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", FavoriteCarouselItemMargin: "10px", FavoriteCarouselItemWidth: "206px", FavoriteCarouselItemHeight: "62px", InGameCarouselItemMargin: "10px", InGameCarouselItemWidth: "378px", InGameCarouselItemHeight: "152px", LibraryHomeFriends: "gamepadhomefriends_LibraryHomeFriends_1UEO4", FriendsHeader: "gamepadhomefriends_FriendsHeader_1Ejje", FavoritesCarousel: "gamepadhomefriends_FavoritesCarousel_3YXPk", InGameCarousel: "gamepadhomefriends_InGameCarousel_14Ub4", FavoriteFriend: "gamepadhomefriends_FavoriteFriend_3SLpz", GoToFriends: "gamepadhomefriends_GoToFriends_MVc_6", InGameGame: "gamepadhomefriends_InGameGame_KLo2n", GamepageHomeFriendsPlaying: "gamepadhomefriends_GamepageHomeFriendsPlaying_1xrOZ", CoverImageWrapper: "gamepadhomefriends_CoverImageWrapper_2KbRG", CoverImage: "gamepadhomefriends_CoverImage_3SB-C", RightSide: "gamepadhomefriends_RightSide_1rAs4", Title: "gamepadhomefriends_Title_EZ-F-", FriendsPlaying: "gamepadhomefriends_FriendsPlaying_15rrZ", InLibrary: "gamepadhomefriends_InLibrary_ho5Qo", Remainder: "gamepadhomefriends_Remainder_3V3kw", RemainderInner: "gamepadhomefriends_RemainderInner_bKm14", "ItemFocusAnim-darkerGrey-nocolor": "gamepadhomefriends_ItemFocusAnim-darkerGrey-nocolor_3GXVs", "ItemFocusAnim-darkerGrey": "gamepadhomefriends_ItemFocusAnim-darkerGrey_2DFF8", "ItemFocusAnim-darkGrey": "gamepadhomefriends_ItemFocusAnim-darkGrey_1CoYB", "ItemFocusAnim-grey": "gamepadhomefriends_ItemFocusAnim-grey_3FBZK", "ItemFocusAnimBorder-darkGrey": "gamepadhomefriends_ItemFocusAnimBorder-darkGrey_cDlSE", "ItemFocusAnim-green": "gamepadhomefriends_ItemFocusAnim-green_2P8J7", focusAnimation: "gamepadhomefriends_focusAnimation_RVo-4", hoverAnimation: "gamepadhomefriends_hoverAnimation_3wyIs" } }, 56452: e => { e.exports = { "duration-app-launch": "800ms", RecentGamesContainer: "gamepadhomerecentgames_RecentGamesContainer_2_cRk", RecentGamesInnerContainer: "gamepadhomerecentgames_RecentGamesInnerContainer_282X0", RecentGamesHeader: "gamepadhomerecentgames_RecentGamesHeader_35iRe", RecentGamesBackgroundImage: "gamepadhomerecentgames_RecentGamesBackgroundImage_3Mp8R", OffScreen: "gamepadhomerecentgames_OffScreen_Yk-I2", MoveLeft: "gamepadhomerecentgames_MoveLeft_30M_n", InLeft2: "gamepadhomerecentgames_InLeft2_1-Jey", MoveRight: "gamepadhomerecentgames_MoveRight_3dyds", InRight2: "gamepadhomerecentgames_InRight2_Ji84a", InRight: "gamepadhomerecentgames_InRight_1HKCB", InLeft: "gamepadhomerecentgames_InLeft_22nzP", RecentGamesBackgroundContainer: "gamepadhomerecentgames_RecentGamesBackgroundContainer_QNkOt", RecentGamesBackgroundImages: "gamepadhomerecentgames_RecentGamesBackgroundImages_30D-8", RecentGamesBackground: "gamepadhomerecentgames_RecentGamesBackground_1SRox", RecentGamesBackgroundFadeGradient: "gamepadhomerecentgames_RecentGamesBackgroundFadeGradient_1ksIq", LibraryHomeEmptyGames: "gamepadhomerecentgames_LibraryHomeEmptyGames_7hpoO", TextBody: "gamepadhomerecentgames_TextBody_3zl7h", OptionContainer: "gamepadhomerecentgames_OptionContainer_2xvQH", Option: "gamepadhomerecentgames_Option_1oapP", "ItemFocusAnim-darkerGrey-nocolor": "gamepadhomerecentgames_ItemFocusAnim-darkerGrey-nocolor_34Yww", "ItemFocusAnim-darkerGrey": "gamepadhomerecentgames_ItemFocusAnim-darkerGrey_2Fu-X", "ItemFocusAnim-darkGrey": "gamepadhomerecentgames_ItemFocusAnim-darkGrey_3biwv", "ItemFocusAnim-grey": "gamepadhomerecentgames_ItemFocusAnim-grey_1cgFt", "ItemFocusAnimBorder-darkGrey": "gamepadhomerecentgames_ItemFocusAnimBorder-darkGrey_2mXso", "ItemFocusAnim-green": "gamepadhomerecentgames_ItemFocusAnim-green_3uyws" } }, 31522: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", Recommended: "gamepadhomerecommended_Recommended_2--N_", PlayNextCarousel: "gamepadhomerecommended_PlayNextCarousel_1UfZy", PlayNextCarouselTitle: "gamepadhomerecommended_PlayNextCarouselTitle_2r7cQ", PlayNextCarouselSubHeading: "gamepadhomerecommended_PlayNextCarouselSubHeading_2VByW", DiscoveryQueueWidgetCtn: "gamepadhomerecommended_DiscoveryQueueWidgetCtn_2bLlN", "ItemFocusAnim-darkerGrey-nocolor": "gamepadhomerecommended_ItemFocusAnim-darkerGrey-nocolor_1N30_", "ItemFocusAnim-darkerGrey": "gamepadhomerecommended_ItemFocusAnim-darkerGrey_3pMdF", "ItemFocusAnim-darkGrey": "gamepadhomerecommended_ItemFocusAnim-darkGrey_gcpmh", "ItemFocusAnim-grey": "gamepadhomerecommended_ItemFocusAnim-grey_20qeK", "ItemFocusAnimBorder-darkGrey": "gamepadhomerecommended_ItemFocusAnimBorder-darkGrey_3p_TR", "ItemFocusAnim-green": "gamepadhomerecommended_ItemFocusAnim-green_3gvRH", focusAnimation: "gamepadhomerecommended_focusAnimation_242YI", hoverAnimation: "gamepadhomerecommended_hoverAnimation_fMtzp" } }, 11140: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", ItemMarginRight: "12", ItemPreviewWidth: "300px", ItemPreviewHeight: "317px", LibraryHomeWhatsNew: "gamepadhomewhatsnew_LibraryHomeWhatsNew_rvYRf", BasicHomeUpdates: "gamepadhomewhatsnew_BasicHomeUpdates_3TTpk", Loading: "gamepadhomewhatsnew_Loading_2LlgI", EventCarousel: "gamepadhomewhatsnew_EventCarousel_2GBhv", EventType: "gamepadhomewhatsnew_EventType_1f0dZ", EventType28: "gamepadhomewhatsnew_EventType28_39b83", EventType10: "gamepadhomewhatsnew_EventType10_2iLnu", EventType11: "gamepadhomewhatsnew_EventType11_1I2pe", EventType23: "gamepadhomewhatsnew_EventType23_qVIYl", EventType35: "gamepadhomewhatsnew_EventType35_LeZ61", EventType13: "gamepadhomewhatsnew_EventType13_16aly", EventType14: "gamepadhomewhatsnew_EventType14_ovxhr", EventType15: "gamepadhomewhatsnew_EventType15_1FEOx", EventImageWrapper: "gamepadhomewhatsnew_EventImageWrapper_XLJ9p", EventPreviewContainer: "gamepadhomewhatsnew_EventPreviewContainer_1ltOY", EventImage: "gamepadhomewhatsnew_EventImage_116GS", GameIconAndName: "gamepadhomewhatsnew_GameIconAndName_1jXSh", GameIcon: "gamepadhomewhatsnew_GameIcon_2RrB8", GameName: "gamepadhomewhatsnew_GameName_3H9W-", Title: "gamepadhomewhatsnew_Title_1QLHG", EventPreviewOuterWrapper: "gamepadhomewhatsnew_EventPreviewOuterWrapper_10b1V", EventSummary: "gamepadhomewhatsnew_EventSummary_UE_Ms", OuterWrapper: "gamepadhomewhatsnew_OuterWrapper_3DpEz", Darkener: "gamepadhomewhatsnew_Darkener_1n_1X", EventInfo: "gamepadhomewhatsnew_EventInfo_6TGe7", SummaryText: "gamepadhomewhatsnew_SummaryText_2uRde", Empty: "gamepadhomewhatsnew_Empty_3_vx-", "ItemFocusAnim-darkerGrey-nocolor": "gamepadhomewhatsnew_ItemFocusAnim-darkerGrey-nocolor_26cCT", "ItemFocusAnim-darkerGrey": "gamepadhomewhatsnew_ItemFocusAnim-darkerGrey_2WCL6", "ItemFocusAnim-darkGrey": "gamepadhomewhatsnew_ItemFocusAnim-darkGrey_3a10s", "ItemFocusAnim-grey": "gamepadhomewhatsnew_ItemFocusAnim-grey_znLpY", "ItemFocusAnimBorder-darkGrey": "gamepadhomewhatsnew_ItemFocusAnimBorder-darkGrey_1pAFo", "ItemFocusAnim-green": "gamepadhomewhatsnew_ItemFocusAnim-green_3j5Ok", focusAnimation: "gamepadhomewhatsnew_focusAnimation_1Zq7X", hoverAnimation: "gamepadhomewhatsnew_hoverAnimation_3nIYG" } }, 82109: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", ItemMargin: "20", ItemWidth: "228px", ItemHeight: "136.8px", ItemsCarousel: "homestorecarousel_ItemsCarousel_q4IC9", StoreCarouselCtn: "homestorecarousel_StoreCarouselCtn_3zVCV", Header: "homestorecarousel_Header_xpRXv", SubHeader: "homestorecarousel_SubHeader_1NGCb", "ItemFocusAnim-darkerGrey-nocolor": "homestorecarousel_ItemFocusAnim-darkerGrey-nocolor_RUJwN", "ItemFocusAnim-darkerGrey": "homestorecarousel_ItemFocusAnim-darkerGrey_3xOMk", "ItemFocusAnim-darkGrey": "homestorecarousel_ItemFocusAnim-darkGrey_3HhnN", "ItemFocusAnim-grey": "homestorecarousel_ItemFocusAnim-grey_17r5h", "ItemFocusAnimBorder-darkGrey": "homestorecarousel_ItemFocusAnimBorder-darkGrey_3yn2o", "ItemFocusAnim-green": "homestorecarousel_ItemFocusAnim-green_FDmWW", focusAnimation: "homestorecarousel_focusAnimation_Ken5I", hoverAnimation: "homestorecarousel_hoverAnimation_2N0m1" } }, 4321: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", mainMenuCloseDurationMS: "300ms", ViewPlaceholder: "mainmenu_ViewPlaceholder_1PGlK", Fullscreen: "mainmenu_Fullscreen_26eRZ", Container: "mainmenu_Container_3vzvO", Open: "mainmenu_Open_3apLK", ExitAnchor: "mainmenu_ExitAnchor_3TqAn", Menu: "mainmenu_Menu_23IDi", ItemLabel: "mainmenu_ItemLabel_3x-ZK", Collapsed: "mainmenu_Collapsed_3I23q", ItemOuter: "mainmenu_ItemOuter_1BbM8", Item: "mainmenu_Item_2w9Tp", Active: "mainmenu_Active_10bq5", "ItemFocusAnim-darkerGrey": "mainmenu_ItemFocusAnim-darkerGrey_2ERHp", ActiveDot: "mainmenu_ActiveDot_1uLVH", ItemIcon: "mainmenu_ItemIcon_3xZ3Z", Blocked: "mainmenu_Blocked_1OasT", RunningAppIcon: "mainmenu_RunningAppIcon_26pwH", FooterBoxShadow: "mainmenu_FooterBoxShadow_3kHmf", RunnningAppSeparator: "mainmenu_RunnningAppSeparator_33RkH", "ItemFocusAnim-darkerGrey-nocolor": "mainmenu_ItemFocusAnim-darkerGrey-nocolor_3qluG", "ItemFocusAnim-darkGrey": "mainmenu_ItemFocusAnim-darkGrey_3xNI0", "ItemFocusAnim-grey": "mainmenu_ItemFocusAnim-grey_FWJh9", "ItemFocusAnimBorder-darkGrey": "mainmenu_ItemFocusAnimBorder-darkGrey_2qXqa", "ItemFocusAnim-green": "mainmenu_ItemFocusAnim-green_1n7V4", focusAnimation: "mainmenu_focusAnimation_3GttV", hoverAnimation: "mainmenu_hoverAnimation_PzKXe" } }, 63685: e => { e.exports = { "duration-app-launch": "800ms", ScrollMask: "mainmenuapprunning_ScrollMask_322FV", HideMask: "mainmenuapprunning_HideMask_1009K", MainMenuAppRunning: "mainmenuapprunning_MainMenuAppRunning_1wiEs", MenuOpen: "mainmenuapprunning_MenuOpen_2xotn", NavigationColumn: "mainmenuapprunning_NavigationColumn_27FEg", ControllerColumnFocused: "mainmenuapprunning_ControllerColumnFocused_2u5P4", NavColumnFocused: "mainmenuapprunning_NavColumnFocused_2wkOt", NavigationBox: "mainmenuapprunning_NavigationBox_36vNU", NavigationMenuItem: "mainmenuapprunning_NavigationMenuItem_1G0K4", "ItemFocusAnim-darkerGrey": "mainmenuapprunning_ItemFocusAnim-darkerGrey_3hDT4", Active: "mainmenuapprunning_Active_1jG8i", Disabled: "mainmenuapprunning_Disabled_2x8Va", SwitchAppsTitle: "mainmenuapprunning_SwitchAppsTitle_1WlX2", SelectableAppWindow: "mainmenuapprunning_SelectableAppWindow_1kETF", ActiveDot: "mainmenuapprunning_ActiveDot_13YbV", NavigationMenuItemSeparator: "mainmenuapprunning_NavigationMenuItemSeparator_l7dF3", AppColumn: "mainmenuapprunning_AppColumn_3FAI9", FocusedColumn: "mainmenuapprunning_FocusedColumn_lz9Db", AppColumnContent: "mainmenuapprunning_AppColumnContent_2P4E7", ActiveContent: "mainmenuapprunning_ActiveContent_3cU2E", CurrentGameBackground: "mainmenuapprunning_CurrentGameBackground_2Jbd_", CurrentGameLogo: "mainmenuapprunning_CurrentGameLogo_3V3VK", OverlayAchievements: "mainmenuapprunning_OverlayAchievements_2Qced", Container: "mainmenuapprunning_Container_3Shkl", OverlayGuides: "mainmenuapprunning_OverlayGuides_bqMkR", "ItemFocusAnim-darkerGrey-nocolor": "mainmenuapprunning_ItemFocusAnim-darkerGrey-nocolor_pXCLR", "ItemFocusAnim-darkGrey": "mainmenuapprunning_ItemFocusAnim-darkGrey_T-00W", "ItemFocusAnim-grey": "mainmenuapprunning_ItemFocusAnim-grey_2CtAZ", "ItemFocusAnimBorder-darkGrey": "mainmenuapprunning_ItemFocusAnimBorder-darkGrey_3n8nz", "ItemFocusAnim-green": "mainmenuapprunning_ItemFocusAnim-green_12I3A", focusAnimation: "mainmenuapprunning_focusAnimation_2lXJ9", hoverAnimation: "mainmenuapprunning_hoverAnimation_24N6j" } }, 28341: e => { e.exports = { OverlayGuides: "overlayguides_OverlayGuides_3PT17", OverlayGuidesHome: "overlayguides_OverlayGuidesHome_1Biyy", GuidesHomeHeader: "overlayguides_GuidesHomeHeader_1K5yV", AppName: "overlayguides_AppName_3LiqH", GuidesHomeHeaderDesc: "overlayguides_GuidesHomeHeaderDesc_14LPc", GuideList: "overlayguides_GuideList_3p2SR", Header: "overlayguides_Header_3tFhD", PagingControls: "overlayguides_PagingControls_1VBf9", Hidden: "overlayguides_Hidden_3wN_u", PageNumber: "overlayguides_PageNumber_19Jds", PagingButton: "overlayguides_PagingButton_5M5Li", LoadingGuidesError: "overlayguides_LoadingGuidesError_1vxns", NoGuides: "overlayguides_NoGuides_1vQ-f", ListTitle: "overlayguides_ListTitle_1qkU5", GuideListItemBase: "overlayguides_GuideListItemBase_1etIu", Container: "overlayguides_Container_3UCfp", Media: "overlayguides_Media_LH7w0", Content: "overlayguides_Content_9WZ60", Right: "overlayguides_Right_2xjb_", Footer: "overlayguides_Footer_2KMLM", GuideTitle: "overlayguides_GuideTitle_35sEZ", GuideAuthor: "overlayguides_GuideAuthor_28tAd", GuideDescription: "overlayguides_GuideDescription_DpdGp", VerticalContent: "overlayguides_VerticalContent_10SJe", GuideImage: "overlayguides_GuideImage_38lL7", AlignEnd: "overlayguides_AlignEnd_3y-z5", GuideContent: "overlayguides_GuideContent_2-nTI", GuideDetails: "overlayguides_GuideDetails_1AjME", GuideDetailsHeader: "overlayguides_GuideDetailsHeader_2_Ivx", GuideDetailsTitle: "overlayguides_GuideDetailsTitle_d2OwZ", GuideDetailsDesc: "overlayguides_GuideDetailsDesc_1wBkh", GuideDetailsContainer: "overlayguides_GuideDetailsContainer_3CGnF", GuideSubSections: "overlayguides_GuideSubSections_2gRAL", SubSection: "overlayguides_SubSection_1CymH", SubSectionTitle: "overlayguides_SubSectionTitle_vJoi8", SubSectionDesc: "overlayguides_SubSectionDesc_3qm_0", TableOfContents: "overlayguides_TableOfContents_CwN4g", TOCEntry: "overlayguides_TOCEntry_2bjWQ", UGCControls: "overlayguides_UGCControls_2Mna7", UGCButton: "overlayguides_UGCButton_Ejrl6", VotingButton: "overlayguides_VotingButton_3BZvR", VoteIcon: "overlayguides_VoteIcon_2yfF2", ThumbsUpColor: "overlayguides_ThumbsUpColor_3v3hT", ThumbsDownColor: "overlayguides_ThumbsDownColor_1TqtH", SharedFilePreviewImage: "overlayguides_SharedFilePreviewImage_24wYq", SizeThumb: "overlayguides_SizeThumb_3tD34", SizeFull: "overlayguides_SizeFull_18gwf", SizeOriginal: "overlayguides_SizeOriginal_217Lw", FloatLeft: "overlayguides_FloatLeft_1InKY", FloatRight: "overlayguides_FloatRight_3WuCI", UGCRating: "overlayguides_UGCRating_oTb9Y", UGCRatingStars: "overlayguides_UGCRatingStars_1lO3n", UGCRatingStar: "overlayguides_UGCRatingStar_3ny3u", UGCTotalRatings: "overlayguides_UGCTotalRatings_1RTRU" } }, 57432: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", ItemMargin: "20", ItemWidth: "200px", ItemHeight: "210px", MarketingMessage: "marketingmessages_MarketingMessage_28UlE", Seen: "marketingmessages_Seen_1FblM", Image: "marketingmessages_Image_3ogNR", MarketingMessagesCarousel: "marketingmessages_MarketingMessagesCarousel_28SEj", MarketingMessages: "marketingmessages_MarketingMessages_jdr42", Header: "marketingmessages_Header_1QCdV", MarketingModal: "marketingmessages_MarketingModal_1QsiT", BrowserWrapper: "marketingmessages_BrowserWrapper_2Pg6X", "ItemFocusAnim-darkerGrey-nocolor": "marketingmessages_ItemFocusAnim-darkerGrey-nocolor_3Pmz_", "ItemFocusAnim-darkerGrey": "marketingmessages_ItemFocusAnim-darkerGrey_1iTRl", "ItemFocusAnim-darkGrey": "marketingmessages_ItemFocusAnim-darkGrey_LW2yW", "ItemFocusAnim-grey": "marketingmessages_ItemFocusAnim-grey_3OIqN", "ItemFocusAnimBorder-darkGrey": "marketingmessages_ItemFocusAnimBorder-darkGrey_3c2FW", "ItemFocusAnim-green": "marketingmessages_ItemFocusAnim-green_2M1-F", focusAnimation: "marketingmessages_focusAnimation_3VwH5", hoverAnimation: "marketingmessages_hoverAnimation_1NQus" } }, 985: e => { e.exports = { "duration-app-launch": "800ms", TransitionMenuDelay: "400ms", PanelSection: "quickaccessmenu_PanelSection_ljJSM", PanelSectionTitle: "quickaccessmenu_PanelSectionTitle_1JWa5", Text: "quickaccessmenu_Text_2B2VB", PanelSectionRow: "quickaccessmenu_PanelSectionRow_1TJv6", Label: "quickaccessmenu_Label_Ks1OT", ComingSoon: "quickaccessmenu_ComingSoon_17NMm", LowBattery: "quickaccessmenu_LowBattery_AtwmU", ReallyLow: "quickaccessmenu_ReallyLow_2vxcv", LowBatteryGauge: "quickaccessmenu_LowBatteryGauge_-nQfk", Remaining: "quickaccessmenu_Remaining_2D6Sj", EmptyNotifications: "quickaccessmenu_EmptyNotifications_2pgiB", BatterySectionContainer: "quickaccessmenu_BatterySectionContainer_3N-ap", BatteryIcon: "quickaccessmenu_BatteryIcon_3KqVu", BatteryPercentageLabel: "quickaccessmenu_BatteryPercentageLabel_209R3", BatteryDetailsLabels: "quickaccessmenu_BatteryDetailsLabels_m0o-N", BatteryProjectedValue: "quickaccessmenu_BatteryProjectedValue_1Yq4s", BatteryProjectedLabel: "quickaccessmenu_BatteryProjectedLabel_1Lj_u", ViewPlaceholder: "quickaccessmenu_ViewPlaceholder_2orc8", FullHeight: "quickaccessmenu_FullHeight_3ud27", Title: "quickaccessmenu_Title_34nl5", Container: "quickaccessmenu_Container_3DHXr", Open: "quickaccessmenu_Open_-6ESh", QuickAccessMenu: "quickaccessmenu_QuickAccessMenu_V0cr-", HeaderContainer: "quickaccessmenu_HeaderContainer_3k5MH", Menu: "quickaccessmenu_Menu_1gJzx", HeaderAndFooterVisible: "quickaccessmenu_HeaderAndFooterVisible_2m0zl", TabContentColumn: "quickaccessmenu_TabContentColumn_2z5NL", Tabs: "quickaccessmenu_Tabs_3Ag1w", Tab: "quickaccessmenu_Tab_1S76C", Selected: "quickaccessmenu_Selected_2QHMu", "ItemFocusAnim-darkerGrey": "quickaccessmenu_ItemFocusAnim-darkerGrey_36sGv", "ItemFocusAnim-darkerGrey-nocolor": "quickaccessmenu_ItemFocusAnim-darkerGrey-nocolor_2YeD3", VoiceTab: "quickaccessmenu_VoiceTab_5lc3T", "ItemFocusAnim-green": "quickaccessmenu_ItemFocusAnim-green_1XTtk", Blocked: "quickaccessmenu_Blocked_8BbyF", TabPanelHidden: "quickaccessmenu_TabPanelHidden_vjLhN", FriendsTitle: "quickaccessmenu_FriendsTitle_1jWuu", FriendsListTabPanel: "quickaccessmenu_FriendsListTabPanel_2obg6", PanelOuterNav: "quickaccessmenu_PanelOuterNav_2BB6u", PanelExitAnchor: "quickaccessmenu_PanelExitAnchor_3rRq0", TabGroupPanel: "quickaccessmenu_TabGroupPanel_1QO7b", FooterBoxShadow: "quickaccessmenu_FooterBoxShadow_ISUYE", AllTabContents: "quickaccessmenu_AllTabContents_2yKG4", ContentTransition: "quickaccessmenu_ContentTransition_32AON", ActiveTab: "quickaccessmenu_ActiveTab_oIVg-", Up: "quickaccessmenu_Up_1GhPw", Enter: "quickaccessmenu_Enter_1JPfL", EnterActive: "quickaccessmenu_EnterActive_3pxdH", Exit: "quickaccessmenu_Exit_1hez6", ExitActive: "quickaccessmenu_ExitActive_3repy", Down: "quickaccessmenu_Down_3rR0o", KeyboardButton: "quickaccessmenu_KeyboardButton_1RN_U", "ItemFocusAnim-darkGrey": "quickaccessmenu_ItemFocusAnim-darkGrey_3H1ff", "ItemFocusAnim-grey": "quickaccessmenu_ItemFocusAnim-grey_2T0Dt", "ItemFocusAnimBorder-darkGrey": "quickaccessmenu_ItemFocusAnimBorder-darkGrey_2XnPb", focusAnimation: "quickaccessmenu_focusAnimation_kLIk2", hoverAnimation: "quickaccessmenu_hoverAnimation_3bjAu" } }, 95269: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", ItemMargin: "20", ItemWidth: "310px", ItemHeight: "109.74px", RecentlyCompletedCarousel: "recentlycompleted_RecentlyCompletedCarousel_2jcru", RecentlyCompleted: "recentlycompleted_RecentlyCompleted_3fDIR", Header: "recentlycompleted_Header_NhBU2", RecentlyCompletedItem: "recentlycompleted_RecentlyCompletedItem_3OC7i", MajorUpdate: "recentlycompleted_MajorUpdate_2OGtB", TopSection: "recentlycompleted_TopSection_2wVB-", GameIconAndName: "recentlycompleted_GameIconAndName_2RTo4", GameIcon: "recentlycompleted_GameIcon_DqP6r", GameName: "recentlycompleted_GameName_1EIQL", BottomSection: "recentlycompleted_BottomSection_3LyF6", PatchNotes: "recentlycompleted_PatchNotes_2_b6L", EventType: "recentlycompleted_EventType_1Xl95", EventType28: "recentlycompleted_EventType28_gLZjP", EventType10: "recentlycompleted_EventType10_3MFIt", EventType11: "recentlycompleted_EventType11_MYnce", EventType23: "recentlycompleted_EventType23_2qraf", EventType35: "recentlycompleted_EventType35_33xkN", EventType13: "recentlycompleted_EventType13_PyrxQ", EventType14: "recentlycompleted_EventType14_17w7z", EventType15: "recentlycompleted_EventType15_1L8Rn", DownloadInfo: "recentlycompleted_DownloadInfo_1wLpm", Bytes: "recentlycompleted_Bytes_TH3M8", "ItemFocusAnim-darkerGrey-nocolor": "recentlycompleted_ItemFocusAnim-darkerGrey-nocolor_1X6_f", "ItemFocusAnim-darkerGrey": "recentlycompleted_ItemFocusAnim-darkerGrey_3tXYZ", "ItemFocusAnim-darkGrey": "recentlycompleted_ItemFocusAnim-darkGrey_2g3ZY", "ItemFocusAnim-grey": "recentlycompleted_ItemFocusAnim-grey_1xxUQ", "ItemFocusAnimBorder-darkGrey": "recentlycompleted_ItemFocusAnimBorder-darkGrey_37rsF", "ItemFocusAnim-green": "recentlycompleted_ItemFocusAnim-green_2njQL", focusAnimation: "recentlycompleted_focusAnimation_VfxRX", hoverAnimation: "recentlycompleted_hoverAnimation_NYm8x" } }, 90790: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", GamepadLibrary: "gamepadlibrary_GamepadLibrary_ZBBhe", CollectionContents: "gamepadlibrary_CollectionContents_38Mnc", CollectionHeader: "gamepadlibrary_CollectionHeader_1UuM8", ComingSoon: "gamepadlibrary_ComingSoon_2qGmT", AppGridFilterText: "gamepadlibrary_AppGridFilterText_1Yjc_", AppGridFilterHeaderAsButton: "gamepadlibrary_AppGridFilterHeaderAsButton_2tDpu", AppGridFilterHeader: "gamepadlibrary_AppGridFilterHeader_eGFYo", "ItemFocusAnim-darkerGrey-nocolor": "gamepadlibrary_ItemFocusAnim-darkerGrey-nocolor_3Czjr", "ItemFocusAnim-darkerGrey": "gamepadlibrary_ItemFocusAnim-darkerGrey_3s1od", "ItemFocusAnim-darkGrey": "gamepadlibrary_ItemFocusAnim-darkGrey_2I87h", "ItemFocusAnim-grey": "gamepadlibrary_ItemFocusAnim-grey_108YR", "ItemFocusAnimBorder-darkGrey": "gamepadlibrary_ItemFocusAnimBorder-darkGrey_35Z6y", "ItemFocusAnim-green": "gamepadlibrary_ItemFocusAnim-green_Mv5s_", focusAnimation: "gamepadlibrary_focusAnimation_230J_", hoverAnimation: "gamepadlibrary_hoverAnimation_cQaka" } }, 17418: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", DesktopApps: "librarydesktopapps_DesktopApps_2-gV0", HeaderBlock: "librarydesktopapps_HeaderBlock_sVbde", HeaderBody: "librarydesktopapps_HeaderBody_1oNRV", InstallingChromeHeader: "librarydesktopapps_InstallingChromeHeader_3ZVre", HeaderButton: "librarydesktopapps_HeaderButton_KTKZN", Blurred: "librarydesktopapps_Blurred_31WWT", DialogContainer: "librarydesktopapps_DialogContainer_2AMDS", Content: "librarydesktopapps_Content_TFSKT", Installing: "librarydesktopapps_Installing_5F7OC", Throbber: "librarydesktopapps_Throbber_2XzyY", CloseButton: "librarydesktopapps_CloseButton_1XJj0", Header: "librarydesktopapps_Header_XL4eW", Body: "librarydesktopapps_Body_1JEhZ", ButtonRow: "librarydesktopapps_ButtonRow_3-dc3", "ItemFocusAnim-darkerGrey-nocolor": "librarydesktopapps_ItemFocusAnim-darkerGrey-nocolor_2RHUZ", "ItemFocusAnim-darkerGrey": "librarydesktopapps_ItemFocusAnim-darkerGrey_ikQTO", "ItemFocusAnim-darkGrey": "librarydesktopapps_ItemFocusAnim-darkGrey_10pa-", "ItemFocusAnim-grey": "librarydesktopapps_ItemFocusAnim-grey_38V4d", "ItemFocusAnimBorder-darkGrey": "librarydesktopapps_ItemFocusAnimBorder-darkGrey_1SnnH", "ItemFocusAnim-green": "librarydesktopapps_ItemFocusAnim-green_cdoNd", focusAnimation: "librarydesktopapps_focusAnimation_Q8kBW", hoverAnimation: "librarydesktopapps_hoverAnimation_3fu-G" } }, 91180: e => { e.exports = { "duration-app-launch": "800ms", OobeSlideDuration: "500ms", LoginBackground: "loginpanel_LoginBackground_1lh1e", LoginStatusContainer: "loginpanel_LoginStatusContainer_1TR3C", LoginError: "loginpanel_LoginError_uRCcu", LoginContainer: "loginpanel_LoginContainer_2dHxo", LoginStatus: "loginpanel_LoginStatus_234vZ", LeftColCtn: "loginpanel_LeftColCtn_2Ycxo", PINInput: "loginpanel_PINInput_10ozI", LoginQRCode: "loginpanel_LoginQRCode_1IMaV", JoinHead: "loginpanel_JoinHead_2O8s1", JoinSubhead: "loginpanel_JoinSubhead_1GLEO", JoinVisit: "loginpanel_JoinVisit_2K7d1", RecoveryLink: "loginpanel_RecoveryLink_11IcY", DoublePanel: "loginpanel_DoublePanel_2e6zb", Header: "loginpanel_Header_3IMA7", LeftColHeader: "loginpanel_LeftColHeader_1EZKF", LeftColText: "loginpanel_LeftColText_Lysv9", SubHeader: "loginpanel_SubHeader_1oQc7", OutOfBox: "loginpanel_OutOfBox_2IU5M", CodeDigit: "loginpanel_CodeDigit_1Krog", OutOfBoxTransitionGroup: "loginpanel_OutOfBoxTransitionGroup_34NYY", OutOfBoxSlide: "loginpanel_OutOfBoxSlide_31c7C", Forward: "loginpanel_Forward_3dom3", Enter: "loginpanel_Enter_2nQqp", EnterActive: "loginpanel_EnterActive_VGGQT", Exit: "loginpanel_Exit_3XdaV", ExitActive: "loginpanel_ExitActive_3fyxW", ExitDone: "loginpanel_ExitDone_1vMnO", Backward: "loginpanel_Backward_i0tbe", CachedUserList: "loginpanel_CachedUserList_3SxgW", LoginCachedAvatar: "loginpanel_LoginCachedAvatar_l_0WJ", LoginCachedAvatarImage: "loginpanel_LoginCachedAvatarImage_3nhzM", NewLogin: "loginpanel_NewLogin_1mt2m", CachedName: "loginpanel_CachedName_3iVOC", SteamGuardForm: "loginpanel_SteamGuardForm_2K60_", LoginOfflineForm: "loginpanel_LoginOfflineForm_1yuZ_", MainLoginForm: "loginpanel_MainLoginForm_QR4Ye", RememberPasswordToggle: "loginpanel_RememberPasswordToggle_1dpuI", PasswordCtn: "loginpanel_PasswordCtn_1dvxP", LoginUserInContextMenu: "loginpanel_LoginUserInContextMenu_1JQUZ", UserAvatar: "loginpanel_UserAvatar_2x7CK", UserAccountName: "loginpanel_UserAccountName_1bP_j", UpdateStatusContainer: "loginpanel_UpdateStatusContainer_o3CaT", UpdateScreen: "loginpanel_UpdateScreen_2x_3K", UpdatePanel: "loginpanel_UpdatePanel_3AvYj", CurrentStatus: "loginpanel_CurrentStatus_ZPTdt", TotalUpdateSize: "loginpanel_TotalUpdateSize_2skDl", ProgressInfoContainer: "loginpanel_ProgressInfoContainer_1HFbJ", "ItemFocusAnim-darkerGrey-nocolor": "loginpanel_ItemFocusAnim-darkerGrey-nocolor_2h0X9", "ItemFocusAnim-darkerGrey": "loginpanel_ItemFocusAnim-darkerGrey_3Ss6r", "ItemFocusAnim-darkGrey": "loginpanel_ItemFocusAnim-darkGrey_PUVnm", "ItemFocusAnim-grey": "loginpanel_ItemFocusAnim-grey_3-pWX", "ItemFocusAnimBorder-darkGrey": "loginpanel_ItemFocusAnimBorder-darkGrey_2PrAc", "ItemFocusAnim-green": "loginpanel_ItemFocusAnim-green_YqbKa", focusAnimation: "loginpanel_focusAnimation_3Z_HK", hoverAnimation: "loginpanel_hoverAnimation_2r-gG" } }, 85486: e => { e.exports = { "duration-app-launch": "800ms", StandardTemplate: "notificationcontent_StandardTemplate_1B_uv", PinnedTemplate: "notificationcontent_PinnedTemplate_H_NPi", "ItemFocusAnim-darkerGrey": "notificationcontent_ItemFocusAnim-darkerGrey_3_1qy", StandardLogoDimensions: "notificationcontent_StandardLogoDimensions_2PHgs", Content: "notificationcontent_Content_22NY9", Header: "notificationcontent_Header__Gv0f", Icon: "notificationcontent_Icon_2eliP", Title: "notificationcontent_Title_3CsWl", Body: "notificationcontent_Body_1F3-u", StandardNotificationDescription: "notificationcontent_StandardNotificationDescription_kVqEa", StandardNotificationSubText: "notificationcontent_StandardNotificationSubText_3iYf4", Multiline: "notificationcontent_Multiline_3ddJI", Count: "notificationcontent_Count_1qsxM", Timestamp: "notificationcontent_Timestamp_1dWDB", PinnedBody: "notificationcontent_PinnedBody_3DeeK", ShortTemplate: "notificationcontent_ShortTemplate_2w-Eq", IncomingCallToast: "notificationcontent_IncomingCallToast_ZsWgX", ShortLogoDimensions: "notificationcontent_ShortLogoDimensions_2ydvY", DownloadCompleteText: "notificationcontent_DownloadCompleteText_1jOam", SystemUpdateText: "notificationcontent_SystemUpdateText_Pfjmd", FriendInviteRollupText: "notificationcontent_FriendInviteRollupText_1RA1B", CloudSyncFailureText: "notificationcontent_CloudSyncFailureText_1j1U9", CloudSyncConflictText: "notificationcontent_CloudSyncConflictText_31O4R", SystemUpdateIcon: "notificationcontent_SystemUpdateIcon_1a0x2", FriendInviteBody: "notificationcontent_FriendInviteBody_HvU7h", FriendInviteAvatar: "notificationcontent_FriendInviteAvatar_2-ljJ", FriendInviteName: "notificationcontent_FriendInviteName_1IBqD", FriendName: "notificationcontent_FriendName_39UtQ", FriendGame: "notificationcontent_FriendGame_TzIVT", FriendInGameAppColor: "notificationcontent_FriendInGameAppColor_1XS5S", AchievementBody: "notificationcontent_AchievementBody_1re5Q", LowDiskSpace: "notificationcontent_LowDiskSpace_1baXF", Text: "notificationcontent_Text_3sn1o", HardDrive: "notificationcontent_HardDrive_3DGL0", LowBattery: "notificationcontent_LowBattery_2Ssqr", ReallyLow: "notificationcontent_ReallyLow_3Z1Vm", LowBatteryGauge: "notificationcontent_LowBatteryGauge_28Z_C", Remaining: "notificationcontent_Remaining_23D8L", BatteryTemperature: "notificationcontent_BatteryTemperature_3sU3N", Warning: "notificationcontent_Warning_xTukS", Description: "notificationcontent_Description_fZ5QH", MessageBody: "notificationcontent_MessageBody_2LUgM", Sender: "notificationcontent_Sender_214zs", Dash: "notificationcontent_Dash_2cGi_", ScreenshotThumbnail: "notificationcontent_ScreenshotThumbnail_1WEaQ", AvatarStatus: "notificationcontent_AvatarStatus_2I2zk", ShortNotificationSteamLogo: "notificationcontent_ShortNotificationSteamLogo_Rm2zU", AppLogo: "notificationcontent_AppLogo_2cKDX", AppLogoBackgroundImage: "notificationcontent_AppLogoBackgroundImage_KGIqz", "ItemFocusAnim-darkerGrey-nocolor": "notificationcontent_ItemFocusAnim-darkerGrey-nocolor_V4Msf", "ItemFocusAnim-darkGrey": "notificationcontent_ItemFocusAnim-darkGrey_2Y7xQ", "ItemFocusAnim-grey": "notificationcontent_ItemFocusAnim-grey_295OY", "ItemFocusAnimBorder-darkGrey": "notificationcontent_ItemFocusAnimBorder-darkGrey_3NBLW", "ItemFocusAnim-green": "notificationcontent_ItemFocusAnim-green_1Sdq4", focusAnimation: "notificationcontent_focusAnimation_2x0zW", hoverAnimation: "notificationcontent_hoverAnimation_IuNUx" } }, 80893: e => { e.exports = { "duration-app-launch": "800ms", toastAnimateInMS: "300ms", toastAnimateOutMS: "300ms", ToastPlaceholder: "toastmanager_ToastPlaceholder_QLAG-", InGame: "toastmanager_InGame_c8Wr9", Warning: "toastmanager_Warning_16CYn", TinyToast: "toastmanager_TinyToast_3gv5Y", ToastPopup: "toastmanager_ToastPopup_1qv_I", toastEnter: "toastmanager_toastEnter_2vgBB", toastExit: "toastmanager_toastExit_11TD0", "ItemFocusAnim-darkerGrey-nocolor": "toastmanager_ItemFocusAnim-darkerGrey-nocolor_3FSWe", "ItemFocusAnim-darkerGrey": "toastmanager_ItemFocusAnim-darkerGrey_1peTU", "ItemFocusAnim-darkGrey": "toastmanager_ItemFocusAnim-darkGrey_1Sadv", "ItemFocusAnim-grey": "toastmanager_ItemFocusAnim-grey_crub9", "ItemFocusAnimBorder-darkGrey": "toastmanager_ItemFocusAnimBorder-darkGrey_3HJVE", "ItemFocusAnim-green": "toastmanager_ItemFocusAnim-green_1eeen", focusAnimation: "toastmanager_focusAnimation_2T_Cw", hoverAnimation: "toastmanager_hoverAnimation_24eTS" } }, 6688: e => { e.exports = { SetupHelp: "decksetuphelp_SetupHelp_3E4bw", Content: "decksetuphelp_Content_2JdnJ", slideInAnimation: "decksetuphelp_slideInAnimation_3LkQq", Heading: "decksetuphelp_Heading_2RVFs", SubHeading: "decksetuphelp_SubHeading_345fk", QRCode: "decksetuphelp_QRCode_2nrth", "ItemFocusAnim-darkerGrey-nocolor": "decksetuphelp_ItemFocusAnim-darkerGrey-nocolor_3Frly", "ItemFocusAnim-darkerGrey": "decksetuphelp_ItemFocusAnim-darkerGrey_2UnZn", "ItemFocusAnim-darkGrey": "decksetuphelp_ItemFocusAnim-darkGrey_1l6AM", "ItemFocusAnim-grey": "decksetuphelp_ItemFocusAnim-grey_1pw_3", "ItemFocusAnimBorder-darkGrey": "decksetuphelp_ItemFocusAnimBorder-darkGrey_2X_0q", "ItemFocusAnim-green": "decksetuphelp_ItemFocusAnim-green_1_7hS", focusAnimation: "decksetuphelp_focusAnimation_2iBZU", hoverAnimation: "decksetuphelp_hoverAnimation_22Rvv" } }, 39131: e => { e.exports = { "duration-app-launch": "800ms", LanguageScreen: "languagescreen_LanguageScreen_20rTp", LeftColumn: "languagescreen_LeftColumn_IxhIt", RightColumn: "languagescreen_RightColumn_2_1N-", WelcomeTransitionGroup: "languagescreen_WelcomeTransitionGroup_2OAGa", WelcomeTextGroup: "languagescreen_WelcomeTextGroup_2vuA1", Enter: "languagescreen_Enter_1sdcD", EnterActive: "languagescreen_EnterActive_19Tqp", Exit: "languagescreen_Exit_2ZUnx", ExitActive: "languagescreen_ExitActive_1a_4_", ExitDone: "languagescreen_ExitDone_2sFZF", WelcomeText: "languagescreen_WelcomeText_1u4PU", ChooseLanguageLabel: "languagescreen_ChooseLanguageLabel_336KO", LanguageList: "languagescreen_LanguageList_1Ox6-", Animate: "languagescreen_Animate_ATVoj", slideInAnimation: "languagescreen_slideInAnimation_3nAJh", LanguageItem: "languagescreen_LanguageItem_3Sx4g", "ItemFocusAnim-darkerGrey-nocolor": "languagescreen_ItemFocusAnim-darkerGrey-nocolor_2h6qp", "ItemFocusAnim-darkerGrey": "languagescreen_ItemFocusAnim-darkerGrey_15L56", "ItemFocusAnim-darkGrey": "languagescreen_ItemFocusAnim-darkGrey_3KQzG", "ItemFocusAnim-grey": "languagescreen_ItemFocusAnim-grey_2owU9", "ItemFocusAnimBorder-darkGrey": "languagescreen_ItemFocusAnimBorder-darkGrey_nfBY4", "ItemFocusAnim-green": "languagescreen_ItemFocusAnim-green_3jLcL", focusAnimation: "languagescreen_focusAnimation_nSI6e", hoverAnimation: "languagescreen_hoverAnimation_3nGkU" } }, 32905: e => { e.exports = { "duration-app-launch": "800ms", NetworkScreen: "networkscreen_NetworkScreen_1s2Cm", LeftColumn: "networkscreen_LeftColumn_1ENpc", RightColumn: "networkscreen_RightColumn_31cs_", WelcomeTransitionGroup: "networkscreen_WelcomeTransitionGroup_1oSZp", WelcomeTextGroup: "networkscreen_WelcomeTextGroup_J-JIi", WelcomeText: "networkscreen_WelcomeText_1xOCF", NetworkList: "networkscreen_NetworkList_2LH3U", Animate: "networkscreen_Animate_vYBEO", slideInAnimation: "networkscreen_slideInAnimation_17ATt", ListSection: "networkscreen_ListSection_3SEN3", Checkmark: "networkscreen_Checkmark_1AR8I", NetworkWarning: "networkscreen_NetworkWarning_1LyyP", NetworkWarningLabel: "networkscreen_NetworkWarningLabel_2cLBM", CaptivePortalButtonContainer: "networkscreen_CaptivePortalButtonContainer_SYCff", "ItemFocusAnim-darkerGrey-nocolor": "networkscreen_ItemFocusAnim-darkerGrey-nocolor_2Dtff", "ItemFocusAnim-darkerGrey": "networkscreen_ItemFocusAnim-darkerGrey_I_RuB", "ItemFocusAnim-darkGrey": "networkscreen_ItemFocusAnim-darkGrey_1zZQ7", "ItemFocusAnim-grey": "networkscreen_ItemFocusAnim-grey_2aRmE", "ItemFocusAnimBorder-darkGrey": "networkscreen_ItemFocusAnimBorder-darkGrey_2KQSu", "ItemFocusAnim-green": "networkscreen_ItemFocusAnim-green_2cvUT", focusAnimation: "networkscreen_focusAnimation_2SRys", hoverAnimation: "networkscreen_hoverAnimation_3TuNW" } }, 23271: e => { e.exports = { "duration-app-launch": "800ms", OOBEButton: "oobecontrols_OOBEButton_2Pycd", Disabled: "oobecontrols_Disabled_13eTn", Icons: "oobecontrols_Icons_2W7Eo", Label: "oobecontrols_Label_13a-L", "ItemFocusAnim-darkerGrey-nocolor": "oobecontrols_ItemFocusAnim-darkerGrey-nocolor_Y7A5B", "ItemFocusAnim-darkerGrey": "oobecontrols_ItemFocusAnim-darkerGrey_2Nl4J", "ItemFocusAnim-darkGrey": "oobecontrols_ItemFocusAnim-darkGrey_2Z8fa", "ItemFocusAnim-grey": "oobecontrols_ItemFocusAnim-grey_3foN4", "ItemFocusAnimBorder-darkGrey": "oobecontrols_ItemFocusAnimBorder-darkGrey_1xICz", "ItemFocusAnim-green": "oobecontrols_ItemFocusAnim-green_1R-uB", focusAnimation: "oobecontrols_focusAnimation_2QYyW", hoverAnimation: "oobecontrols_hoverAnimation_2RqxP" } }, 33673: e => { e.exports = { "duration-app-launch": "800ms", TimezoneScreen: "timezonescreen_TimezoneScreen_1imE6", LeftColumn: "timezonescreen_LeftColumn_zTL2u", RightColumn: "timezonescreen_RightColumn_1X-gm", WelcomeTransitionGroup: "timezonescreen_WelcomeTransitionGroup__Odvi", WelcomeTextGroup: "timezonescreen_WelcomeTextGroup_23fDr", WelcomeText: "timezonescreen_WelcomeText_1yCoo", TimezoneList: "timezonescreen_TimezoneList_3v6fx", Animate: "timezonescreen_Animate_2KCLp", slideInAnimation: "timezonescreen_slideInAnimation_SMgWv", TimezoneItem: "timezonescreen_TimezoneItem_1U_p0", "ItemFocusAnim-darkerGrey-nocolor": "timezonescreen_ItemFocusAnim-darkerGrey-nocolor_uN90T", "ItemFocusAnim-darkerGrey": "timezonescreen_ItemFocusAnim-darkerGrey_2AjYk", "ItemFocusAnim-darkGrey": "timezonescreen_ItemFocusAnim-darkGrey_dafsu", "ItemFocusAnim-grey": "timezonescreen_ItemFocusAnim-grey_3xev3", "ItemFocusAnimBorder-darkGrey": "timezonescreen_ItemFocusAnimBorder-darkGrey_KfPE6", "ItemFocusAnim-green": "timezonescreen_ItemFocusAnim-green_1qZRN", focusAnimation: "timezonescreen_focusAnimation_2rbpA", hoverAnimation: "timezonescreen_hoverAnimation_L86Yl" } }, 68927: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", QuickActions: "gamepaduioverlayquickactions_QuickActions_3D9mW", LayoutAppImage: "gamepaduioverlayquickactions_LayoutAppImage_3LgyQ", LayoutControls: "gamepaduioverlayquickactions_LayoutControls_lslg3", QuickActionButtons: "gamepaduioverlayquickactions_QuickActionButtons_mGKL1", ActiveAndUnfocused: "gamepaduioverlayquickactions_ActiveAndUnfocused_3EsH1", Disabled: "gamepaduioverlayquickactions_Disabled_1YTXZ", Primary: "gamepaduioverlayquickactions_Primary_2PSBG", Destructive: "gamepaduioverlayquickactions_Destructive_39m6c", Visible: "gamepaduioverlayquickactions_Visible_1IbBr", Field: "gamepaduioverlayquickactions_Field_1KqXE", WithBottomSeparator: "gamepaduioverlayquickactions_WithBottomSeparator_2xeWT", FieldLabelRow: "gamepaduioverlayquickactions_FieldLabelRow_3mT52", FieldChildren: "gamepaduioverlayquickactions_FieldChildren_1mSMi", "ItemFocusAnim-darkerGrey-nocolor": "gamepaduioverlayquickactions_ItemFocusAnim-darkerGrey-nocolor_1hNh2", "ItemFocusAnim-darkerGrey": "gamepaduioverlayquickactions_ItemFocusAnim-darkerGrey_2qH57", "ItemFocusAnim-darkGrey": "gamepaduioverlayquickactions_ItemFocusAnim-darkGrey_2TQf5", "ItemFocusAnim-grey": "gamepaduioverlayquickactions_ItemFocusAnim-grey_MWNz-", "ItemFocusAnimBorder-darkGrey": "gamepaduioverlayquickactions_ItemFocusAnimBorder-darkGrey_2nS1R", "ItemFocusAnim-green": "gamepaduioverlayquickactions_ItemFocusAnim-green_dDa73", focusAnimation: "gamepaduioverlayquickactions_focusAnimation_3wsJa", hoverAnimation: "gamepaduioverlayquickactions_hoverAnimation_11g67" } }, 19768: e => { e.exports = { MainPanelAppRunning: "mainpanelapprunning_MainPanelAppRunning_3x-nj" } }, 52414: e => { e.exports = { BrowserWrapper: "overlaybrowser_BrowserWrapper_2ZI_f" } }, 16079: e => { e.exports = { "duration-app-launch": "800ms", TopLevelTransitionSwitch: "topleveltransitionswitch_TopLevelTransitionSwitch_1iKmx", AbsoluteDiv: "topleveltransitionswitch_AbsoluteDiv_2RXNR", TopLevelTransition: "topleveltransitionswitch_TopLevelTransition_2vPeX", Enter: "topleveltransitionswitch_Enter_d8bGj", NoTransitionZoom: "topleveltransitionswitch_NoTransitionZoom_3Dzx1", EnterActive: "topleveltransitionswitch_EnterActive_Cpk9b", Exit: "topleveltransitionswitch_Exit_25ZS3", ExitActive: "topleveltransitionswitch_ExitActive_SoGsJ" } }, 10464: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", ResultItemWidth: "168px", ResultItemHeight: "140px", ResultPadding: "12px", GamepadSearch: "gamepadsearch_GamepadSearch_P_AlE", ResultsGridWrapper: "gamepadsearch_ResultsGridWrapper_2n5v3", ResultsRow: "gamepadsearch_ResultsRow_2Hwz0", ResultTemplate: "gamepadsearch_ResultTemplate_2Aspd", ResultTemplateImage: "gamepadsearch_ResultTemplateImage_3K3Bx", OverlaidText: "gamepadsearch_OverlaidText_CjMBh", ResultTemplateDescriptionRow: "gamepadsearch_ResultTemplateDescriptionRow_19p6s", Icon: "gamepadsearch_Icon_3hAUu", Description: "gamepadsearch_Description_3RDew", FriendResultImage: "gamepadsearch_FriendResultImage_j1syJ", ProfileBackground: "gamepadsearch_ProfileBackground_32fKg", ImageContainer: "gamepadsearch_ImageContainer_3WAMy", SearchResultFriendAvatar: "gamepadsearch_SearchResultFriendAvatar_1SXMV", Frame: "gamepadsearch_Frame_3ZkvL", NoResultsFound: "gamepadsearch_NoResultsFound_ZAX7o", LibraryImageWithName: "gamepadsearch_LibraryImageWithName_3vyTQ", Title: "gamepadsearch_Title_3CMVj", RedirectResultBackground: "gamepadsearch_RedirectResultBackground_17G2J", "ItemFocusAnim-darkerGrey-nocolor": "gamepadsearch_ItemFocusAnim-darkerGrey-nocolor_1M4BA", "ItemFocusAnim-darkerGrey": "gamepadsearch_ItemFocusAnim-darkerGrey_kaQ1Y", "ItemFocusAnim-darkGrey": "gamepadsearch_ItemFocusAnim-darkGrey_rhV5F", "ItemFocusAnim-grey": "gamepadsearch_ItemFocusAnim-grey_g0tQd", "ItemFocusAnimBorder-darkGrey": "gamepadsearch_ItemFocusAnimBorder-darkGrey_3acbY", "ItemFocusAnim-green": "gamepadsearch_ItemFocusAnim-green_10dh1", focusAnimation: "gamepadsearch_focusAnimation_22T7J", hoverAnimation: "gamepadsearch_hoverAnimation_3nqZB" } }, 93205: e => { e.exports = { Container: "achievementsheader_Container_2iGYY", Portrait: "achievementsheader_Portrait_2SjmZ", Content: "achievementsheader_Content_Pr0VC", LeaderboardsButton: "achievementsheader_LeaderboardsButton_3_7wz", Title: "achievementsheader_Title_3wNyl", StatsBlock: "achievementsheader_StatsBlock__gDkI", Stat: "achievementsheader_Stat_28omE", StatLabelAndValue: "achievementsheader_StatLabelAndValue_C17Op", Label: "achievementsheader_Label_17zZl", TextValue: "achievementsheader_TextValue_3SUIg", BigStat: "achievementsheader_BigStat_p8Yjz", ProgressLabel: "achievementsheader_ProgressLabel_27CS0", Progress: "achievementsheader_Progress_3CaVU", Ribbon: "achievementsheader_Ribbon_BhQwn" } }, 47801: e => { e.exports = { AchievementList: "achievementslist_AchievementList_1UXC2", ListTitle: "achievementslist_ListTitle_IM0uE", AchievementListItemBase: "achievementslist_AchievementListItemBase_2Kmn7", Container: "achievementslist_Container_cvw8D", Media: "achievementslist_Media_RmNOQ", Content: "achievementslist_Content_UWkKt", Right: "achievementslist_Right_k02se", Footer: "achievementslist_Footer_2R7Ym", AchievementTitle: "achievementslist_AchievementTitle_17dhG", AchievementDescription: "achievementslist_AchievementDescription_1WP2Y", AchievementGlobalPercentage: "achievementslist_AchievementGlobalPercentage_VQbek", InBody: "achievementslist_InBody_2IpxM", VerticalContent: "achievementslist_VerticalContent_mW5BY", UnlockDate: "achievementslist_UnlockDate_2fFW2", AchievementImage: "achievementslist_AchievementImage_dfV5H", AlignEnd: "achievementslist_AlignEnd_33MZ9", ProgressBar: "achievementslist_ProgressBar_sBzFs", ProgressCount: "achievementslist_ProgressCount_2LZ4v", AchievementContent: "achievementslist_AchievementContent_mvXQP", HiddenAchievementContent: "achievementslist_HiddenAchievementContent_3_7WU", FriendAchievementFooter: "achievementslist_FriendAchievementFooter_3XozI", GlobalPercentage: "achievementslist_GlobalPercentage_1nrpc", UserUnlockDateTime: "achievementslist_UserUnlockDateTime_YnSJk", GlobalAchievementsListHeader: "achievementslist_GlobalAchievementsListHeader_2q8Mm", HeaderText: "achievementslist_HeaderText_OAV6Q", GlobalAchievementListItem: "achievementslist_GlobalAchievementListItem_316Uo", UnlockContainer: "achievementslist_UnlockContainer_1vd1p", ImageContainer: "achievementslist_ImageContainer_SGyFw", Info: "achievementslist_Info_Zoy4C", Title: "achievementslist_Title_3LS_N", Description: "achievementslist_Description_231ll", Percent: "achievementslist_Percent_17WmA", ProgressFill: "achievementslist_ProgressFill_2lgHV", ComparisonAchieverColumn: "achievementslist_ComparisonAchieverColumn_3eXGQ", ComparisonAchieverInfo: "achievementslist_ComparisonAchieverInfo_3wXF0", ProgressContainer: "achievementslist_ProgressContainer_1tFpG", ProgressLabel: "achievementslist_ProgressLabel_3Y63d", Secondary: "achievementslist_Secondary_3AWMZ", AvatarContainer: "achievementslist_AvatarContainer_Mn8BN", Unachieved: "achievementslist_Unachieved_opxyr" } }, 86548: e => { e.exports = { "duration-app-launch": "800ms", headerPadding: "40px", Page: "achievementspage_Page_3FQHg", Container: "achievementspage_Container_11Z-t", Nav: "achievementspage_Nav_15Sq7", Title: "achievementspage_Title_2t0Fm", GlobalButton: "achievementspage_GlobalButton_W4rDw", UserContext: "achievementspage_UserContext_1SAWa", Text: "achievementspage_Text_1q1w8", AchievementTabs: "achievementspage_AchievementTabs_gxNvE", Background: "achievementspage_Background_ODpLj", Blur: "achievementspage_Blur_3Fjw7", HeaderImage: "achievementspage_HeaderImage_294HV", List: "achievementspage_List_2kMZ9", FriendAchievementsListHeader: "achievementspage_FriendAchievementsListHeader_39fNy", ToggleContainer: "achievementspage_ToggleContainer_128zl", NotOwnedMessage: "achievementspage_NotOwnedMessage_1PNTI", MyAchievementsHeader: "achievementspage_MyAchievementsHeader_2UpV2", Label: "achievementspage_Label_2LSKt", HeaderContainer: "achievementspage_HeaderContainer_36Dp_", LoadingContainer: "achievementspage_LoadingContainer_2lhAp", Throbber: "achievementspage_Throbber_N--B2", ErrorContainer: "achievementspage_ErrorContainer_1tJLL", ErrorTitle: "achievementspage_ErrorTitle_2zwFG", ErrorButtons: "achievementspage_ErrorButtons_JPkl1" } }, 20998: e => { e.exports = { FolderSelector: "installrequest_FolderSelector_vaNI8", Header: "installrequest_Header_NtxG7", DiskSpace: "installrequest_DiskSpace_3lAxX", AppsToInstall: "installrequest_AppsToInstall_Krg05", AppToInstall: "installrequest_AppToInstall_3MJEA", AppLogo: "installrequest_AppLogo_3mitV", AppName: "installrequest_AppName_1_JaK", AppSizeRequired: "installrequest_AppSizeRequired_I_nkt", FolderOption: "installrequest_FolderOption_Oo5JP", Focused: "installrequest_Focused_2-svu", FolderFlag: "installrequest_FolderFlag_1p727", Warning: "installrequest_Warning_bhL5Q", FolderName: "installrequest_FolderName_2vs_5", NoSpace: "installrequest_NoSpace_3WMFK", FreeSpace: "installrequest_FreeSpace_3a3Kj", NoticeUnmountedFolder: "installrequest_NoticeUnmountedFolder_DmZug" } }, 99475: e => { e.exports = { InstallerModalContent: "installdialog_InstallerModalContent_3pibm", ModalHeader: "installdialog_ModalHeader_27On_", InstallingText: "installdialog_InstallingText_C1stx", Throbber: "installdialog_Throbber_3uol7", Buttons: "installdialog_Buttons_txI8d" } }, 55280: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", LibrarySettings: "librarysettings_LibrarySettings_2nsOY", "ItemFocusAnim-darkerGrey-nocolor": "librarysettings_ItemFocusAnim-darkerGrey-nocolor_2X9Xl", "ItemFocusAnim-darkerGrey": "librarysettings_ItemFocusAnim-darkerGrey_1NHPB", "ItemFocusAnim-darkGrey": "librarysettings_ItemFocusAnim-darkGrey_1K9J2", "ItemFocusAnim-grey": "librarysettings_ItemFocusAnim-grey_3Naeh", "ItemFocusAnimBorder-darkGrey": "librarysettings_ItemFocusAnimBorder-darkGrey_2MRK9", "ItemFocusAnim-green": "librarysettings_ItemFocusAnim-green_PP9bG", focusAnimation: "librarysettings_focusAnimation_1F6N9", hoverAnimation: "librarysettings_hoverAnimation_3xtUp" } }, 83895: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", MediaPage: "mediapage_MediaPage_gG1JN", FullscreenScreenshot: "mediapage_FullscreenScreenshot_35IHD", RecentMedia: "mediapage_RecentMedia_j1fbS", RecentScreenshotList: "mediapage_RecentScreenshotList_1un7J", NoRecent: "mediapage_NoRecent_11zss", ScreenshotHeaderBanner: "mediapage_ScreenshotHeaderBanner_Bly4O", ScreenshotList: "mediapage_ScreenshotList_th2Qr", ScreenshotGrid: "mediapage_ScreenshotGrid_nMp1z", LoadingThrobber: "mediapage_LoadingThrobber_1Ahwt", Screenshot: "mediapage_Screenshot_3Qh8h", HalfWidth: "mediapage_HalfWidth_1lHbI", Image: "mediapage_Image_dmMTv", Large: "mediapage_Large_1a6Xo", ImageContainer: "mediapage_ImageContainer_120HU", Details: "mediapage_Details_10UNz", DetailsRow: "mediapage_DetailsRow_2F3cn", CaptureTime: "mediapage_CaptureTime_2UWVW", Name: "mediapage_Name_3PtHe", Fullscreen: "mediapage_Fullscreen_un2hc", SpoilerTag: "mediapage_SpoilerTag_3P-gF", Spoiler: "mediapage_Spoiler_QIvhs", Title: "mediapage_Title_3QFEe", Description: "mediapage_Description_3kGBg", CloudSyncStatus: "mediapage_CloudSyncStatus_1SH4B", Caption: "mediapage_Caption_24TCF", Date: "mediapage_Date_2Qjih", VisibilityType: "mediapage_VisibilityType_1-5ZA", SortOrder: "mediapage_SortOrder_21DQz", DividerLine: "mediapage_DividerLine_3muZW", FilterApp: "mediapage_FilterApp_xcY17", PostScreenshotToActivityFeedDialogContents: "mediapage_PostScreenshotToActivityFeedDialogContents_2U6hy", FullscreenScreenshotContainer: "mediapage_FullscreenScreenshotContainer_2-_E_", QRCodeDialog: "mediapage_QRCodeDialog_3OB6z", ScanCode: "mediapage_ScanCode_2qAaI", QRCode: "mediapage_QRCode_1aild", ShowFriendPicker: "mediapage_ShowFriendPicker_3gKH8", FriendList: "mediapage_FriendList_3KAxZ", FriendSelector: "mediapage_FriendSelector_2WKGD", FullWidthPersona: "mediapage_FullWidthPersona_2SJJv", ScreenshotUploader: "mediapage_ScreenshotUploader_3MBRz", UploadScreenshotBody: "mediapage_UploadScreenshotBody_1EOiG", Info: "mediapage_Info_38niS", DropDownControlButton: "mediapage_DropDownControlButton_3vv5V", OptionInfo: "mediapage_OptionInfo_2ikAf", "ItemFocusAnim-darkerGrey-nocolor": "mediapage_ItemFocusAnim-darkerGrey-nocolor_LlCzD", "ItemFocusAnim-darkerGrey": "mediapage_ItemFocusAnim-darkerGrey_1dDbM", "ItemFocusAnim-darkGrey": "mediapage_ItemFocusAnim-darkGrey_3-9dY", "ItemFocusAnim-grey": "mediapage_ItemFocusAnim-grey_RCdiH", "ItemFocusAnimBorder-darkGrey": "mediapage_ItemFocusAnimBorder-darkGrey_tCJeT", "ItemFocusAnim-green": "mediapage_ItemFocusAnim-green_1o4lq", focusAnimation: "mediapage_focusAnimation_2o8Bg", hoverAnimation: "mediapage_hoverAnimation_3ibf_" } }, 90509: e => { e.exports = { "duration-app-launch": "800ms", NotConnectedLabel: "bluetoothsettings_NotConnectedLabel_31Z4e", Header: "bluetoothsettings_Header_1Rqn-" } }, 57028: e => { e.exports = { "duration-app-launch": "800ms", NintendoSwitchLayoutToggle: "controllersettings_NintendoSwitchLayoutToggle_3Q8Vc", NintendoSwitchLayoutToggleDesc: "controllersettings_NintendoSwitchLayoutToggleDesc_3J9Od", NintendoButtonLayoutImg: "controllersettings_NintendoButtonLayoutImg_E3Ic8", Rumble: "controllersettings_Rumble_3r25x", "rumble-shake": "controllersettings_rumble-shake__a49l", "ItemFocusAnim-darkerGrey-nocolor": "controllersettings_ItemFocusAnim-darkerGrey-nocolor_1JgJo", "ItemFocusAnim-darkerGrey": "controllersettings_ItemFocusAnim-darkerGrey_3KZFI", "ItemFocusAnim-darkGrey": "controllersettings_ItemFocusAnim-darkGrey_1H5VN", "ItemFocusAnim-grey": "controllersettings_ItemFocusAnim-grey_sWfgL", "ItemFocusAnimBorder-darkGrey": "controllersettings_ItemFocusAnimBorder-darkGrey_23KB5", "ItemFocusAnim-green": "controllersettings_ItemFocusAnim-green_38W05", focusAnimation: "controllersettings_focusAnimation_-hdJz", hoverAnimation: "controllersettings_hoverAnimation_1eYgm" } }, 46822: e => { e.exports = { "duration-app-launch": "800ms", VisualizerContainer: "controllersettings_devicecalibration_VisualizerContainer_1NQE1", FlexRow: "controllersettings_devicecalibration_FlexRow_UvVhr", DataTitle: "controllersettings_devicecalibration_DataTitle_3JkTu", VisualizationMainContainer: "controllersettings_devicecalibration_VisualizationMainContainer_2FmQV", LeftStick: "controllersettings_devicecalibration_LeftStick_2zyIb", Trackpads: "controllersettings_devicecalibration_Trackpads_35yMV", VizElement: "controllersettings_devicecalibration_VizElement_20Hcl", LiveVizElement: "controllersettings_devicecalibration_LiveVizElement_2j8Bf", KeyContainer: "controllersettings_devicecalibration_KeyContainer_3wT8c", KeyLabelContainer: "controllersettings_devicecalibration_KeyLabelContainer_1mujl", KeyColorBlock: "controllersettings_devicecalibration_KeyColorBlock_2YBwd", KeyLabel: "controllersettings_devicecalibration_KeyLabel_3NKkb", LiveResultArrow: "controllersettings_devicecalibration_LiveResultArrow_3hsAB", JoystickContainer: "controllersettings_devicecalibration_JoystickContainer_2p-vN", GamepadPage: "controllersettings_devicecalibration_GamepadPage_IhwW5", NavLockoutButton: "controllersettings_devicecalibration_NavLockoutButton_2v_a0", JoystickSliderContainer: "controllersettings_devicecalibration_JoystickSliderContainer_1_FvH", GyroContainer: "controllersettings_devicecalibration_GyroContainer_1TDvs", CalibrationButton: "controllersettings_devicecalibration_CalibrationButton_1juT2", JoystickSlider: "controllersettings_devicecalibration_JoystickSlider_3XbLo", DeckDeviceLeftImage: "controllersettings_devicecalibration_DeckDeviceLeftImage_2yRH-", DeckDeviceRightImage: "controllersettings_devicecalibration_DeckDeviceRightImage_1pPGR", DeckDeviceFullImage: "controllersettings_devicecalibration_DeckDeviceFullImage_TWSoF", SliderContainer: "controllersettings_devicecalibration_SliderContainer_KkqhN", JoystickPageContainer: "controllersettings_devicecalibration_JoystickPageContainer_2W5CR", HapticsWarning: "controllersettings_devicecalibration_HapticsWarning_36tHw", InlineGlyph: "controllersettings_devicecalibration_InlineGlyph_1Sira", StartTestPrompt: "controllersettings_devicecalibration_StartTestPrompt_3Ipg_", ShowTestPrompt: "controllersettings_devicecalibration_ShowTestPrompt_3OvVM", PressureGraphLabel: "controllersettings_devicecalibration_PressureGraphLabel_2Hl8W", Vertical: "controllersettings_devicecalibration_Vertical_G2e89", DefaultClickLeft: "controllersettings_devicecalibration_DefaultClickLeft_1Eie4", DefaultClickRight: "controllersettings_devicecalibration_DefaultClickRight_3HRZn", "ItemFocusAnim-darkerGrey-nocolor": "controllersettings_devicecalibration_ItemFocusAnim-darkerGrey-nocolor_1K4bm", "ItemFocusAnim-darkerGrey": "controllersettings_devicecalibration_ItemFocusAnim-darkerGrey_EA6L2", "ItemFocusAnim-darkGrey": "controllersettings_devicecalibration_ItemFocusAnim-darkGrey_IwUCk", "ItemFocusAnim-grey": "controllersettings_devicecalibration_ItemFocusAnim-grey_2x-uv", "ItemFocusAnimBorder-darkGrey": "controllersettings_devicecalibration_ItemFocusAnimBorder-darkGrey_1zgdW", "ItemFocusAnim-green": "controllersettings_devicecalibration_ItemFocusAnim-green_3dxYH", focusAnimation: "controllersettings_devicecalibration_focusAnimation_2zpq7", hoverAnimation: "controllersettings_devicecalibration_hoverAnimation_128Nj" } }, 8154: e => { e.exports = { "duration-app-launch": "800ms", Container: "controllersettings_devicesupport_Container_2yrwS", TestStepLabel: "controllersettings_devicesupport_TestStepLabel_30M-Y", InfoColumn: "controllersettings_devicesupport_InfoColumn_34HzK", FullColumn: "controllersettings_devicesupport_FullColumn_3aMwN", Row: "controllersettings_devicesupport_Row_1ndHK", ControllerOutline: "controllersettings_devicesupport_ControllerOutline_SIIry", "ItemFocusAnim-darkerGrey-nocolor": "controllersettings_devicesupport_ItemFocusAnim-darkerGrey-nocolor_3igJB", "ItemFocusAnim-darkerGrey": "controllersettings_devicesupport_ItemFocusAnim-darkerGrey_tO7m4", "ItemFocusAnim-darkGrey": "controllersettings_devicesupport_ItemFocusAnim-darkGrey_3o9_N", "ItemFocusAnim-grey": "controllersettings_devicesupport_ItemFocusAnim-grey_11vcG", "ItemFocusAnimBorder-darkGrey": "controllersettings_devicesupport_ItemFocusAnimBorder-darkGrey_2bozM", "ItemFocusAnim-green": "controllersettings_devicesupport_ItemFocusAnim-green_Zoko_", focusAnimation: "controllersettings_devicesupport_focusAnimation_2Gpr4", hoverAnimation: "controllersettings_devicesupport_hoverAnimation_k93qk" } }, 72084: e => { e.exports = { "duration-app-launch": "800ms", TimeRangeControls: "displaysettings_TimeRangeControls_10XNA", And: "displaysettings_And_sL5P5" } }, 1565: e => { e.exports = { "duration-app-launch": "800ms", BandwidthInputWrapper: "downloadsettings_BandwidthInputWrapper_5U-dR", BandwidthInput: "downloadsettings_BandwidthInput_3Z54c", TimeRangeControls: "downloadsettings_TimeRangeControls_3f4w-", And: "downloadsettings_And_3iS26" } }, 75006: e => { e.exports = { "duration-app-launch": "800ms", UserList: "familysettings_UserList_3OP8k", UserListHeader: "familysettings_UserListHeader_2LOrs", User: "familysettings_User_30dkG" } }, 44081: e => { e.exports = { "duration-app-launch": "800ms", FakeFriend: "friendssettings_FakeFriend_3oeHw", "ItemFocusAnim-darkerGrey-nocolor": "friendssettings_ItemFocusAnim-darkerGrey-nocolor_Pp5Dr", "ItemFocusAnim-darkerGrey": "friendssettings_ItemFocusAnim-darkerGrey_ZuXjO", "ItemFocusAnim-darkGrey": "friendssettings_ItemFocusAnim-darkGrey_1oTd3", "ItemFocusAnim-grey": "friendssettings_ItemFocusAnim-grey_2ssOH", "ItemFocusAnimBorder-darkGrey": "friendssettings_ItemFocusAnimBorder-darkGrey_9JutR", "ItemFocusAnim-green": "friendssettings_ItemFocusAnim-green_2I_0u", focusAnimation: "friendssettings_focusAnimation_3EMGM", hoverAnimation: "friendssettings_hoverAnimation_31ylh" } }, 27777: e => { e.exports = { BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", "duration-app-launch": "800ms", AppSelectorButton: "homesettings_AppSelectorButton_14V8w", AppSelectorLabel: "homesettings_AppSelectorLabel_3skgP", Name: "homesettings_Name_1Hs3I", PortraitContainer: "homesettings_PortraitContainer_2osN-", Portrait: "homesettings_Portrait_3KttU", AppPriorityList: "homesettings_AppPriorityList_2hC7y", HiddenGameLabel: "homesettings_HiddenGameLabel_3p6Jb", GameCount: "homesettings_GameCount_1Bv_r", Description: "homesettings_Description_3a7DK", Instructions: "homesettings_Instructions_1dDcJ", "ItemFocusAnim-darkerGrey-nocolor": "homesettings_ItemFocusAnim-darkerGrey-nocolor_1V5GL", "ItemFocusAnim-darkerGrey": "homesettings_ItemFocusAnim-darkerGrey_3cGeB", "ItemFocusAnim-darkGrey": "homesettings_ItemFocusAnim-darkGrey_2s5mp", "ItemFocusAnim-grey": "homesettings_ItemFocusAnim-grey_2Py_4", "ItemFocusAnimBorder-darkGrey": "homesettings_ItemFocusAnimBorder-darkGrey_33MKk", "ItemFocusAnim-green": "homesettings_ItemFocusAnim-green_2IDq4", focusAnimation: "homesettings_focusAnimation_1deHH", hoverAnimation: "homesettings_hoverAnimation_2Xz1v" } }, 36374: e => { e.exports = { KeyboardThemeButtons: "keyboardsettings_KeyboardThemeButtons_1yVJW", ShowKeyboardButton: "keyboardsettings_ShowKeyboardButton_3vbFn" } }, 20261: e => { e.exports = { "duration-app-launch": "800ms", Checkmark: "networksettings_Checkmark_x5D0R", LockIcon: "networksettings_LockIcon_1oafX", LargerIcon: "networksettings_LargerIcon_14aKC", OfflineMode: "networksettings_OfflineMode_3moz2", NetworkWarning: "networksettings_NetworkWarning_2e3w8" } }, 83500: e => { e.exports = { "duration-app-launch": "800ms", Toggles: "notificationssettings_Toggles_27r3C", FriendsDescription: "notificationssettings_FriendsDescription_3fPiC", ToggleHeader: "notificationssettings_ToggleHeader_33Q-M", "ItemFocusAnim-darkerGrey-nocolor": "notificationssettings_ItemFocusAnim-darkerGrey-nocolor_2Uy8p", "ItemFocusAnim-darkerGrey": "notificationssettings_ItemFocusAnim-darkerGrey_2JtJV", "ItemFocusAnim-darkGrey": "notificationssettings_ItemFocusAnim-darkGrey_7rV9W", "ItemFocusAnim-grey": "notificationssettings_ItemFocusAnim-grey_2OPEe", "ItemFocusAnimBorder-darkGrey": "notificationssettings_ItemFocusAnimBorder-darkGrey_1tPa8", "ItemFocusAnim-green": "notificationssettings_ItemFocusAnim-green_1nlNR", focusAnimation: "notificationssettings_focusAnimation_3Znga", hoverAnimation: "notificationssettings_hoverAnimation_370Od" } }, 10071: e => { e.exports = { "duration-app-launch": "800ms", BreakNarrow: "1158px", BreakWide: "1774px", BreakUltraWide: "2100px", BreakShort: "600px", BreakTall: "1200px", RightBreakUltraNarrow: "600px", RightBreakNarrow: "884px", RightBreakWide: "1500px", RightBreakUltraWide: "1826px", GamepadUIBreakNarrow: "853px", GamepadUIBreakWide: "1280px", GamepadUIBreakShort: "500px", Streaming: "remoteplaysettings_Streaming_2-7Gv", Connected: "remoteplaysettings_Connected_9sxq5", TableHeader: "remoteplaysettings_TableHeader_1HL6K", Advanced: "remoteplaysettings_Advanced_1TZo2", SubSetting: "remoteplaysettings_SubSetting_1v7vl", ClientAdvancedPadder: "remoteplaysettings_ClientAdvancedPadder_1GrFH", "ItemFocusAnim-darkerGrey-nocolor": "remoteplaysettings_ItemFocusAnim-darkerGrey-nocolor_11y-x", "ItemFocusAnim-darkerGrey": "remoteplaysettings_ItemFocusAnim-darkerGrey_HBNRf", "ItemFocusAnim-darkGrey": "remoteplaysettings_ItemFocusAnim-darkGrey_2UNBe", "ItemFocusAnim-grey": "remoteplaysettings_ItemFocusAnim-grey_1jXlr", "ItemFocusAnimBorder-darkGrey": "remoteplaysettings_ItemFocusAnimBorder-darkGrey_1FJnr", "ItemFocusAnim-green": "remoteplaysettings_ItemFocusAnim-green_1plLu", focusAnimation: "remoteplaysettings_focusAnimation_QpLwH", hoverAnimation: "remoteplaysettings_hoverAnimation_3Dq5D" } }, 30965: e => { e.exports = { "duration-app-launch": "800ms", SystemInfoContainer: "systemsettings_SystemInfoContainer_1LZnk", slideInAnimation: "systemsettings_slideInAnimation_bii4M", LicensesDialog: "systemsettings_LicensesDialog_1wvG6", LicenseText: "systemsettings_LicenseText_2xERU", SoftwareUpdateSection: "systemsettings_SoftwareUpdateSection_RCuL6", HostnameInputWrapper: "systemsettings_HostnameInputWrapper_1iMsp", HostnameInput: "systemsettings_HostnameInput_3nZLb", "ItemFocusAnim-darkerGrey-nocolor": "systemsettings_ItemFocusAnim-darkerGrey-nocolor_e4ZxJ", "ItemFocusAnim-darkerGrey": "systemsettings_ItemFocusAnim-darkerGrey_2jYK8", "ItemFocusAnim-darkGrey": "systemsettings_ItemFocusAnim-darkGrey_1-OPx", "ItemFocusAnim-grey": "systemsettings_ItemFocusAnim-grey_2LbYx", "ItemFocusAnimBorder-darkGrey": "systemsettings_ItemFocusAnimBorder-darkGrey_jo70y", "ItemFocusAnim-green": "systemsettings_ItemFocusAnim-green_2LEAN", focusAnimation: "systemsettings_focusAnimation_3Grcp", hoverAnimation: "systemsettings_hoverAnimation_29BJm" } }, 38785: (e, t, n) => { "use strict"; n.d(t, { nf: () => i }); var a = n(36116), r = (n(67294), n(38440)), o = (n(75334), n(67698), n(78869)); function i(e) { a.OT.BIsInitialized() || a.OT.Initialize(new r.J(o.De.WEBAPI_BASE_URL, e)) } }, 155: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => zy }); var a = n(67294), r = n(70655), o = n(22950), i = n(94115), l = n(32186), s = n(21645), c = n(8334), m = n(82155), u = n(22188), d = n(13271), p = n(71488), _ = n(93725), g = n(27194); const h = "Raven/Raven2/FireFlight/Renoir Audio Processor"; class v { constructor(e) { this.m_mapVolumes = new Map, this.m_VolumeChangedSubscribable = new _.pB, this.m_id = e.id, this.m_sName = e.sName, this.m_bHasOutput = e.bHasOutput, this.m_mapVolumes.set(s.SJ.AllOutput, e.flOutputVolume), this.m_bHasInput = e.bHasInput, this.m_mapVolumes.set(s.SJ.Input, e.flInputVolume) } get id() { return this.m_id } get sName() { return this.m_sName } get bHasOutput() { return this.m_bHasOutput } get bHasInput() { return this.m_bHasInput } BOnboardAudio() { return this.m_sName == h } GetName(e) { let t = ""; switch (e) { case s.HL.Input: t = v.s_mapInputNames.get(this.m_sName); break; case s.HL.Output: t = v.s_mapOutputNames.get(this.m_sName) }return t ? (0, g.Xx)(t) : this.m_sName } HasDirection(e) { switch (e) { case s.HL.Input: return this.m_bHasInput; case s.HL.Output: return this.m_bHasOutput; default: return !1 } } setDeviceVolume(e, t) { var n; this.OnVolumeUpdated(e, t), null === (n = SteamClient.System.Audio.SetDeviceVolume(this.m_id, e, t)) || void 0 === n || n.then(p.zW) } setAsDefaultDevice(e) { SteamClient.System.Audio.SetDefaultDeviceOverride(this.m_id, e) } getDeviceVolume(e) { return this.m_mapVolumes.get(e) } OnVolumeUpdated(e, t) { this.m_mapVolumes.set(e, t), this.m_rtLastUpdate = Date.now() / 1e3, this.m_VolumeChangedSubscribable.Dispatch() } } v.s_mapInputNames = new Map([[h, "#Audio_DeviceMicrophone"]]), v.s_mapOutputNames = new Map([[h, "#Audio_DeviceSpeakers"], ["HD-Audio Generic", "#Audio_DeviceExternal"]]), (0, r.gn)([u.LO], v.prototype, "m_rtLastUpdate", void 0); class S { constructor() { var e; this.m_activeOutputDeviceId = s.sh, this.m_activeInputDeviceId = s.sh, this.m_overrideOutputDeviceId = s.sh, this.m_overrideInputDeviceId = s.sh, this.m_mapAudioDevices = new u.vP, this.m_VolumePressedSubscribable = new _.pB, this.m_nSuppressVolumeOverlayRefCount = 0, SteamClient.System.Audio && (SteamClient.System.Audio.RegisterForDeviceAdded(this.OnAudioDeviceAdded), SteamClient.System.Audio.RegisterForDeviceRemoved(this.OnAudioDeviceRemoved), SteamClient.System.Audio.RegisterForDeviceVolumeChanged(this.OnAudioDeviceVolumeChanged), SteamClient.System.Audio.RegisterForVolumeButtonPressed(this.OnVolumeButtonPressed), null === (e = SteamClient.System.Audio.GetDevices()) || void 0 === e || e.then((e => { this.m_activeOutputDeviceId = e.activeOutputDeviceId, this.m_activeInputDeviceId = e.activeInputDeviceId, this.m_overrideOutputDeviceId = e.overrideOutputDeviceId, this.m_overrideInputDeviceId = e.overrideInputDeviceId, e.vecDevices.forEach((e => this.RegisterDevice(e))) }))) } getDevices(e = null) { let t = Array.from(this.m_mapAudioDevices.values()); return null != e && (t = t.filter((t => !!t.HasDirection(e) && (!t.GetName(e).startsWith("echo-cancel") && !t.GetName(e).startsWith("filter-chain"))))), t.sort(((e, t) => (0, p.KL)(e.sName, t.sName))), t } getDevice(e) { return this.m_mapAudioDevices.get(e) } getActiveDeviceId(e) { switch (e) { case s.HL.Input: return this.m_activeInputDeviceId; case s.HL.Output: return this.m_activeOutputDeviceId; default: return console.error("Invaid direction"), s.sh } } getOverrideDeviceId(e) { switch (e) { case s.HL.Input: return this.m_overrideInputDeviceId; case s.HL.Output: return this.m_overrideOutputDeviceId; default: return console.error("Invaid direction"), s.sh } } OnAudioDeviceAdded(e) { this.m_mapAudioDevices.has(e.id) || this.RegisterDevice(e), this.UpdateDefaultDevices() } OnAudioDeviceRemoved(e) { this.m_mapAudioDevices.delete(e), this.UpdateDefaultDevices() } OnAudioDeviceVolumeChanged(e, t, n) { var a; null === (a = this.m_mapAudioDevices.get(e)) || void 0 === a || a.OnVolumeUpdated(t, n) } OnVolumeButtonPressed(e) { this.m_VolumePressedSubscribable.Dispatch(e) } RegisterDevice(e) { this.m_mapAudioDevices.set(e.id, new v(e)) } UpdateDefaultDevices() { var e; null === (e = SteamClient.System.Audio.GetDevices()) || void 0 === e || e.then((e => { this.m_activeOutputDeviceId = e.activeOutputDeviceId, this.m_activeInputDeviceId = e.activeInputDeviceId, this.m_overrideOutputDeviceId = e.overrideOutputDeviceId, this.m_overrideInputDeviceId = e.overrideInputDeviceId })) } SuppressVolumeOverlay() { this.m_nSuppressVolumeOverlayRefCount++ } UnSuppressVolumeOverlay() { this.m_nSuppressVolumeOverlayRefCount-- } SetEchoCancellationEnabled(e) { return SteamClient.System.Audio.SetEchoCancellationEnabled(e) } ClearDefaultDeviceOverride(e) { return SteamClient.System.Audio.ClearDefaultDeviceOverride(e) } } (0, r.gn)([u.LO], S.prototype, "m_activeOutputDeviceId", void 0), (0, r.gn)([u.LO], S.prototype, "m_activeInputDeviceId", void 0), (0, r.gn)([u.LO], S.prototype, "m_overrideOutputDeviceId", void 0), (0, r.gn)([u.LO], S.prototype, "m_overrideInputDeviceId", void 0), (0, r.gn)([u.LO], S.prototype, "m_nSuppressVolumeOverlayRefCount", void 0), (0, r.gn)([u.aD.bound], S.prototype, "OnAudioDeviceAdded", null), (0, r.gn)([u.aD.bound], S.prototype, "OnAudioDeviceRemoved", null), (0, r.gn)([u.aD.bound], S.prototype, "OnAudioDeviceVolumeChanged", null), (0, r.gn)([u.aD.bound], S.prototype, "OnVolumeButtonPressed", null); const E = new S; function b(e = null) { return (0, d.SZ)((() => E.getDevices(e))) } function C(e) { const t = E.getDevice(e); return (0, d.SZ)((() => null == t ? void 0 : t.m_rtLastUpdate)), t } function y(e) { return (0, d.SZ)((() => E.getActiveDeviceId(e))) } function f(e) { return C(y(e)) } function A(e, t) { const n = C(e), a = t == s.HL.Output ? s.SJ.AllOutput : s.SJ.Input, r = null == n ? void 0 : n.getDeviceVolume(a), o = (0, m.fB)(50); return { flVolume: r, setVolume: e => o((() => null == n ? void 0 : n.setDeviceVolume(a, e))) } } function I(e) { return A(y(e), e) } var k = n(45520), w = n(72684), N = n.n(w), T = n(46463), x = n(2369); function D(e) { const [t, n] = a.useState(null), { bKeepVisible: r, fnKeepVisible: o } = function (e) { const [t, n] = a.useState(!1), r = a.useRef(0), o = a.useCallback((() => { n(!0), window.clearTimeout(r.current), r.current = window.setTimeout((() => n(!1)), e) }), [e]); return a.useEffect((() => window.clearTimeout(r.current)), []), { bKeepVisible: t, fnKeepVisible: o } }(1e3), u = (0, d.SZ)((() => E.m_nSuppressVolumeOverlayRefCount)) > 0, p = a.useCallback((() => { u || o() }), [u, o]), _ = f(s.HL.Output); (0, m.Qg)(null == _ ? void 0 : _.m_VolumeChangedSubscribable, p), (0, m.Qg)(E.m_VolumePressedSubscribable, p); const g = r || null != t, h = g ? s.s7.Notification : null; (0, c.gI)(h); const { flVolume: v, setVolume: S } = I(s.HL.Output), [b, C] = (0, m.rA)(v, S, 1e3); if (!_) return null; const y = !_.BOnboardAudio(), A = _.GetName(s.HL.Output); return a.createElement("div", { className: (0, k.Z)(N().VolumePopin, { [N().VolumePopinHidden]: !g }) }, a.createElement("div", { className: N().VolumeSliderPosition }, a.createElement(i.gO, { max: 1, min: 0, step: .02, value: b, onChangeStart: e => n(e), onChange: C, onChangeComplete: (e, t) => n(void 0), isKeyNavTarget: !1, trackTone: "dark", showHandle: !1, icon: a.createElement(l.A6J, { flVolume: b, color: "#FFFFFF" }) }), y && a.createElement("div", { className: N().VolumeSliderLabel }, A))) } function F(e) { const { flVolume: t, setVolume: n } = A(e.id, e.direction), [r, o] = (0, m.rA)(t, n, 1e3); return a.createElement(i.z2, { disabled: null == t, min: 0, max: e.direction == s.HL.Input ? 1.3 : 1, step: 0, value: r, onChange: o, onChangeComplete: () => { e.direction != s.HL.Output || T.hq.BIsInOOBE || x.LT.PlayNavSound(x.qr.VolSound) }, label: e.label, layout: e.layout, padding: e.padding, icon: e.direction == s.HL.Output ? a.createElement(l.A6J, { flVolume: t }) : a.createElement(l.PjE, { off: 0 == t }) }) } function G(e) { const t = y(e.direction); return a.createElement(F, Object.assign({}, e, { id: t })) } function B(e) { const { flVolume: t } = I(s.HL.Output); return a.createElement(l.A6J, { flVolume: null != t ? t : 1 }) } function L(e) { var t; const n = f(e.direction), r = (o = e.direction, (0, d.SZ)((() => E.getOverrideDeviceId(o)))); var o; let l = b(e.direction).map((t => ({ data: t, label: t.GetName(e.direction) }))), s = ""; if (-1 == r) { const a = null !== (t = null == n ? void 0 : n.GetName(e.direction)) && void 0 !== t ? t : ""; s = (0, g.Xx)("#Audio_DeviceDefaultWithDevice", a) } else s = (0, g.Xx)("#Audio_DeviceDefault"); l.unshift({ data: null, label: s }); const c = -1 == r ? null : n, m = a.useCallback((t => { t ? t.setAsDefaultDevice(e.direction) : E.ClearDefaultDeviceOverride(e.direction) }), [e.direction]); return a.createElement(i.gB, { label: e.label, rgOptions: l, onChange: e => m(e.data), selectedOption: c, strDefaultLabel: "Select a value" }) } var R = n(73935), P = n(80893), O = n.n(P), M = (n(25970), n(87253)), H = n(1213), U = n(83773), X = n(27661), V = n(60471), W = n(85486), Z = n.n(W), z = (n(45651), n(28912)), q = n(69144), K = n(23207), j = n(79571), Q = n(29323), Y = n(14132), J = n(7121), $ = n(35570), ee = n(46089), te = n(8411), ne = n(4193), ae = n(24815), re = n(8178), oe = n(5977), ie = n(93518), le = n(32588), se = n(95684), ce = n(97086), me = n(77892), ue = n(78869), de = n(1171), pe = n(96541), _e = n(90396), ge = n(4796), he = n(78048), ve = n(71972), Se = n(86536), Ee = n(15283); function be() { let e = a.createElement(a.Fragment, null, (0, g.Xx)("#SteamUI_ValveSurvey_PromptLabel"), a.createElement("div", { className: ve.Prompt }, (0, g.Xx)("#SteamUI_ValveSurvey_PromptLabel2"))); (0, _e.AM)(a.createElement(de.uH, { className: ve.HardwareSurveyDialog, strTitle: (0, g.Xx)("#SteamUI_ValveSurvey_Title"), strDescription: e, onOK: () => { (0, _e.AM)(a.createElement(Ae, null), window) }, onCancel: () => { (0, pe.gV)().OptOutOfSurvey() }, strOKButtonText: (0, g.Xx)("#SteamUI_ValveSurvey_Prompt_Yes"), strCancelButtonText: (0, g.Xx)("#SteamUI_ValveSurvey_Prompt_No") }), window) } function Ce() { (0, _e.AM)(a.createElement(de.uH, { className: ve.HardwareSurveyDialog, strTitle: (0, g.Xx)("#SteamUI_ValveSurvey_Title"), strDescription: (0, g.Xx)("#SteamUI_ValveSurvey_ResultsLabel"), onOK: () => { q.de.NavigateToSteamURL("HardwareSurvey") }, strOKButtonText: (0, g.Xx)("#SteamUI_ValveSurvey_ResultsButton"), strCancelButtonText: (0, g.Xx)("#SteamUI_ValveSurvey_FinishButton") }), window) } function ye(e) { let { surveyEntry: t } = e; if ("string" == typeof t) return a.createElement("div", null, (0, g.Xx)("#" + t)); { const e = t.vecArgs.map((e => "#" == e[0] ? (0, g.Xx)(e) : e)); return a.createElement("div", null, (0, g.Xx)("#" + t.strName, ...e)) } } function fe(e) { let { surveyData: t } = e; return a.createElement(Y.s, { className: ve.HardwareSurveySection, focusable: !0 }, a.createElement("h3", null, (0, g.Xx)("#" + t.strSectionName), " "), t.vecEntries.map(((e, t) => a.createElement(ye, { key: t, surveyEntry: e })))) } function Ae(e) { let [t, n] = a.useState([]); const r = a.useCallback((e => { n(e) }), []), o = a.useCallback((() => { (0, pe.gV)().SendSurvey(), e.closeModal(), Ce() }), [e]); return a.useEffect((() => { SteamClient.User.RunSurvey(r) }), [r]), a.createElement(de.uH, { className: ve.HardwareSurveyDialog, strTitle: (0, g.Xx)("#SteamUI_ValveSurvey_Title"), strDescription: 0 == t.length ? void 0 : (0, g.Xx)("#SteamUI_ValveSurvey_SummaryLabel"), onCancel: e.closeModal, onOK: o, strOKButtonText: (0, g.Xx)("#SteamUI_ValveSurvey_SendSurvey"), bOKDisabled: 0 == t.length }, 0 == t.length && a.createElement(ge.t, null), 0 != t.length && a.createElement(Se.pr, { className: ve.HardwareSurveySections, scrollStepPercent: 60 }, a.createElement(Ee.e, null, t.map(((e, t) => a.createElement(fe, { key: t, surveyData: e })))))) } var Ie, ke = n(33099), we = n(54009), Ne = n(5848); function Te(e) { return a.useCallback((() => { te.Pp.ShowFriendChatDialog(e) }), [e]) } function xe(e) { return a.useCallback((() => { J.g4.NavigateToApp(e), T.hq.CloseSideMenus() }), [e]) } function De(e, t) { return a.useCallback((n => { e && e(n), t && t() }), [e, t]) } function Fe(e) { const { className: t } = e, n = (0, r._T)(e, ["className"]), o = Qe[e.group.eType]; return o ? a.createElement(o, Object.assign({ className: t }, n)) : null } function Ge(e) { let t = e.onActivate; t || (t = () => console.log("Missing activate function")); let n = !!e.timestamp; return a.createElement(Y.s, { className: Z().StandardTemplate, onActivate: t }, a.createElement("div", { className: Z().StandardLogoDimensions }, e.logo), e.personaStatus && a.createElement("div", { className: (0, k.Z)(Z().AvatarStatus, e.personaStatus) }), a.createElement("div", { className: Z().Content }, a.createElement("div", { className: Z().Header }, a.createElement("div", { className: Z().Icon }, e.icon), a.createElement("div", { className: Z().Title }, e.title), n && a.createElement(Le, { timestamp: e.timestamp })), a.createElement("div", { className: Z().Body }, e.children))) } function Be(e) { let { onActivate: t, icon: n, body: r, className: o } = e, i = De(t, (() => { })); return a.createElement(Y.s, { className: (0, k.Z)(Z().PinnedTemplate, o), onActivate: i }, a.createElement("div", { className: Z().Content }, a.createElement("div", { className: Z().PinnedBody }, a.createElement("span", { className: Z().Icon }, n), r))) } function Le(e) { const [t] = (0, ie.bT)("b24HourClock"); (0, d.SZ)((() => { X.zO((new Date).setHours(24, 0, 0, 0) - (new Date).getTime()) })); let n = new Date, r = new Date(1e3 * e.timestamp), o = (0, re.yK)(n, r) ? (0, le.Sc)(e.timestamp, { bForce24HourClock: t }) : (0, g.m9)(e.timestamp, !1, !1, !1); return a.createElement("div", { className: Z().Timestamp }, o) } function Re(e) { let { steamID: t, children: n } = e, o = (0, r._T)(e, ["steamID", "children"]), i = K.i8.GetFriendState(t), l = a.createElement("img", { className: Z().StandardLogoDimensions, src: i.persona.avatar_url_medium }), s = (0, ae.sB)(null == i ? void 0 : i.persona), c = Te(t); return a.createElement(Ge, Object.assign({ logo: l, personaStatus: s, onActivate: c }, o), n) } function Pe(e) { let { overview: t, children: n } = e, o = (0, r._T)(e, ["overview", "children"]), i = a.createElement(Ve, { overview: t, type: "standard" }); return a.createElement(Ge, Object.assign({ logo: i }, o), n) } function Oe(e) { let t = (0, k.Z)(Z().StandardNotificationDescription, e.multiline && Z().Multiline); return a.createElement("div", { className: t }, e.children) } function Me(e) { let t = (0, k.Z)(Z().StandardNotificationSubText, e.multiline && Z().Multiline); return a.createElement("div", { className: t }, e.children) } function He(e) { let { onActivate: t, onDismiss: n, logo: r, icon: o, title: i, body: l, personaStatus: s, className: c } = e, m = De(t, n); return a.createElement(Y.s, { className: (0, k.Z)(Z().ShortTemplate, c), onActivate: m }, a.createElement("div", { className: Z().ShortLogoDimensions }, r), e.personaStatus && a.createElement("div", { className: (0, k.Z)(Z().AvatarStatus, s) }), a.createElement("div", { className: Z().Content }, a.createElement("div", { className: Z().Header }, a.createElement("div", { className: Z().Icon }, o), a.createElement("div", { className: Z().Title }, i)), a.createElement("div", { className: Z().Body }, l))) } function Ue(e) { let { steamID: t, icon: n, body: r, onDismiss: o, onActivate: i, className: l } = e, s = K.i8.GetFriendState(t), c = a.createElement("img", { className: Z().ShortLogoDimensions, src: s.persona.avatar_url_medium }), m = a.createElement("span", null, s.displayName), u = (0, ae.sB)(null == s ? void 0 : s.persona); return a.createElement(He, { className: l, onDismiss: o, logo: c, icon: n, title: m, body: r, personaStatus: u, onActivate: i }) } function Xe(e) { let { overview: t, icon: n, title: r, onActivate: o, onDismiss: i } = e, l = a.createElement(Ve, { overview: t, type: "short" }), s = ze(t); return a.createElement(He, { logo: l, icon: n, title: r, body: s, onActivate: o, onDismiss: i }) } function Ve(e) { let t = e.overview && z.dk.GetIconURLForApp(e.overview) || se.Z; return a.createElement("div", { className: Z().AppLogo }, a.createElement("img", { className: Z().AppLogoBackgroundImage, src: t }), a.createElement("img", { src: t })) } function We(e) { let t = { backgroundImage: `url(${e.url})` }; return a.createElement("div", { style: t, className: Z().ScreenshotThumbnail }) } function Ze(e) { return e.location == Ie.Toast ? a.createElement(l.ui7, { className: Z().ShortNotificationSteamLogo }) : a.createElement(l.ui7, null) } function ze(e) { return e ? e.display_name : "Unknown" } !function (e) { e[e.Invalid = 0] = "Invalid", e[e.Toast = 1] = "Toast", e[e.Tray = 2] = "Tray" }(Ie || (Ie = {})); const qe = (0, Q.Pi)((e => { let t = Je(e.group), n = new j.K(t.data.steamid()), r = K.i8.GetFriendState(n), o = a.createElement(l.yBp, null); const i = a.useCallback((() => te.Pp.ShowInvitesDialog()), []); if (e.location == Ie.Toast) { let t = (0, g.Xx)("#Notification_FriendInvite_Short"); return a.createElement(Ue, { steamID: n, icon: o, body: t, onActivate: i, onDismiss: e.onDismiss }) } return a.createElement(Re, { steamID: n, icon: o, title: (0, g.Xx)("#Notification_FriendInvite_Title"), timestamp: t.rtCreated, onActivate: i }, a.createElement(Oe, null, r.displayName), a.createElement(Me, null, (0, g.Xx)("#Notification_FriendInvite_Description"))) })), Ke = (0, Q.Pi)((e => a.createElement("span", { className: Z().FriendName }, e.friend.displayName))); function je(e) { let t = K.i8.GetFriendState(e.steamID); return a.createElement("div", { className: (0, k.Z)(Z().MessageBody) }, a.createElement("span", { className: Z().Sender }, t.displayName), a.createElement("span", { className: Z().Dash }, " - "), a.createElement("span", { className: Z().Body }, e.message)) } const Qe = { 1: function (e) { let t = e.group.notifications[0], n = z.dk.GetAppOverviewByAppID(t.data.appid()), r = a.createElement(l.UWx, null), o = (0, g.Xx)("#Notification_DownloadComplete_Title"), i = ze(n), s = xe(t.data.appid()); return e.location == Ie.Toast ? a.createElement(Xe, { overview: n, icon: r, title: o, onActivate: s, onDismiss: e.onDismiss }) : a.createElement(Pe, { overview: n, icon: r, title: o, timestamp: t.rtCreated, onActivate: s }, a.createElement(Oe, null, i), a.createElement(Me, null, (0, g.Xx)("#Notification_DownloadComplete_Description"))) }, 2: qe, 3: function (e) { let t = Je(e.group), n = new j.K(t.data.steamid()), r = K.i8.GetFriendState(n), o = a.createElement(l.Qrh, { type: "generic" }), i = a.createElement("span", { className: Z().FriendInGameAppColor }, t.data.game_name()), s = Te(n), c = (0, g.kQ)("#Notification_FriendInGame_Body_Short", i); return e.location == Ie.Toast ? a.createElement(Ue, { steamID: n, icon: o, body: c, onActivate: s, onDismiss: e.onDismiss }) : a.createElement(Re, { steamID: n, icon: o, title: (0, g.Xx)("#Notification_FriendStatus_Title"), timestamp: t.rtCreated, onActivate: s }, a.createElement(Oe, null, r.displayName), a.createElement("div", { className: Z().StandardNotificationSubText }, c)) }, 4: function (e) { let t = Je(e.group), n = new j.K(t.data.steamid()), r = K.i8.GetFriendState(n), o = a.createElement(l._Oo, null), i = Te(n); if (e.location == Ie.Toast) { let t = (0, g.Xx)("#Notification_FriendOnline_Body_Short"); return a.createElement(Ue, { steamID: n, icon: o, body: t, onActivate: i, onDismiss: e.onDismiss }) } return a.createElement(Re, { steamID: n, icon: o, title: (0, g.Xx)("#Notification_FriendStatus_Title"), timestamp: t.rtCreated, onActivate: i }, a.createElement(Oe, null, r.displayName), a.createElement(Me, null, (0, g.Xx)("#Notification_FriendOnline_Body_Short"))) }, 5: function (e) { let t = Je(e.group), n = t.data.appid(), r = { strID: t.data.achievement_id(), strName: t.data.name(), strDescription: t.data.description(), strImage: t.data.image_url(), bAchieved: t.data.achieved(), rtUnlocked: t.data.rtime_unlocked(), bHidden: !1, flAchieved: t.data.global_achieved_pct(), flMinProgress: t.data.min_progress(), flCurrentProgress: t.data.current_progress(), flMaxProgress: t.data.max_progress() }, o = a.useCallback((() => { q.de.NavigateToSteamURL("SteamIDAchievementsPage", n), T.hq.CloseSideMenus() }), [n]); if (e.location == Ie.Toast) { let t = a.createElement(ee.KR, { className: Z().ShortLogoDimensions, achievement: r, hidden: !1, canGlow: !1 }), n = a.createElement(l.Gue, null), i = r.strName, s = r.strDescription; return a.createElement(He, { logo: t, icon: n, title: i, body: s, onActivate: o, onDismiss: e.onDismiss }) } return a.createElement(Y.s, { className: Z().StandardTemplate, onActivate: o }, a.createElement("div", { className: Z().AchievementBody }, a.createElement(ee.SJ, { key: r.strID, className: Z().SummaryAchievement, appid: n, achievement: r, featured: !0, showStats: !1 }))) }, 6: function (e) { let t = Je(e.group).data.pct_remaining(), n = Math.round(100 * t), r = n < 4, o = De(void 0, e.onDismiss), i = (0, k.Z)(Z().LowBattery, r && Z().ReallyLow); return a.createElement(Y.s, { className: i, onActivate: o }, a.createElement(l.ks1, { className: Z().LowBatteryGauge }), a.createElement("div", { className: Z().Text }, (0, g.Xx)("#QuickAccess_Tab_Notifications_BatteryLow")), a.createElement("div", { className: Z().Remaining }, `${n}%`)) }, 7: function (e) { let t = Je(e.group), n = 2 == t.data.type(), r = n ? (0, g.Xx)("#Notification_SystemUpdateRestart_Title") : (0, g.Xx)("#Notification_SystemUpdateAvailable_Title"), i = a.createElement(Ze, { location: e.location }), s = a.createElement(l.ccg, { className: Z().SystemUpdateIcon }), c = (0, oe.k6)(), m = a.useCallback((() => { c.push(o.Z5.GamepadUI.Settings.System()), T.hq.CloseSideMenus() }), [c]); if (e.location == Ie.Toast) { let t = n ? (0, g.Xx)("#Notification_SystemUpdateRestart_Body_Short") : (0, g.Xx)("#Notification_SystemUpdateAvailable_Body_Short"); return a.createElement(He, { logo: i, icon: s, title: r, body: t, onActivate: m, onDismiss: e.onDismiss }) } let u = n ? (0, g.Xx)("#Notification_SystemUpdateRestart_Body") : (0, g.Xx)("#Notification_SystemUpdateAvailable_Body"); return a.createElement(Ge, { logo: i, icon: s, title: r, timestamp: t.rtCreated, onActivate: m }, a.createElement(Oe, { multiline: !0 }, u)) }, 8: function (e) { let t = Je(e.group), n = t.data.steamid(), r = e.group.notifications.length, o = a.useMemo((() => new j.K(n)), [n]), i = a.useCallback((() => { te.Pp.ShowFriendChatDialog(o) }), [o]), s = a.createElement(l.enk, null); if (e.location == Ie.Toast) return a.createElement(Ue, { steamID: o, icon: s, body: t.data.body(), onActivate: i, onDismiss: e.onDismiss }); let c = K.i8.GetFriendState(o); return a.createElement(Re, { steamID: o, icon: s, title: c.displayName, timestamp: t.rtCreated, onActivate: i, count: r }, a.createElement(Oe, { multiline: !0 }, t.data.body())) }, 9: function (e) { let t = Je(e.group), n = e.group.notifications.length, r = new j.K(t.data.steamid_sender()), o = t.data.chat_group_id(), i = t.data.chat_id(), s = t.data.body(), c = a.createElement(l.enk, null), m = a.useCallback((() => { te.Pp.ShowChatRoomGroupDialog(o, i) }), [o, i]); return e.location == Ie.Toast ? a.createElement(Ue, { steamID: r, icon: c, body: s, onActivate: m, onDismiss: e.onDismiss }) : a.createElement(Re, { steamID: r, icon: c, title: (0, g.Xx)("#Notification_GroupMessage_Title"), timestamp: t.rtCreated, onActivate: m, count: n }, a.createElement(je, { steamID: r, message: t.data.body() })) }, 10: function (e) { let t = Je(e.group).data.new_invite_count(), n = (0, g.Xx)("#Notification_FriendInviteRollup_Body", t.toLocaleString()), r = a.createElement(l.yBp, null), o = a.createElement(Ze, { location: e.location }), i = (0, g.Xx)("#Notification_FriendInviteRollup_Title"); const s = a.useCallback((() => te.Pp.ShowInvitesDialog()), []); return e.location == Ie.Toast ? a.createElement(He, { logo: o, icon: r, title: i, body: n, onActivate: s, onDismiss: e.onDismiss }) : null }, 11: function (e) { const t = Je(e.group), n = K.i8.GetFriendState(t.data.accountid_owner()), r = a.createElement(l.qt5, null), o = a.createElement(Ke, { friend: n }), i = (0, g.Xx)("#Notification_FamilySharing_Title"), s = (0, g.kQ)(t.data.authorized() ? "#Notification_FamilySharingAuthorization_Authorized" : "#Notification_FamilySharingAuthorization_Deuthorized", o), c = a.createElement(Ze, { location: e.location }); return e.location == Ie.Toast ? a.createElement(He, { logo: c, icon: r, title: i, body: s, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: c, icon: r, title: i, timestamp: t.rtCreated }, a.createElement(Oe, { multiline: !0 }, s)) }, 12: function (e) { const t = Je(e.group), n = K.i8.GetFriendState(t.data.accountid_owner()), r = a.createElement(l.qt5, null), o = a.createElement(Ke, { friend: n }), i = Math.floor(t.data.seconds_remaining() / 60), s = (0, g.Xx)("#Notification_FamilySharing_Title"), c = a.createElement(Ze, { location: e.location }), m = (0, g.kQ)("#Notification_FamilySharingAuthorization_StopPlaying", o, i); return e.location == Ie.Toast ? a.createElement(He, { logo: c, icon: r, title: s, body: m, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: c, icon: r, title: s, timestamp: t.rtCreated }, a.createElement(Oe, { multiline: !0 }, m)) }, 13: function (e) { const t = Je(e.group), n = K.i8.GetFriendState(t.data.accountid_owner()), r = a.createElement(l.qt5, null), o = a.createElement(Ke, { friend: n }), i = (0, g.Xx)("#Notification_FamilySharing_Title"), s = a.createElement(Ze, { location: e.location }), c = (0, g.kQ)("#Notification_FamilySharingAuthorization_LibraryAvailable", o); return e.location == Ie.Toast ? a.createElement(He, { logo: s, icon: r, title: i, body: c, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: s, icon: r, title: i, timestamp: t.rtCreated }, a.createElement(Oe, { multiline: !0 }, c)) }, 14: function (e) { let t = Je(e.group), n = t.data.screenshot_handle(), r = a.useCallback((() => { J.g4.NavigateToMedia({ strScreenshotHandle: n }), T.hq.CloseSideMenus() }), [n]); const o = V.g_(n); if (!o.isSuccess || !o.data) return null; let i = z.dk.GetAppOverviewByAppID(o.data.nAppID), s = a.createElement(We, { url: o.data.strUrl }), c = a.createElement(l.w_C, null), m = (0, g.Xx)(t.data.description()), u = i ? i.display_name : ""; return e.location == Ie.Toast ? a.createElement(He, { logo: s, icon: c, title: m, body: u, onActivate: r, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: s, icon: c, title: m, timestamp: t.rtCreated, onActivate: r }, a.createElement(Oe, null, u)) }, 15: function (e) { let t = e.group.notifications[0], n = z.dk.GetAppOverviewByAppID(t.data.appid()), r = a.createElement(l.SWB, { error: !0 }), o = (0, g.Xx)("#Notification_CloudSyncFailure_Title"), i = ze(n), s = xe(t.data.appid()); return e.location == Ie.Toast ? a.createElement(Xe, { overview: n, icon: r, title: o, onActivate: s, onDismiss: e.onDismiss }) : a.createElement(Pe, { overview: n, icon: r, title: o, timestamp: t.rtCreated, onActivate: s }, a.createElement(Oe, null, i)) }, 16: function (e) { let t = e.group.notifications[0], n = z.dk.GetAppOverviewByAppID(t.data.appid()), r = a.createElement(l.SWB, { error: !0 }), o = (0, g.Xx)("#Notification_CloudSyncConflict_Title"), i = ze(n), s = xe(t.data.appid()); return e.location == Ie.Toast ? a.createElement(Xe, { overview: n, icon: r, title: o, onActivate: s, onDismiss: e.onDismiss }) : a.createElement(Pe, { overview: n, icon: r, title: o, timestamp: t.rtCreated, onActivate: s }, a.createElement(Oe, null, i)) }, 17: function (e) { let t = Je(e.group), n = new j.K(t.data.steamid()), r = K.i8.GetFriendState(n), o = a.createElement(l.NBO, null), i = () => T.hq.OpenQuickAccessMenu($.hG.VoiceChat); if (e.location == Ie.Toast) { let t = (0, g.Xx)("#Notification_IncomingVoiceChat"); return a.createElement(Ue, { steamID: n, icon: o, body: t, onActivate: i, onDismiss: e.onDismiss, className: Z().IncomingCallToast }) } return a.createElement(Re, { steamID: n, icon: o, title: (0, g.Xx)("#Notification_IncomingVoiceChat"), timestamp: t.rtCreated, onActivate: i }, a.createElement(Oe, null, r.displayName)) }, 18: function (e) { const t = (0, d.SZ)((() => ce.tH.Get().GetControllers())).find((e => 4 == e.eControllerType)), n = (0, me.he)(null == t ? void 0 : t.strSerialNumber), r = De(a.useCallback((() => { T.hq.NavigateToAccount() }), []), e.onDismiss); if (!t || n) return null; const o = (0, g.Xx)("#Notification_SteamDeckRewards_Title"), i = (0, g.Xx)("#Notification_SteamDeckRewards_Body"), s = a.createElement(l.vrg, null), c = a.createElement(l.daM, null); return e.location == Ie.Toast ? a.createElement(He, { logo: s, icon: c, title: o, body: i, onActivate: r, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: s, icon: c, title: o, onActivate: r }, a.createElement(Oe, { multiline: !0 }, i)) }, 19: function (e) { const t = Je(e.group), n = t.data.sender_name(), r = (0, g.Xx)("#Notification_GiftReceived_Body"), o = (0, g.Xx)("#Notification_GiftReceived_Description", n), i = (0, g.Xx)("#Notification_GiftReceived_Title"), s = a.createElement(l.ncs, null), c = a.createElement(Ze, { location: e.location }), m = a.useCallback((() => { let e = new j.K(K.i8.currentUserSteamID), t = `${ue.De.COMMUNITY_BASE_URL}profiles/${e.ConvertTo64BitString()}/inventory`; T.hq.NavigateToSteamWeb(t) }), []); return e.location == Ie.Toast ? a.createElement(He, { logo: c, icon: s, title: i, body: r, onActivate: m, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: c, icon: s, title: i, onActivate: m, timestamp: t.rtCreated }, a.createElement(Oe, null, r), a.createElement(Me, null, o)) }, 20: function (e) { const t = Je(e.group), n = t.data.new_item_count(), r = n > 1 ? (0, g.Xx)("#Notification_ItemAnnouncement_Body_Plural", n) : (0, g.Xx)("#Notification_ItemAnnouncement_Body"), o = (0, g.Xx)("#Notification_ItemAnnouncement_Title"), i = a.createElement(l.F8F, null), s = a.createElement(Ze, { location: e.location }), c = De(a.useCallback((() => { let e = new j.K(K.i8.currentUserSteamID), t = `${ue.De.COMMUNITY_BASE_URL}profiles/${e.ConvertTo64BitString()}/inventory`; T.hq.NavigateToSteamWeb(t) }), []), e.onDismiss); return e.location == Ie.Toast ? a.createElement(He, { logo: s, icon: i, title: o, body: r, onActivate: c, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: s, icon: i, title: o, onActivate: c, timestamp: t.rtCreated }, a.createElement(Oe, null, r)) }, 21: function (e) { let t = Je(e.group), n = (0, g.Xx)("#Notifiation_HardwareSurveyPending_Title"), r = (0, g.Xx)("#Notifiation_HardwareSurveyPending_Body"), o = a.createElement(Ze, { location: e.location }); const i = a.createElement(l.daM, null), s = De(a.useCallback((() => { (0, pe.gV)().BHardwareSurveyPending() ? be() : Ce() }), []), e.onDismiss); return e.location == Ie.Toast ? a.createElement(He, { logo: o, icon: i, title: n, body: r, onActivate: s, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: o, icon: i, title: n, timestamp: t.rtCreated, onActivate: s }, a.createElement(Oe, { multiline: !0 }, r)) }, 22: function (e) { let t = (0, d.SZ)((() => ke.J.BSteamDeckHasLowDiskSpace())), n = De((() => (0, we.SM)(0)), e.onDismiss); return t ? a.createElement(Y.s, { className: Z().LowDiskSpace, onActivate: n }, a.createElement(l.OOJ, { className: Z().HardDrive }), a.createElement("div", { className: Z().Text }, (0, g.Xx)("#QuickAccess_Tab_Notifications_LowDiskSpace"))) : null }, 23: function (e) { const t = Je(e.group).data.notification_type(); let n = De(void 0, e.onDismiss); const r = (0, k.Z)(Z().BatteryTemperature, "normal" != t && Z().Warning), o = a.createElement(l.Zpg, { className: Z().Icon }); let i = "#Notification_BatteryTemperature_Normal", s = "#Notification_BatteryTemperature_Normal_Desc"; switch (t) { case "low": i = "#Notification_BatteryTemperature_Low", s = "#Notification_BatteryTemperature_Low_Desc"; break; case "high": i = "#Notification_BatteryTemperature_High", s = "#Notification_BatteryTemperature_High_Desc"; break; default: i = "#Notification_BatteryTemperature_Normal", s = "#Notification_BatteryTemperature_Normal_Desc" }return a.createElement(Y.s, { className: r, onActivate: n }, o, a.createElement("div", { className: Z().Content }, a.createElement("div", { className: Z().Title }, (0, g.Xx)(i)), a.createElement("div", { className: Z().Description }, (0, g.Xx)(s)))) }, 24: function (e) { const t = Je(e.group), n = (0, g.Xx)("#Notification_DockUnsupportedFirmware_Title"), r = (0, g.Xx)("#Notification_DockUnsupportedFirmware_Body"), o = a.createElement(l.rY6, null), i = a.createElement(l.daM, null), s = De(a.useCallback((() => { (0, Ne.t)() }), []), e.onDismiss); return e.location == Ie.Toast ? a.createElement(He, { logo: o, icon: i, title: n, body: r, onActivate: s, onDismiss: e.onDismiss }) : a.createElement(Ge, { logo: o, icon: i, title: n, timestamp: t.rtCreated, onActivate: s }, a.createElement(Oe, { multiline: !0 }, r)) } }; function Ye(e) { return !!e && 6 === e.eType } function Je(e) { return e.notifications[e.notifications.length - 1] } const $e = parseInt(O().toastAnimateInMS) + parseInt(O().toastAnimateOutMS); function et(e) { const t = a.useCallback((e => T.hq.NavigationManager.RegisterInputSource(e)), []); let n = (0, H.Hm)(t, { title: "Toast" }), r = (0, m.e1)(ot().CurrentToast); const i = null == r ? void 0 : r.nNotificationID; let l = null != r, s = (0, oe.$B)(o.Z5.GamepadUI.AppRunning()); const c = a.useCallback((() => { ot().OnShowComplete(i) }), [i]); if (!n) return null; let u = (0, k.Z)(O().ToastPlaceholder, Ye(r) && O().Warning, !1, s && O().InGame); return a.createElement(a.Fragment, null, a.createElement(H.z4, { className: u, browser: n.GetBrowserView(), visible: l }), R.createPortal(a.createElement(tt, { notification: r, onDismiss: c }), n.GetRenderElement())) } function tt(e) { const t = a.useRef(); let n, r = (0, k.Z)(O().ToastPopup, Ye(e.notification) && O().Warning); return e.notification && (n = { eType: e.notification.eType, notifications: [e.notification] }), a.createElement(M.Fe, { style: nt(e.notification), navID: "ToastContainer", className: r, NavigationManager: T.hq.NavigationManager, secondary: !0, navTreeRef: t }, e.notification && a.createElement(Fe, { location: Ie.Toast, group: n, onDismiss: e.onDismiss })) } function nt(e) { return e ? { "--toast-duration": `${e.nToastDurationMS}ms` } : {} } class at { constructor() { this.m_currentToast = (0, _.vq)(null), this.m_hTimer = 0, U.Xo.ToastNotificationCallback.Register(this.Update), T.hq.VirtualKeyboardManager.IsShowingVirtualKeyboard.Subscribe(this.Update), this.Update() } Update() { let e = U.Xo.GetCurrentToastNotification(); this.m_currentToast.Value && e != this.m_currentToast.Value ? this.OnShowComplete(this.m_currentToast.Value.nNotificationID) : this.m_hTimer || this.m_currentToast.Value || T.hq.VirtualKeyboardManager.IsShowingVirtualKeyboard.Value || e && (this.m_currentToast.Set(e), U.Xo.PlayNotificationSound(e), this.m_hTimer = window.setTimeout((() => this.OnShowComplete(this.m_currentToast.Value.nNotificationID)), e.nToastDurationMS + $e)) } OnShowComplete(e) { if (e == this.m_currentToast.Value.nNotificationID) { window.clearTimeout(this.m_hTimer); let e = this.m_currentToast.Value; this.m_currentToast.Set(null), this.m_hTimer = window.setTimeout(this.OnTimerComplete, 1e3), U.Xo.ExpireToast(e) } } OnTimerComplete() { this.m_hTimer = 0, this.Update() } get CurrentToast() { return this.m_currentToast } } (0, r.gn)([m.ak], at.prototype, "Update", null), (0, r.gn)([m.ak], at.prototype, "OnShowComplete", null), (0, r.gn)([m.ak], at.prototype, "OnTimerComplete", null); let rt = null; function ot() { return rt || (rt = new at), rt } var it = n(44660), lt = n(55346), st = (n(40792), n(74143)), ct = n(64715), mt = n(27715), ut = n(58238), dt = n(48909), pt = n(27961), _t = n(75818), gt = n(40331), ht = n(3903), vt = n.n(ht), St = n(22097), Et = n.n(St); function bt(e) { var t; let n = e => e.preventDefault(), r = null === (t = e.visible) || void 0 === t || t, o = "darkblur" == e.appearance || "blur" == e.appearance, i = "transparent" != e.appearance && "blur" != e.appearance, l = (0, k.Z)(Et().BackgroundGlass, r && Et().Visible, o && Et().Blur, i && Et().DrawBackground), s = { zIndex: e.zIndex }; return a.createElement("div", { className: l, style: s, onClick: t => { t.preventDefault(), e.onClick && e.onClick(t) }, onMouseDown: n, onTouchStart: n }, e.children) } var Ct = n(3527); class yt extends it.Uu { constructor() { super(...arguments), this.m_bVisible = !1, this.m_submenu = null, this.m_label = null } get options() { return this.m_options } get content() { return this.m_rctContent } get submenu() { return this.m_submenu } get visible() { return this.m_bVisible } get label() { return this.m_label } get presentation() { return 1 } get styles() { return vt() } SetOnHideCallback(e) { this.m_fnOnHideCallback = e } CancelHideSubMenuTimer() { } TakeFocus() { this.m_fnTakeFocus && this.m_fnTakeFocus() } BIsSubMenuVisible() { return this.m_submenu && this.m_submenu.visible } SetLabel(e) { void 0 !== e && (this.m_label = e) } HideSubMenu() { this.m_submenu && this.m_submenu.HideSelf() } } (0, r.gn)([u.LO], yt.prototype, "m_bVisible", void 0), (0, r.gn)([u.LO], yt.prototype, "m_submenu", void 0), (0, r.gn)([u.LO], yt.prototype, "m_label", void 0), (0, r.gn)([u.aD], yt.prototype, "HideSubMenu", null); class ft extends yt { constructor(e, t, n, r, o) { var i; super(), this.m_refModal = a.createRef(), this.m_ownerWindow = null !== (i = null == t ? void 0 : t.ownerDocument.defaultView) && void 0 !== i ? i : window, this.m_ownerWindow.opener && (this.m_ownerWindow = this.m_ownerWindow.opener), it.Uu.sm_iActiveContextMenuInstance && it.Uu.sm_iActiveContextMenuInstance.Hide(), it.Uu.sm_iActiveContextMenuInstance = this, this.m_options = o || {}, this.m_rctContent = e, this.m_rctModalElement = a.createElement(It, { instance: this, ref: this.m_refModal, key: this.key }, e) } Show() { this.m_modalInstance = (0, de.BL)(this.m_ownerWindow).ShowModal(this.m_rctModalElement), this.m_bVisible = !0 } Hide() { this.m_bVisible && (this.m_bVisible = !1, this.HideSubMenu(), this.m_fnOnHideCallback && this.m_fnOnHideCallback(), this.m_modalInstance.Close()) } HideSelf() { this.Hide() } ShowSubMenu(e, t) { return this.HideSubMenu(), this.m_submenu = new At(this, t(), e), this.m_submenu.Show(), this.m_submenu } BIsElementInMenuHierarchy(e) { return gt.ni(this.m_refModal.current, e) } BIsSubMenu() { return !1 } } (0, r.gn)([u.aD], ft.prototype, "Show", null), (0, r.gn)([u.aD], ft.prototype, "Hide", null), (0, r.gn)([u.aD], ft.prototype, "HideSelf", null), (0, r.gn)([u.aD], ft.prototype, "ShowSubMenu", null); class At extends yt { constructor(e, t, n) { super(), this.m_parentInstance = null, this.m_ownerWindow = n.ownerDocument.defaultView, this.m_options = e.options, this.m_parentInstance = e, this.m_rctContent = a.createElement(_t.Yr.Provider, { value: this, key: this.key }, t) } Show() { this.m_bVisible = !0 } Hide() { this.m_parentInstance.Hide() } HideSelf() { this.m_submenu && this.m_submenu.HideSelf(), this.m_bVisible = !1, this.m_fnOnHideCallback && this.m_fnOnHideCallback() } ShowSubMenu(e, t) { return this.HideSubMenu(), this.m_submenu = new At(this, t(), e), this.m_submenu.Show(), this.m_submenu } BIsElementInMenuHierarchy(e) { return this.m_parentInstance.BIsElementInMenuHierarchy(e) } BIsSubMenu() { return !0 } } (0, r.gn)([u.aD], At.prototype, "Show", null), (0, r.gn)([u.aD], At.prototype, "Hide", null), (0, r.gn)([u.aD], At.prototype, "HideSelf", null), (0, r.gn)([u.aD], At.prototype, "ShowSubMenu", null); const It = a.forwardRef((function (e, t) { const n = () => { var t; e.instance.options.onCancel && e.instance.options.onCancel(), null === (t = $.on.Get()) || void 0 === t || t.ReopenPreModalSideMenu(), e.instance.Hide() }; let r = [], o = null; return (0, d.SZ)((() => { for (let t = e.instance; t && t.visible; t = t.submenu)r.push(t.content), o = t.label })), (0, c.gI)(s.s7.Overlay), (0, Ct.DC)(!0, "BasicUIContextMenuModal"), (0, pt.co)("hidden", "BasicUIContextMenuModal"), (0, Ct.kp)(null, "BasicUIContextMenuModal"), (0, Ct.Lt)(!0, "BasicUIContextMenuModal"), a.createElement(_t.Yr.Provider, { value: e.instance }, a.createElement("div", { className: (0, k.Z)("BasicUIContextMenu", vt().BasicContextMenuModal), ref: t }, a.createElement(bt, { appearance: "transparent", onClick: n, zIndex: -1 }), o && a.createElement(a.Fragment, null, a.createElement("div", { className: vt().BasicContextMenuHeader }, o), a.createElement("div", { className: vt().BasicContextMenuHeaderShrinkableSpacing })), a.createElement(Y.s, { className: vt().BasicContextMenuContainer, onCancelButton: n }, r))) })); var kt = n(62307), wt = n(65030), Nt = n(98446), Tt = n(57694), xt = n(2563), Dt = n(93899), Ft = n(19067), Gt = n(52414), Bt = n.n(Gt), Lt = (n(2099), n(4169)), Rt = n(48175), Pt = n.n(Rt); function Ot(e) { var t; (0, c.gI)(s.s7.Overlay), (0, Ct.DC)(!0, "GamepadModalPosition"), (0, pt.co)("hidden", "GamepadModalPosition"), (0, Ct.kp)(null, "GamepadModalPosition"), (0, Ct.Lt)(!0, "GamepadModalPosition"); const n = null !== (t = e.padding) && void 0 !== t ? t : "standard", r = (0, k.Z)(Pt().ModalPosition, "standard" == n && Pt().WithStandardPadding, e.className); return a.createElement(Y.s, { className: r, onCancelButton: e.onEscKeypress, focusableIfNoChildren: !0 }, a.createElement(Ee.O, null, a.createElement(mt.S, null, e.children))) } function Mt(e) { return a.createElement(de.A.Provider, { value: { ModalPosition: Ot } }, e.children) } var Ht = n(72459), Ut = n(27910); function Xt(e) { return a.createElement(de.Yy, { active: !0 }, a.createElement(Ot, { padding: "none" }, a.createElement(Vt, Object.assign({}, e)))) } function Vt(e) { const { url: t, onClose: n, appid: r } = e; let [o, i] = function (e, t) { let n = a.useRef(), r = a.useRef(); r.current = t; let o = a.useCallback((() => { r.current && r.current() }), [r]), i = (0, m.xK)((t => { if (t) return n.current = new Wt(t, e, o), () => n.current.Close() }), [n, e]); return [i, n] }(r, n), l = function (e, t) { return a.useCallback((() => { let n = e.current; return !n || (n.BTryGoBack() || t(), !0) }), [e, t]) }(i, n); (0, T.PN)(l); let [s, c] = function (e) { let [t, n] = a.useState(!1), r = a.useCallback((t => { if (t.detail.button != Ut.eV.STEAM_GUIDE && t.detail.button != Ut.eV.STEAM_QUICK_MENU) return; n(!0), function (e, t) { let n = a.createElement(de.uH, { strTitle: (0, g.Xx)("#Overlay_FriendInviteToGame_ReturnToGame"), strDescription: (0, g.Xx)("#Overlay_Browser_ReturnToGame"), onOK: e, onCancel: t }); (0, _e.AM)(n, window, { strTitle: (0, g.Xx)("#Overlay_FriendInviteToGame_ReturnToGame") }) }((() => e()), (() => n(!1))), t.preventDefault(), t.stopPropagation() }), [n, e]); return [t, r] }(n); return a.createElement(Y.s, { className: Bt().BrowserWrapper, onButtonDown: c, onCancelButton: l }, a.createElement(Lt.AR, { refBrowser: o, name: "OverlayBrowser", url: t, visible: !s, autoFocus: !0, displayURLBar: !0 })) } class Wt { constructor(e, t, n) { this.m_rgRegisteredProtocols = [], this.m_browser = e, this.m_browser.SetBeforeCloseHandler(this.BeforeClose), this.m_unAppID = t, this.m_fnClose = n, this.m_hProtocolCallback = Dt.H.GetOverlayBrowserProtocolCallback().Register(this.OnOverlayBrowserProtocolRegistration), this.InitBrowser(), this.SendOverlayProtocols() } Close() { this.m_hProtocolCallback && this.m_hProtocolCallback.Unregister() } InitBrowser() { this.m_browser.GetBrowser().SetSteamURLCallback(this.OnSteamURL), this.m_browser.GetBrowser().on("blocked-request", this.OnBlockedRequest) } BeforeClose() { this.m_fnClose() } OnBlockedRequest(e) { for (let t of this.m_rgRegisteredProtocols) e.startsWith(t.m_strScheme + "://") && SteamClient.Overlay.HandleProtocolForOverlayBrowser(this.m_unAppID, e) } OnSteamURL(e) { return "steam://close" == e || "steam://close/" == e ? (this.m_fnClose(), !0) : !!e.startsWith("steam://gamewebcallback/") && (SteamClient.Overlay.HandleGameWebCallback(e), this.m_fnClose(), !0) } OnOverlayBrowserProtocolRegistration(e) { this.m_unAppID == e && this.SendOverlayProtocols() } SendOverlayProtocols() { this.m_rgRegisteredProtocols = Dt.H.GetOverlayBrowserProtocols(this.m_unAppID).slice(); let e = this.m_rgRegisteredProtocols.map((e => e.m_strScheme)).join(";"); this.m_browser.GetBrowser().SetBlockedProtocols(e) } BTryGoBack() { return !!this.m_browser.GetBrowser().CanGoBackward() && (this.m_browser.GetBrowser().GoBack(), !0) } } function Zt(e) { let t = (0, d.SZ)((() => K.i8.GetFriendState(new j.K(e.request.steamidTarget)))); return a.createElement(de.Yy, { active: !0 }, a.createElement(de.uH, { onOK: () => { e.onOK(), Dt.H.RemoveDialogRequest(e.request) }, onCancel: () => { Dt.H.RemoveDialogRequest(e.request) }, strTitle: e.strTitle, strDescription: e.strDescription }, a.createElement("div", { className: Ft.FriendOverlayDialogUser }, a.createElement(Nt._1, { className: Ft.Avatar, loopDuration: "Infinite", size: "FillArea", persona: null == t ? void 0 : t.persona }), a.createElement("div", { className: Ft.PersonaName }, null == t ? void 0 : t.displayName)))) } function zt(e) { let t = (0, g.Xx)("#Overlay_FriendAdd_Title"), n = (0, g.Xx)("#Overlay_FriendAdd_Body"); return a.createElement(Zt, { request: e.request, strTitle: t, strDescription: n, onOK: () => Dt.H.AddFriend(e.request) }) } function qt(e) { let t = (0, g.Xx)("#Overlay_FriendRemove_Title"), n = (0, g.Xx)("#Overlay_FriendRemove_Body"); return a.createElement(Zt, { request: e.request, strTitle: t, strDescription: n, onOK: () => Dt.H.RemoveFriend(e.request) }) } function Kt(e) { let t = (0, g.Xx)("#Overlay_FriendAcceptRequest_Title"), n = (0, g.Xx)("#Overlay_FriendAcceptRequest_Body"); return a.createElement(Zt, { request: e.request, strTitle: t, strDescription: n, onOK: () => Dt.H.AddFriend(e.request) }) } function jt(e) { let t = (0, g.Xx)("#Overlay_FriendIgnoreRequest_Title"), n = (0, g.Xx)("#Overlay_FriendIgnoreRequest_Body"); return a.createElement(Zt, { request: e.request, strTitle: t, strDescription: n, onOK: () => Dt.H.RemoveFriend(e.request) }) } function Qt(e) { let { friend: t, onSelectUser: n, onCancel: r } = e, [o, i] = a.useState(!1); return a.createElement(Y.s, { key: t.persona.GetAccountID(), className: (0, k.Z)(Ft.FriendSelector, o && Ft.Invited), focusable: !o, onOKButton: () => { o || (n(t.persona.m_steamid), i(!0)) }, onCancelButton: r }, a.createElement(Tt.S5, { friend: t, size: "Medium", statusPosition: "right" }), a.createElement(xt.o, { className: Ft.FullWidthPersona, persona: t.persona, eFriendRelationship: 3, bIsSelf: !1, bCompactView: !1, strNickname: t.nickname, bParenthesizeNicknames: ie.cS.communityPreferences.bParenthesizeNicknames }), o && a.createElement("div", { className: Ft.InvitedText }, (0, g.Xx)("#Overlay_FriendInviteToGame_Invited"))) } function Yt(e) { const t = (0, K.kd)(); let [n, r] = a.useState(function (e) { var t; const n = null === (t = T.hq.MainRunningApp) || void 0 === t ? void 0 : t.appid; return e.sort(((e, t) => e.persona.m_unGamePlayedAppID == n && t.persona.m_unGamePlayedAppID != n ? -1 : e.persona.m_unGamePlayedAppID != n && t.persona.m_unGamePlayedAppID == n ? 1 : e.displayName.localeCompare(t.displayName))) }(t)), [o, l] = a.useState(void 0); const s = () => { Dt.H.RemoveDialogRequest(e.request) }, c = t => { e.onSelectUser(t) }; return a.createElement(de.Yy, { active: !0 }, a.createElement(de.RG, { className: Ft.FriendInviteOverlayDialog, onOK: () => { }, onCancel: s }, a.createElement(i.h4, null, " ", e.strTitle || a.createElement(a.Fragment, null, " "), " "), a.createElement("div", null, e.strDescription), a.createElement(i.II, { className: Ft.SearchFriendInput, autoFocus: !0, onChange: e => { let n = e.target.value || ""; o && clearTimeout(o); let a = (0, gt.RA)(e).setTimeout((() => { let e = t.filter((e => -1 != e.displayName.toLocaleLowerCase().indexOf(n))); r(e) }), 200); l(a) }, placeholder: (0, g.Xx)("#Overlay_FriendInviteToGame_Filter") }), a.createElement(he.P8, { className: Ft.FriendsListContainer, scrollDirection: "y", scrollPaddingTop: 10, scrollPaddingBottom: 10 }, a.createElement(Y.s, { className: Ft.FriendsList, onOKActionDescription: (0, g.Xx)("#Overlay_FriendInviteToGame_Invite"), onCancelActionDescription: (0, g.Xx)("#Overlay_FriendInviteToGame_ReturnToGame") }, a.createElement(Ee.e, { NavigationManager: T.hq.NavigationManager }, n.map(((e, t) => a.createElement(Qt, { key: t, friend: e, onSelectUser: c, onCancel: s })))))))) } function Jt(e) { let t = (0, g.Xx)("#Overlay_FriendInviteToGame_Title"), n = (0, g.Xx)("#Overlay_FriendInviteToGame_Body"); return a.createElement(Yt, { request: e.request, strTitle: t, strDescription: n, onSelectUser: t => { Dt.H.InviteUserToGame(t, e.request) } }) } function $t(e) { let t = (0, g.Xx)("#Overlay_FriendInviteToCurrentGame_Title"), n = (0, g.Xx)("#Overlay_FriendInviteToCurrentGame_Body"); return a.createElement(Yt, { request: e.request, strTitle: t, strDescription: n, onSelectUser: t => { Dt.H.InviteUserToCurrentGame(t, e.request) } }) } function en(e) { let t = (0, g.Xx)("#Overlay_FriendInviteToRemotePlayTogetherCurrentGame_Title"), n = (0, g.Xx)("#Overlay_FriendInviteToRemotePlayTogetherCurrentGame_Body"); return a.createElement(Yt, { request: e.request, strTitle: t, strDescription: n, onSelectUser: e => { Dt.H.InviteUserToRemotePlayTogetherCurrentGame(e) } }) } function tn() { let e = (0, Dt.C)(); if ((0, T.cn)(0 != e.length), 0 == e.length) return null; let t = e[0], n = null; switch (t.strDialog) { case "friendadd": n = a.createElement(zt, { request: t }); break; case "friendremove": n = a.createElement(qt, { request: t }); break; case "friendrequestaccept": n = a.createElement(Kt, { request: t }); break; case "friendrequestignore": n = a.createElement(jt, { request: t }); break; case "lobbyinvite": n = a.createElement($t, { request: t }); break; case "remoteplaytogetherinvite": n = a.createElement(en, { request: t }); break; case "lobbyinviteconnectstring": n = a.createElement(Jt, { request: t }); break; default: if (t.bWebPage) { let e = () => Dt.H.RemoveDialogRequest(t); n = a.createElement(Xt, { key: t.unRequestingAppID.toString(), appid: t.unRequestingAppID, mode: t.eWebPageMode, url: t.strDialog, onClose: e }) } }return n } (0, r.gn)([m.ak], Wt.prototype, "BeforeClose", null), (0, r.gn)([m.ak], Wt.prototype, "OnBlockedRequest", null), (0, r.gn)([m.ak], Wt.prototype, "OnSteamURL", null), (0, r.gn)([m.ak], Wt.prototype, "OnOverlayBrowserProtocolRegistration", null); var nn = n(45244), an = n.n(nn); function rn() { return (0, d.SZ)((() => (0, pe.gV)().BSupportAlertDialogActive())) ? a.createElement(de.Yy, { active: !0 }, a.createElement(Ot, { padding: "none" }, a.createElement(on, null))) : null } function on() { const e = (0, d.SZ)((() => !(0, pe.gV)().BMustShowSupportAlertDialog())), t = a.useCallback((() => { (0, pe.gV)().CloseSupportAlertsModal() }), []), n = a.useCallback(((e, t) => { "CloseBrowser" == e && (0, pe.gV)().CloseSupportAlertsModal() }), []), r = (0, m.xK)((e => { if (e) return e.GetOnMessageCallbacks("SupportMessages").Register(n).Unregister }), [n]); return a.createElement(Y.s, { className: an().BrowserWrapper, onCancelButton: t, onCancelActionDescription: e ? (0, g.Xx)("#Button_Close") : (0, g.Xx)("#Button_Dismiss") }, a.createElement(Lt.AR, { name: "SupportMessages", url: q.de.ResolveURL("SupportMessages"), refBrowser: r })) } var ln = n(53911), sn = n(71877), cn = n(20261), mn = n.n(cn), un = n(69862), dn = n.n(un), pn = n(19968), _n = n(52517); n(82132); function gn(e) { var t, n; const r = (0, sn.k4)(), o = null !== (n = function (e) { const t = a.useRef(e); return null != e && (t.current = e), t.current }(null !== (t = e.strManualCaptivePortalURL) && void 0 !== t ? t : r.strCaptivePortalURL)) && void 0 !== n ? n : "about://blank", { browser: i } = e; a.useEffect((() => { i.LoadURL(o) }), [i, o]); const l = function () { const e = a.useRef(); return a.useLayoutEffect((() => { if (!e.current) return; const t = e.current.getBoundingClientRect(), n = t.left * window.devicePixelRatio + 2, a = t.top + t.height / 2; SteamClient.Input.SetMousePosition(n, a) }), []), e }(); return a.createElement("div", { className: dn().CaptivePortalBrowserViewContainer, ref: l }, a.createElement(pn.L, { visible: !0, className: dn().CaptivePortalBrowserView, navID: "CaptivePortalBrowser", NavigationManager: T.hq.NavigationManager, browser: i, clearWhenInvisble: !0 })) } function hn(e) { const { closeModal: t } = e, n = (0, r._T)(e, ["closeModal"]), o = a.useRef(), [l, s] = a.useState(!1); (0, Ct.kp)((0, g.Xx)("#Settings_Internet_Captive_Portal_Header_Title"), "CaptivePortalDialog"); const c = Tn((0, sn.k4)()).eConnectivityTestResult == wt.kg.k_EConnectivityTestResult_Connected, u = function () { const e = a.useMemo((() => T.hq.CreateBrowserView("CaptivePortal")), []); return a.useEffect((() => () => e.Destroy()), [e]), e }(), p = (0, d.SZ)((() => u.URL)), _ = a.useCallback((e => { e && s(e) }), []), h = a.useCallback((e => { e.detail.source == Ht.uS.BROWSER || o.current.BFocusWithin() || s(!1) }), []), v = a.useCallback((() => { o.current.BFocusWithin() || s(!1) }), []); (0, m.JI)(window, "focus", v), a.useEffect((() => { setTimeout((() => u.GetBrowser().SetFocus(!0)), 2e3) }), [u]); const S = {}; c && (S.onOKButton = e.closeModal, S.onOKActionDescription = (0, g.Xx)("#Button_Done"), S.onCancelButton = e.closeModal, S.onCancelActionDescription = null), S.onFocusWithin = _, S.onGamepadBlur = h, S.focusable = !0; const E = (0, _n.oL)(T.hq.VirtualKeyboardManager); return (0, ct.L)(u.GetBrowser(), o, l), a.createElement(_e.e1, { onEscKeypress: e.closeModal, padding: "none" }, a.createElement(i.V5, Object.assign({ className: dn().CaptivePortalDialogBodyPanel, navRef: o }, S), a.createElement("div", { className: dn().TopBar }, a.createElement("div", { className: dn().URL }, p)), a.createElement(gn, Object.assign({ browser: u.GetBrowser() }, n)), !E && a.createElement("div", { className: dn().BottomBar }, a.createElement("div", { className: dn().Controls }, a.createElement(i.Fl, null, a.createElement(i.zx, { onClick: t, autoFocus: !0 }, c ? (0, g.Xx)("#Button_Done") : (0, g.Xx)("#Generic_Close"))))))) } let vn = !1; function Sn(e) { vn || (vn = !0, (0, _e.AM)(a.createElement(hn, { strManualCaptivePortalURL: e }), window, { fnOnClose: () => vn = !1 })) } var En = n(99837), bn = n.n(En), Cn = n(60994); function yn(e, t) { (0, _e.AM)(a.createElement(fn, { accessPoint: e }), window, t) } function fn(e) { return a.createElement(_e.e1, { onEscKeypress: e.closeModal }, a.createElement(An, Object.assign({}, e))) } function An(e) { var t, n, o, l, c, u, d; const { accessPoint: p } = e; (0, Cn.F)(p); const _ = null == p, [h, v] = a.useState(0), [S, E] = a.useState({ deviceId: _ ? null === (t = sn.$u.Get().wirelessNetworkDevice) || void 0 === t ? void 0 : t.id : p.deviceId, deviceWapId: _ ? null : p.deviceWapId, credentials: { username: "", password: _ ? "" : null !== (o = null === (n = p.wirelessAPInfo) || void 0 === n ? void 0 : n.password) && void 0 !== o ? o : "" }, customAP: _ ? { ssid: null, esecurity: In(sn.$u.Get().supportedWirelessSecurityFlags) } : null }), [b, C] = a.useState(!1), [y, f] = a.useState(null), A = (0, m.fJ)((() => y), [y]), I = _ ? null !== (c = null === (l = S.customAP) || void 0 === l ? void 0 : l.ssid) && void 0 !== c ? c : (0, g.Xx)("#Internet_Network_Type_Other") : p.displayName, k = _ ? s.e9.Wireless : p.type, w = "" != (null !== (d = null === (u = S.credentials) || void 0 === u ? void 0 : u.password) && void 0 !== d ? d : ""), N = _ || p.showAsLocked, T = _ || p.showAsLocked && !w, x = _ ? A : p.isConnected, D = (0, m.Sd)(), F = e => (0, r.mG)(this, void 0, void 0, (function* () { if (!_ && p.state == s.a.NotPresent && 2 != h) return v(2), !1; v(1), C(!1); const t = sn.$u.Get().Connect(e); f(t), E(e); const n = yield t; return n || D() || (C(!0), N && v(3)), n })); if (!_ && (null == p ? void 0 : p.state) == s.a.NotPresent && 2 != h && 3 != h) return v(2), null; if (0 == h) return T ? v(3) : F(S), null; const G = () => { null == p || p.Disconnect(), N ? v(3) : e.closeModal && e.closeModal() }, B = () => { null == p || p.Disconnect(), e.closeModal && e.closeModal() }, L = () => { e.closeModal && e.closeModal() }; switch (h) { case 1: return a.createElement(xn, { networkDisplayName: I, currentlyConnected: x, networkType: k, lastConnectAttemptFailed: b, onCloseAction: L, onBackAction: G, onCancelAction: B }); case 2: return a.createElement(i.VY, null, a.createElement(i.h4, null, (0, g.Xx)("#Settings_Internet_Network_Not_Found", I)), a.createElement(i.uT, null, a.createElement(i.$_, null, a.createElement(i.KM, { autoFocus: !0, onClick: L }, (0, g.Xx)("#Button_Close"))))); case 3: return a.createElement(wn, { accessPoint: p, connectParams: S, onSubmit: F, onCancel: B, lastAttemptFailed: b }) } } function In(e) { const t = [s.DC.Wpa2, s.DC.Wpa, s.DC.DynamicWep, s.DC.StaticWep, s.DC.Wpa2Enterprise, s.DC.WpaEnterprise].filter((t => e.includes(t))); return t.length > 0 ? t[0] : s.DC.None } function kn(e) { const t = (0, sn.wI)().map((e => ({ data: e, label: (0, sn.RN)(e) }))); return a.createElement(i.gB, { selectedOption: e.value, label: (0, g.Xx)("#Settings_Internet_Security_Type"), layout: "inline", onChange: t => e.onChange(t.data), rgOptions: t }) } function wn(e) { var t, n, r, o, l, c, m, u, d, p, _, h; const [v, S] = a.useState(e.connectParams), [E, b] = a.useState(null != v.customIP4), C = a.useRef(), y = a.useRef(), f = a.useRef(), A = null == e.accessPoint, I = null !== (o = A ? null === (t = v.customAP) || void 0 === t ? void 0 : t.esecurity : null === (r = null === (n = e.accessPoint) || void 0 === n ? void 0 : n.wirelessAPInfo) || void 0 === r ? void 0 : r.esecurity) && void 0 !== o ? o : s.DC.Unsupported, w = (0, sn.Qi)(I), N = (0, sn.WS)(I); a.useEffect((() => { var e, t, n, a, r, o; C.current ? (null === (e = C.current.element) || void 0 === e || e.focus(), null === (t = C.current.element) || void 0 === t || t.click()) : y.current ? (null === (n = y.current.element) || void 0 === n || n.focus(), null === (a = y.current.element) || void 0 === a || a.click()) : f.current && (null === (r = f.current.element) || void 0 === r || r.focus(), null === (o = f.current.element) || void 0 === o || o.click()) }), []); let x = !0; A && !(null === (l = v.customAP) || void 0 === l ? void 0 : l.ssid) && (x = !1); const D = () => { var t; x && (T.hq.VirtualKeyboardManager.SetVirtualKeyboardShown(!1), E && ((t = v.customIP4) && ("" != t.ip || "" != t.netmask || "" != t.gateway_ip || "" != t.primary_dns_ip || "" != t.secondary_dns_ip)) || (v.customIP4 = null), x && e.onSubmit && e.onSubmit(v)) }; let F; F = e.lastAttemptFailed ? A ? (0, g.Xx)("#Settings_Internet_Reenter_Network_Credentials") : (0, g.Xx)("#Settings_Internet_Reenter_The_Password_For_Network", null === (m = e.accessPoint) || void 0 === m ? void 0 : m.displayName) : A ? (0, g.Xx)("#Settings_Internet_Enter_Network_Credentials") : (0, g.Xx)("#Settings_Internet_Enter_The_Password_For_Network", null === (c = e.accessPoint) || void 0 === c ? void 0 : c.displayName); const G = null === (u = sn.$u.Get().wirelessNetworkDevice) || void 0 === u ? void 0 : u.mac; return a.createElement(i.oX, { classNameContent: (0, k.Z)(bn().PasswordPromptContent), onSubmit: D }, a.createElement(i.uT, null, a.createElement(i.dQ, null, e.lastAttemptFailed && a.createElement("div", { className: bn().DialogError }, (0, g.Xx)("#Settings_Internet_Failed_To_Connect")), F), A && a.createElement(i.Gb, { className: bn().PasswordPromptNetworkName, label: (0, g.Xx)("#Settings_Internet_Enter_NetworkName"), value: null !== (p = null === (d = v.customAP) || void 0 === d ? void 0 : d.ssid) && void 0 !== p ? p : "", onChange: e => { S(Object.assign(Object.assign({}, v), { customAP: Object.assign(Object.assign({}, v.customAP), { ssid: e.target.value }) })) }, ref: C }), A && a.createElement(kn, { value: I, onChange: e => { S(Object.assign(Object.assign({}, v), { customAP: Object.assign(Object.assign({}, v.customAP), { esecurity: e }) })) } }), w && a.createElement(i.gN, { className: bn().PasswordPromptUserName, label: (0, g.Xx)("#Settings_Internet_Enter_UserName"), childrenContainerWidth: "fixed" }, a.createElement(i.II, { onChange: e => { S(Object.assign(Object.assign({}, v), { credentials: Object.assign(Object.assign({}, v.credentials), { username: e.target.value }) })) }, value: null !== (_ = v.credentials.username) && void 0 !== _ ? _ : "", ref: y })), N && a.createElement(i.gN, { className: bn().PasswordPromptPassword, label: (0, g.Xx)("#Settings_Internet_Enter_Password"), childrenContainerWidth: "fixed" }, a.createElement(i.WU, { onChange: e => { S(Object.assign(Object.assign({}, v), { credentials: Object.assign(Object.assign({}, v.credentials), { password: e.target.value }) })) }, value: null !== (h = v.credentials.password) && void 0 !== h ? h : "", ref: f })), !E && a.createElement(i.sT, { onClick: () => b(!0), bottomSeparator: "none" }, (0, g.Xx)("#Settings_Internet_Connect_Advanced_Enable")), E && a.createElement(Nn, { customIP4: v.customIP4, setCustomIP4: e => { S(Object.assign(Object.assign({}, v), { customIP4: e })) } }), E && G && a.createElement(i.VC, { label: (0, g.Xx)("#Settings_Internet_MAC_Address") }, G)), a.createElement(i.$_, null, a.createElement(i.o9, { strOKText: (0, g.Xx)("#Settings_Internet_Connect"), onOK: D, onCancel: e.onCancel, bOKDisabled: !x }))) } function Nn(e) { var t, n, r, o, l; const s = (t, n) => { e.setCustomIP4(Object.assign(Object.assign({}, e.customIP4), { [t]: n.target.value })) }; return a.createElement(a.Fragment, null, a.createElement(i.S0, { label: (0, g.Xx)("#Settings_Internet_IP"), value: null === (t = e.customIP4) || void 0 === t ? void 0 : t.ip, onChange: e => s("ip", e) }), a.createElement(i.S0, { label: (0, g.Xx)("#Settings_Internet_Netmask"), value: null === (n = e.customIP4) || void 0 === n ? void 0 : n.netmask, onChange: e => s("netmask", e) }), a.createElement(i.S0, { label: (0, g.Xx)("#Settings_Internet_Gateway"), value: null === (r = e.customIP4) || void 0 === r ? void 0 : r.gateway_ip, onChange: e => s("gateway_ip", e) }), a.createElement(i.S0, { label: (0, g.Xx)("#Settings_Internet_Primary_DNS"), value: null === (o = e.customIP4) || void 0 === o ? void 0 : o.primary_dns_ip, onChange: e => s("primary_dns_ip", e) }), a.createElement(i.S0, { label: (0, g.Xx)("#Settings_Internet_Secondary_DNS"), value: null === (l = e.customIP4) || void 0 === l ? void 0 : l.secondary_dns_ip, onChange: e => s("secondary_dns_ip", e) })) } function Tn(e) { const t = a.useRef(Object.assign(Object.assign({}, sn.$u.Get().connectivityTestState), { eConnectivityTestResult: s.kg.k_EConnectivityTestResult_Unknown })); return e.bChecking || (t.current = e), t.current } function xn(e) { const t = e.networkType == s.e9.Wireless, n = e.currentlyConnected, r = !n && e.lastConnectAttemptFailed, o = !n && !r, c = Tn((0, sn.k4)()), u = n && c.eConnectivityTestResult == s.kg.k_EConnectivityTestResult_Connected, d = n && c.eConnectivityTestResult == s.kg.k_EConnectivityTestResult_CaptivePortal, p = function (e) { const { bTimerCompleted: t, fnStopTimer: n, fnRestartTimer: r } = (0, m.J7)(2e4); return a.useEffect((() => { e ? r() : n() }), [e, r, n]), t }(n), _ = n && (0, sn.RK)(c.eConnectivityTestResult) && (p || d), h = n && !u && !_, v = h ? 1 : u ? 2 : _ ? 3 : 0, S = {}; let E; u ? (S.onOKButton = e.onCloseAction, S.onOKActionDescription = (0, g.Xx)("#Button_Done"), S.onCancelButton = e.onCloseAction, S.onCancelActionDescription = null) : _ ? (S.onCancelButton = e.onBackAction, S.onCancelActionDescription = (0, g.Xx)("#Button_Cancel")) : (S.onOKButton = () => !0, S.onOKActionDescription = null, S.onCancelButton = e.onBackAction, S.onCancelActionDescription = (0, g.Xx)("#Button_Cancel")), E = u ? (0, g.Xx)("#Settings_Internet_Connection_Successful") : d ? (0, g.Xx)("#Settings_Internet_Captive_Portal_Detected") : _ ? (0, g.Xx)("#Settings_Internet_Failed_To_Connect_To_Internet") : h ? (0, g.Xx)("#Settings_Internet_Connecting_To_Internet") : r ? (0, g.Xx)("#Settings_Internet_Failed_To_Connect_To_Network") : (0, g.Xx)("#Settings_Internet_Connecting_To_Network", e.networkDisplayName); const b = c.strCaptivePortalURL, C = a.useCallback((() => { Sn(b) }), [b]); return a.useEffect((() => { d && C() }), [d, C]), a.createElement(i.VY, null, a.createElement(i.V5, Object.assign({ retainFocus: !0, noFocusRing: !0, autoFocus: !0, focusable: !1 }, S), a.createElement("div", { className: bn().ConnectingProgressIcons }, a.createElement(Dn, { icon: a.createElement(l.uxP, { className: bn().SteamPalIcon }) }), a.createElement(Fn, { state: o ? 1 : n ? 2 : 3 }), a.createElement(Dn, { failed: r, icon: t ? a.createElement(l.Zcv, { className: bn().ProgressNetworkIcon }) : a.createElement(l.Xup, { className: bn().ProgressNetworkIcon }) }), a.createElement(Fn, { state: v }), a.createElement(Dn, { failed: _, icon: a.createElement(l.Xup, { className: bn().ProgressNetworkIcon }) })), a.createElement("div", { className: bn().ConnectionStatus }, a.createElement("div", { className: (0, k.Z)(bn().ConnectionStatusText, { [bn().Success]: u, [bn().Failed]: r || _ }) }, E), a.createElement(i.C3, { alignItems: "center", topPadding: "none" }, d && a.createElement(i.zx, { onClick: C }, (0, g.Xx)("#Settings_Internet_Captive_Portal_Login_Button")), _ && a.createElement(i.zx, { onClick: e.onCloseAction }, (0, g.Xx)("#Settings_Internet_Use_Network_Anyway")), _ && a.createElement(i.zx, { onClick: e.onCancelAction }, (0, g.Xx)("#Settings_Internet_Try_Another_Network")), !u && !_ && a.createElement(i.zx, { onClick: e.onBackAction }, (0, g.Xx)("#Button_Cancel")), u && a.createElement(i.zx, { onClick: e.onCloseAction }, (0, g.Xx)("#Login_Continue")))))) } function Dn(e) { return a.createElement("div", { className: (0, k.Z)(bn().ConnectingProgressIconContainer, e.failed && bn().Failed) }, a.createElement("div", { className: bn().ConnectingProgressIcon }, e.icon)) } function Fn(e) { return a.createElement("div", { className: (0, k.Z)(bn().ConnectingThrobberContainer, 3 == e.state && bn().Failed) }, 1 == e.state && a.createElement("div", { className: bn().ConnectingThrobber }, a.createElement("div", null), a.createElement("div", null), a.createElement("div", null)), 2 == e.state && a.createElement(l.MCw, null), 3 == e.state && a.createElement(l.x8P, null)) } var Gn = n(66472), Bn = n.n(Gn); function Ln(e) { (0, _e.AM)(a.createElement(Rn, { accessPoint: e }), window) } const Rn = e => { var t, n, r, o; const { accessPoint: l } = e; (0, Cn.F)(l); const c = (null == l ? void 0 : l.type) == s.e9.Wireless, m = () => { yn(l) }, u = () => { l.Disconnect(), e.closeModal && e.closeModal() }, d = () => { l.Forget(), e.closeModal && e.closeModal() }, p = null !== (t = null == l ? void 0 : l.isConnectable) && void 0 !== t && t, _ = null !== (n = null == l ? void 0 : l.isDisconnectable) && void 0 !== n && n, h = []; null !== (r = null == l ? void 0 : l.isForgettable) && void 0 !== r && r && h.push(a.createElement(i.zx, { onClick: d }, (0, g.Xx)("#Settings_Internet_Forget"))), p && h.push(a.createElement(i.KM, { onClick: m }, (0, g.Xx)("#Settings_Internet_Connect"))), _ && h.push(a.createElement(i.KM, { onClick: u }, (0, g.Xx)("#Settings_Internet_Disconnect"))); const v = (0, T.CA)(), S = 1 == h.length; return a.createElement(de.RG, { onCancel: e.closeModal }, a.createElement(i.V5, { className: Bn().InfoDialogBody }, a.createElement(i.aV, { label: a.createElement(i.h4, { className: (0, k.Z)(Bn().Header, !S && Bn().CenteredHeader) }, null !== (o = null == l ? void 0 : l.displayName) && void 0 !== o ? o : (0, g.Xx)("#Internet_Network_Type_Unknown")), childrenLayout: S ? "inline" : "below", childrenContainerWidth: "fixed", alignItems: "right", spacing: "extra", highlightOnFocus: !1 }, h), null == l && a.createElement(a.Fragment, null, a.createElement(i.gN, { disabled: !0, label: (0, g.Xx)("#Internet_Settings_Network_Not_Found") })), null != l && a.createElement(a.Fragment, null, c && a.createElement(i.fp, { disabled: !l.isForgettable, label: (0, g.Xx)("#Settings_Internet_Autoconnect_Toggle"), checked: l.isAutoconnectEnabled, onChange: e => l.SetAutoconnectEnabled(e) }), a.createElement(i.VC, { focusable: !0, label: (0, g.Xx)("#Settings_Internet_Status") }, function (e) { switch (e) { case s.a.NotPresent: return (0, g.Xx)("#Internet_Network_State_NotFound"); case s.a.Failed: return (0, g.Xx)("#Internet_Network_State_Failed"); case s.a.Disconnected: return (0, g.Xx)("#Internet_Network_State_Disconnected"); case s.a.Disconnecting: return (0, g.Xx)("#Internet_Network_State_Disconnecting"); case s.a.Connecting: return (0, g.Xx)("#Internet_Network_State_Connecting"); case s.a.Connected: return (0, g.Xx)("#Internet_Network_State_Connected"); case s.a.Retrying: return (0, g.Xx)("#Internet_Network_State_Retrying") } }(l.state)), a.createElement(i.VC, { focusable: !0, label: (0, g.Xx)("#Settings_Internet_MAC_Address") }, l.macAddress), a.createElement(Pn, { accessPoint: l }), a.createElement(On, { accessPoint: l }), v && a.createElement(Mn, { accessPoint: l })))) }; function Pn(e) { var t, n, r; const o = null !== (n = null === (t = e.accessPoint) || void 0 === t ? void 0 : t.IPv4Addresses) && void 0 !== n ? n : []; if (0 == o.length) return null; let l = []; for (let e of o) l.push(a.createElement(i.VC, { key: e.ip + "ip", focusable: !0, label: (0, g.Xx)("#Settings_Internet_IP_Address") }, (0, sn.rs)(e.ip))), l.push(a.createElement(i.VC, { key: e.netmask + "mask", focusable: !0, label: (0, g.Xx)("#Settings_Internet_Subnet_Mask") }, (0, sn.rs)(e.netmask))); return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Internet_IPv4_Address")), a.createElement(i.VC, { key: "dhcp", focusable: !0, label: (0, g.Xx)("#Settings_Internet_IP_Address_Assignment") }, (null === (r = e.accessPoint) || void 0 === r ? void 0 : r.IPv4DHCPEnabled) ? (0, g.Xx)("#Settings_Internet_IP_Address_Assignment_Automatic") : (0, g.Xx)("#Settings_Internet_IP_Address_Assignment_Manual")), l) } function On(e) { var t, n; const r = null !== (n = null === (t = e.accessPoint) || void 0 === t ? void 0 : t.IPv6Addresses) && void 0 !== n ? n : []; return 0 == r.length ? null : a.createElement(a.Fragment, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Internet_IPv6_Address")), r.map((e => a.createElement(i.VC, { key: e.ip, focusable: !0, label: (0, g.Xx)("#Settings_Internet_IP_Address") }, e.ip)))) } function Mn(e) { var t, n, r; return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, "Valve Only Info"), a.createElement(i.VC, { focusable: !0, label: "eSecurity" }, null !== (r = null === (n = null === (t = e.accessPoint) || void 0 === t ? void 0 : t.wirelessAPInfo) || void 0 === n ? void 0 : n.esecurity) && void 0 !== r ? r : "None")) } n(35326); function Hn(e) { (0, _e.x1)(a.createElement(de.uH, { strTitle: e.strTitle || (0, g.Xx)("#Settings_RestartRequired_Title"), strDescription: e.strDescription || (0, g.Xx)("#Settings_RestartRequired_Description"), strOKButtonText: e.strOKButtonText || (0, g.Xx)("#Settings_RestartNow_ButtonText"), strCancelButtonText: e.strCancelButtonText, onOK: () => { e.fnOnOK && e.fnOnOK(), e.bSystemRestart ? SteamClient.System.RestartPC() : SteamClient.User.StartRestart() }, onCancel: e.fnOnCancel }), window, { strTitle: e.strTitle, bForcePopOut: !0 }) } function Un() { (0, _e.AM)(a.createElement(Xn, null), window) } function Xn(e) { const t = (0, sn.JF)(), [n, o] = a.useState(t), l = n.proxy_mode == s.z$.k_EHTTPProxyMode_Manual, c = 0 == n.port ? "" : n.port, m = (0, sn.oW)(n), u = () => { e.closeModal && e.closeModal() }, d = a.useRef(); return a.useEffect((() => { var e; null === (e = d.current) || void 0 === e || e.TakeFocus() }), []), a.createElement(de.RG, { onCancel: u }, a.createElement(i.h4, null, a.createElement("div", { className: "DialogHeader" }, (0, g.Xx)("#Settings_Internet_Proxy_Settings"))), a.createElement(i.uT, null, a.createElement(Y.s, { preferredFocus: !0 }, a.createElement(i.fp, { checked: l, onChange: e => o(Object.assign(Object.assign({}, n), { proxy_mode: e ? s.z$.k_EHTTPProxyMode_Manual : s.z$.k_EHTTPProxyMode_None })), label: (0, g.Xx)("#Settings_Internet_Enable_HTTPProxy"), navRef: d })), l && a.createElement(i.Gb, { label: (0, g.Xx)("#Settings_Internet_ManualProxyAddress"), value: n.address, maxLength: 200, placeholder: "http://proxy", onChange: e => o(Object.assign(Object.assign({}, n), { address: e.target.value })) }), l && a.createElement(i.Gb, { label: (0, g.Xx)("#Settings_Internet_Port"), bottomSeparator: "none", value: c, maxLength: 5, placeholder: "", onChange: e => o(Object.assign(Object.assign({}, n), { port: Vn(e.target.value) })), mustBeNumeric: !0 })), a.createElement(i.$_, null, a.createElement(i.o9, { strOKText: (0, g.Xx)("#Login_Continue"), onOK: () => (0, r.mG)(this, void 0, void 0, (function* () { const { bSuccess: t, bRestartRequired: a } = yield sn.$u.Get().SetProxyInfo(n); a && Hn({ strDescription: (0, g.Xx)("#Settings_Internet_RestartBody"), strCancelButtonText: (0, g.Xx)("#Settings_Internet_RestartLater") }), t && e.closeModal && e.closeModal() })), onCancel: u, bOKDisabled: !m }))) } function Vn(e) { if (null == e || "" === e) return 0; const t = parseInt(e); return isNaN(t) ? 0 : t } var Wn = n(76309); function Zn(e) { switch (e.state) { case s.a.Failed: case s.a.Disconnecting: case s.a.Connecting: case s.a.Connected: case s.a.Retrying: return !0; case s.a.NotPresent: case s.a.Disconnected: return !1 } } function zn(e) { return e.state == s.a.Connecting || e.state == s.a.Disconnecting || e.state == s.a.Retrying } function qn(e) { var t; const { accessPoint: n } = e, r = a.useCallback((() => { Ln(n) }), [n]), o = n.type == s.e9.Wireless, c = n.isConnected, m = n.showAsLocked, u = n.displayName, d = zn(n), p = function (e) { const t = a.useCallback((() => { Ln(e) }), [e]), n = a.useCallback((() => { yn(e) }), [e]); if (!e) return {}; const r = {}; return e.isConnectable ? (r.onOKButton = n, r.onOKActionDescription = (0, g.Xx)("#Settings_Internet_Connect"), r.onMenuActionDescription = (0, g.Xx)("#Settings_Internet_Info")) : (r.onOKButton = t, r.onOKActionDescription = (0, g.Xx)("#Settings_Internet_Info")), r.onMenuButton = t, r }(n); return n ? a.createElement(i.gN, Object.assign({}, p, { onActivate: r, navKey: n.key, icon: d ? a.createElement(l.$jN, null) : c ? a.createElement(l.MCw, { className: mn().Checkmark }) : null, label: u, childrenLayout: "inline" }), m && a.createElement(l.HEZ, { locked: !0, className: (0, k.Z)(mn().LockIcon, mn().LargerIcon) }), o ? a.createElement(l.Zcv, { className: mn().LargerIcon, strength: null === (t = null == n ? void 0 : n.wirelessAPInfo) || void 0 === t ? void 0 : t.estrength }) : a.createElement(l.Xup, { className: mn().LargerIcon })) : null } function Kn() { const e = a.useRef(new Map), t = (0, d.SZ)((() => [...sn.$u.Get().accessPoints])).filter((e => e.visibleToUser)).map((t => { var n, a; return e.current.has(t.key) || e.current.set(t.key, null !== (a = null === (n = t.wirelessAPInfo) || void 0 === n ? void 0 : n.strength_raw) && void 0 !== a ? a : 0), { accessPoint: t, initialRawSignalStrength: e.current.get(t.key) } })); return t.sort(((e, t) => { let n = function (e, t) { const n = e.isConnected; return n == t.isConnected ? 0 : n ? -1 : 1 }(e.accessPoint, t.accessPoint); return 0 == n && (n = function (e, t) { return e.type == s.e9.Wired && t.type != s.e9.Wired ? -1 : e.type != s.e9.Wired && t.type == s.e9.Wired || e.type == s.e9.Wireless && t.type != s.e9.Wireless ? 1 : e.type != s.e9.Wireless && t.type == s.e9.Wireless ? -1 : 0 }(e.accessPoint, t.accessPoint)), 0 == n && (n = e.initialRawSignalStrength > t.initialRawSignalStrength ? -1 : e.initialRawSignalStrength < t.initialRawSignalStrength ? 1 : 0), n })), t.map((e => e.accessPoint)) } function jn(e) { const t = Kn(), n = (0, sn.er)(), r = (0, sn.CX)(); (0, sn.NH)(); const [o, l, s] = (0, d.SZ)((() => [t.filter((e => Zn(e))), t.filter((e => !Zn(e) && !1)), t.filter((e => !Zn(e) && !0))])), c = n && r; return a.createElement(i.V5, null, a.createElement(Jn, null), a.createElement(Yn, null), a.createElement(i.Aw, null, a.createElement(i.gE, { checked: n, onChange: e => sn.$u.Get().SetWifiEnabled(e), label: (0, g.Xx)("#Settings_Internet_Wifi_Enabled") }), o.map((e => a.createElement(qn, { key: e.key, accessPoint: e })))), l.length > 0 && a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Internet_Known_Networks")), l.map((e => a.createElement(qn, { key: e.key, accessPoint: e })))), a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Internet_Networks_Found")), s.map((e => a.createElement(qn, { key: e.key, accessPoint: e }))), 0 == s.length && a.createElement(i.gN, { disabled: !0, bottomSeparator: c ? "standard" : "none", label: (0, g.Xx)("#Settings_Internet_No_Other_Networks_Found") }), c && a.createElement(i.gN, { label: (0, g.Xx)("#Settings_Internet_Custom_Network_Button"), onActivate: () => yn() })), a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Internet_Advanced_Settings")), a.createElement($n, null), a.createElement(ta, null))) } function Qn(e) { let t = (0, g.Xx)("#GoOnline"), n = (0, g.Xx)("#UserManagement_GoOnline_Desc"); return e ? (0, _e.x1)(a.createElement(de.uH, { strTitle: t, strDescription: n, onOK: () => SteamClient.User.GoOnline() }), window, { strTitle: t, bForcePopOut: !0 }) : (0, _e.x1)(a.createElement(de.JX, { strTitle: t, strDescription: (0, g.Xx)("#UserManagement_GoOnline_NoNetwork") }), window, { strTitle: t, bForcePopOut: !0 }) } function Yn(e) { const t = (0, d.SZ)((() => Wn.F.GetServicesInitialized())), n = (0, sn.t9)(), r = (0, pe.gV)().BIsOfflineMode(), o = a.useCallback((() => { r ? Qn(n) : n && function () { if (null != T.hq.MainRunningApp) { let e = (0, g.Xx)("#GoOffline"), t = (0, g.Xx)("#UserManagement_OfflineMode_MustCloseGames"); return (0, _e.x1)(a.createElement(de.uH, { strTitle: e, strDescription: t, strCancelButtonText: "", bAlertDialog: !0 }), window, { strTitle: e, bForcePopOut: !0 }) } { let e = (0, g.Xx)("#GoOffline"), t = (0, g.Xx)("#UserManagement_OfflineMode_Desc"); (0, _e.x1)(a.createElement(de.uH, { strTitle: e, strDescription: t, onOK: () => SteamClient.User.GoOffline() }), window, { strTitle: e, bForcePopOut: !0 }) } }() }), [r, n]); if (!t) return null; const s = n ? null : (0, g.Xx)("#UserManagement_OfflineMode_NoNetwork"); return a.createElement(i.Aw, null, a.createElement(i.gN, { icon: r ? a.createElement(l.ge, { className: mn().OfflineMode }) : void 0, label: (0, g.Xx)(r ? "#Settings_Internet_In_Offline_Mode" : "#Settings_Internet_Go_Offline"), description: s, bottomSeparator: "none", childrenContainerWidth: "min" }, a.createElement(i.zx, { onClick: o, focusable: n, disabled: !n }, (0, g.Xx)(r ? "#GoOnline" : "#GoOffline")))) } function Jn(e) { const t = (0, pe.gV)().BIsOfflineMode(), n = (0, sn.k4)().eConnectivityTestResult, r = (0, sn.S9)(); if (!(0, d.SZ)((() => Wn.F.GetServicesInitialized()))) return null; let o = null, c = null; switch (n) { default: case s.kg.k_EConnectivityTestResult_Unknown: break; case s.kg.k_EConnectivityTestResult_Connected: t || r || (o = (0, g.Xx)("#Settings_Internet_Connected_To_Internet_But_Not_Steam")); break; case s.kg.k_EConnectivityTestResult_CaptivePortal: o = (0, g.Xx)("#Settings_Internet_Captive_Portal_Detected"), c = a.createElement(i.zx, { onClick: () => Sn() }, (0, g.Xx)("#Settings_Internet_Captive_Portal_Login_Button")); break; case s.kg.k_EConnectivityTestResult_TimedOut: case s.kg.k_EConnectivityTestResult_Failed: o = (0, g.Xx)("#Settings_Internet_Connected_To_Network_But_Not_Internet"); break; case s.kg.k_EConnectivityTestResult_NoLAN: o = (0, g.Xx)("#Settings_Internet_Not_Connected_To_Network"); case s.kg.k_EConnectivityTestResult_WifiDisabled: }return o ? a.createElement(i.Aw, null, a.createElement(i.gN, { icon: a.createElement(l.ge, { className: mn().NetworkWarning }), label: o, bottomSeparator: "none", childrenContainerWidth: "min" }, c)) : null } function $n(e) { const t = (0, sn.JF)(), n = t.proxy_mode != s.z$.k_EHTTPProxyMode_Invalid ? (0, sn.Mf)(t.proxy_mode) : (0, g.Xx)("#Settings_Internet_ConfigureProxy"); return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Internet_HTTPProxy"), onClick: () => Un() }, n) } function ea() { let e = (0, g.Xx)("#Settings_Internet_WebBrowserDataDelete"); return (0, _e.x1)(a.createElement(de.uH, { strTitle: e, strDescription: (0, g.Xx)("#Settings_Internet_WebBrowserDataDelete_Desc"), onOK: () => SteamClient.Browser.ClearAllBrowsingData() }), window, { strTitle: e, bForcePopOut: !0 }) } function ta(e) { return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Internet_WebBrowserDataDelete"), onClick: ea, bottomSeparator: "none" }, (0, g.Xx)("#Settings_Internet_WebBrowserDataDeleteButton")) } n(37322); var na = n(12399); function aa(e) { var t; let { equippedItems: n } = e; if (!(null === (t = null == n ? void 0 : n.mini_profile_background) || void 0 === t ? void 0 : t.movie_webm)) return null; let r = (o = n.mini_profile_background.movie_webm).startsWith("https://") ? o : ue.De.MEDIA_CDN_COMMUNITY_URL + "images/" + o; var o; return a.createElement("div", { className: na.CurrentUserProfileBackground }, a.createElement("video", { className: na.CurrentUserProfileBackgroundImage, src: r, autoPlay: !0, loop: !0 })) } function ra(e) { let { equippedItems: t } = e; const n = (0, sn.S9)(), [r, l] = a.useState(); a.useEffect((() => { SteamClient.WebChat.GetLocalAvatarBase64().then((e => { l(e) })) }), []); let s = (0, d.SZ)((() => K.i8.GetFriendState(new j.K(K.i8.currentUserSteamID)))), c = a.createElement("div", { className: na.AvatarAndLabel }, a.createElement(aa, { equippedItems: t }), n && a.createElement(Nt._1, { className: na.Avatar, loopDuration: "Infinite", size: "Large", persona: null == s ? void 0 : s.persona, animatedAvatar: null == t ? void 0 : t.animated_avatar, avatarFrame: null == t ? void 0 : t.avatar_frame, statusPosition: "right" }), !n && a.createElement(Nt.o, { size: "Large", strAvatarURL: r }), a.createElement(xt.o, { className: na.LabelHolder, persona: null == s ? void 0 : s.persona, eFriendRelationship: 3, bIsSelf: !0, bCompactView: !1, strNickname: null == s ? void 0 : s.nickname, bParenthesizeNicknames: ie.cS.communityPreferences.bParenthesizeNicknames })); const m = (0, o.BN)(q.de.ResolveURL("SteamIDMyProfile")); return a.createElement(i.gN, { label: c, bottomSeparator: "standard", childrenContainerWidth: "fixed", autoFocus: !0 }, a.createElement(i.zx, { disabled: !n, onClick: m }, (0, g.Xx)("#UserManagement_ViewProfile"))) } function oa(e) { const t = (0, pe.gV)().BIsOfflineMode(), n = (0, sn.k4)().eConnectivityTestResult, r = (0, sn.S9)(); if (t) return null; let o = null; switch (n) { default: case s.kg.k_EConnectivityTestResult_Unknown: break; case s.kg.k_EConnectivityTestResult_Connected: r || (o = (0, g.Xx)("#Settings_Internet_Connected_To_Internet_But_Not_Steam")); break; case s.kg.k_EConnectivityTestResult_CaptivePortal: case s.kg.k_EConnectivityTestResult_TimedOut: case s.kg.k_EConnectivityTestResult_Failed: o = (0, g.Xx)("#Settings_Internet_Connected_To_Network_But_Not_Internet"); break; case s.kg.k_EConnectivityTestResult_WifiDisabled: case s.kg.k_EConnectivityTestResult_NoLAN: o = (0, g.Xx)("#Settings_Internet_Not_Connected_To_Network") }return o ? a.createElement(i.Aw, null, a.createElement(i.gN, { icon: a.createElement(l.ge, { className: na.NetworkWarning }), label: o, bottomSeparator: "standard", childrenContainerWidth: "fixed" })) : null } function ia(e) { const t = (0, d.SZ)((() => te.Pp.loaded)), n = (0, d.SZ)((() => te.Pp.signedOut)), r = te.Pp.GetCurrentUserStatusInterface(), o = t && !n && r ? r.GetPersonaState() : 0, l = (0, pe.gV)().BIsOfflineMode(), s = (0, sn.t9)(), c = (0, sn.S9)(); if (l) return a.createElement(i.gN, { label: (0, g.Xx)("#Settings_Internet_In_Offline_Mode"), childrenContainerWidth: "fixed" }, a.createElement(i.zx, { onClick: () => Qn(s) }, (0, g.Xx)("#GoOnline"))); if (!c) return null; const m = [{ data: 1, label: a.createElement(i.Rv, { title: (0, g.Xx)("#PersonaStateOnline") }) }, { data: 3, label: a.createElement(i.Rv, { title: (0, g.Xx)("#PersonaStateAway") }) }, { data: 7, label: a.createElement(i.Rv, { title: (0, g.Xx)("#PersonaStateInvisible"), description: (0, g.Xx)("#PersonaStateInvisibleDescriptor") }) }, { data: 0, label: a.createElement(i.Rv, { title: (0, g.Xx)("#PersonaStateSignedOut"), description: (0, g.Xx)("#PersonaStateSignedOutDescriptor") }) }]; return a.createElement(i.gN, { label: (0, g.Xx)("#UserManagement_FriendsStatus"), description: (0, g.Xx)("#UserManagement_FriendsStatus_Description"), bottomSeparator: "standard", childrenContainerWidth: "fixed" }, a.createElement(i.TW, { rgOptions: m, onChange: e => { return t = null == e ? void 0 : e.data, void te.Pp.SetDesiredPersonaState(t); var t }, selectedOption: o, menuLabel: (0, g.Xx)("#UserManagement_FriendsStatus_Change") })) } function la(e) { const t = (0, d.SZ)((() => te.Pp.loaded)), n = (0, d.SZ)((() => te.Pp.signedOut)), r = (0, sn.S9)(); if (!t || n || !r) return null; const o = te.Pp.GetCurrentUserStatusInterface(); let l = null == o ? void 0 : o.GetUserDoNotDisturb(); return a.createElement(i.fp, { label: (0, g.Xx)("#User_ToggleDoNotDisturb"), description: (0, g.Xx)("#PersonaStateDoNotDisturbDescriptor"), checked: l, onChange: e => { o && o.SetUserDoNotDisturb(e) } }) } function sa(e) { let t = (0, d.SZ)((() => (0, pe.gV)().GetCurrentUser())); return a.createElement(i.gN, { label: (0, g.kQ)("#UserManagement_CurrentAccount", a.createElement("div", { className: na.Highlight }, t.strAccountName)), childrenContainerWidth: "fixed" }, a.createElement(i.zx, { onClick: () => { let e = (0, g.Xx)("#ChangeUser"), t = a.createElement(a.Fragment, null, (0, g.Xx)("#ChangeUser_Desc1"), a.createElement("br", null), a.createElement("br", null), (0, g.Xx)("#ChangeUser_Desc2")); (0, _e.x1)(a.createElement(de.uH, { strTitle: e, strDescription: t, onOK: () => SteamClient.User.ChangeUser() }), window, { strTitle: e, bForcePopOut: !0 }) }, className: na.ChangeAccountButton }, a.createElement(l.n$o, null), " ", (0, g.Xx)("#ChangeUser"))) } function ca(e) { var t, n; const r = (0, d.SZ)((() => ce.tH.Get().GetControllers())).find((e => 4 == e.eControllerType)), l = null !== (t = null == r ? void 0 : r.strSerialNumber) && void 0 !== t ? t : "unknown", s = null !== (n = null == r ? void 0 : r.strChipID) && void 0 !== n ? n : "unknown", c = (0, d.SZ)((() => me.Pg.GetSteamDeckRegistration())), m = (0, pe.gV)().BIsOfflineMode(), u = (0, sn.S9)(); let [p, _] = a.useState(!1); const h = (0, o.BN)(q.de.ResolveURL("SteamIDMyProfile") + "edit/goldenprofile"), v = a.useCallback((() => { let e = a.createElement(de.uH, { onOK: () => { _(!0), me.Pg.IgnoreSteamDeckRewardsPrompt(), _(!1) }, strDescription: (0, g.Xx)("#Settings_DeckRewards_IgnoreDesc"), strOKButtonText: (0, g.Xx)("#Settings_DeckRewards_IgnoreButton") }); (0, _e.AM)(e, window, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title") }) }), [_]), S = a.useCallback((() => { _(!0), me.Pg.ClaimSteamDeckRewards(l, s).then((e => { let { result: t, granted_profile_modifier: n } = e, r = null; switch (t) { case 1: const e = () => T.hq.NavigateToSettings(o.Z5.GamepadUI.Settings.Keyboard()); let t = { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimSuccess"), onOK: e, strOKButtonText: (0, g.Xx)("#Settings_DeckRewards_GoToKeyboardSettings") }; n && (t.onMiddleButton = h, t.strMiddleButtonText = (0, g.Xx)("#Settings_DeckRewards_EquipProfile")), r = a.createElement(de.uH, Object.assign({}, t)); break; case 29: r = a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimError_Duplicate") }); break; case 8: r = a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimError_InvalidParam") }); break; case 15: r = a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimError_AccessDenied") }); break; case 24: r = a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimError_InsufficientPrivilege") }); break; case 28: r = a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimError_AlreadyRedeemed") }); break; default: r = a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title"), strDescription: (0, g.Xx)("#Settings_DeckRewards_ClaimError") }) }r && (0, _e.AM)(r, window, { strTitle: (0, g.Xx)("#Settings_DeckRewards_Title") }), _(!1) })) }), [l, s, _, h]); if (m || !u || (null == c ? void 0 : c.strSteamID) == ue.L7.steamid) return null; let E = a.createElement(a.Fragment, null, (0, g.Xx)("#Settings_DeckRewards_Desc"), " ", a.createElement("span", { className: na.RewardsDisclaimer }, (0, g.Xx)("#Settings_DeckRewards_Disclaimer"))); return (null == c ? void 0 : c.bRegistered) ? 0 != c.strSteamID.length ? (E = a.createElement(a.Fragment, null, (0, g.Xx)("#Settings_DeckRewards_ClaimedByOther_Desc")), a.createElement(i.gN, { label: (0, g.Xx)("#Settings_DeckRewards_Title"), description: E }, a.createElement(Y.s, { className: na.SteamDeckRewardsBtns }, a.createElement(i.zx, { onClick: S, disabled: p }, (0, g.Xx)(p ? "#Settings_DeckRewards_Claiming" : "#Settings_DeckRewards_ClaimForMeButton"))))) : (E = a.createElement(a.Fragment, null, (0, g.Xx)("#Settings_DeckRewards_Claimed_Desc")), a.createElement(i.gN, { label: (0, g.Xx)("#Settings_DeckRewards_Title"), description: E }, a.createElement(Y.s, { className: na.SteamDeckRewardsBtns }, a.createElement(i.zx, { onClick: S, disabled: p }, (0, g.Xx)(p ? "#Settings_DeckRewards_Claiming" : "#Settings_DeckRewards_ClaimButton")), a.createElement(i.zx, { onClick: v, disabled: p }, (0, g.Xx)("#Settings_DeckRewards_IgnoreButton"))))) : a.createElement(i.gN, { label: (0, g.Xx)("#Settings_DeckRewards_Title"), description: E }, a.createElement(Y.s, { className: na.SteamDeckRewardsBtns }, a.createElement(i.zx, { onClick: S, disabled: p }, (0, g.Xx)(p ? "#Settings_DeckRewards_Claiming" : "#Settings_DeckRewards_ClaimButton")), a.createElement(i.zx, { onClick: v, disabled: p }, (0, g.Xx)("#Settings_DeckRewards_IgnoreButton")))) } function ma(e) { const t = (0, d.SZ)((() => (0, pe.gV)().GetCurrentUser())), n = new j.K(t.strSteamID), r = a.useCallback((() => { T.hq.NavigateToInvites() }), []); return a.createElement(i.gN, { label: (0, g.kQ)("#UserManagement_FriendCode", a.createElement("div", { className: na.Highlight }, n.GetAccountID())), childrenContainerWidth: "fixed" }, a.createElement(i.zx, { onClick: r }, (0, g.Xx)("#UserManagement_AddFriends"))) } function ua(e) { const t = (0, d.SZ)((() => (0, pe.gV)().BHasActiveSupportAlerts())), n = a.useCallback((() => (0, pe.gV)().ShowSupportAlertsModal()), []); return t ? a.createElement(i.gN, { label: (0, g.Xx)("#UserManagement_ActiveSupportAlert"), childrenContainerWidth: "fixed", className: na.HasActiveSupportAlert }, a.createElement(i.zx, { onClick: n }, (0, g.Xx)("#UserManagement_ViewSupportAlert"), a.createElement(l.Zpg, null))) : null } function da(e) { const { icon: t, label: n, details: o, children: l, className: s } = e, c = (0, r._T)(e, ["icon", "label", "details", "children", "className"]); return a.createElement(i.zx, Object.assign({ className: (0, k.Z)(s, na.FatButton), focusClassName: na.FatButtonFocus }, c), t, n && a.createElement("div", { className: na.Label }, n), o && a.createElement("div", { className: na.Details }, o), l) } function pa(e) { var t, n; a.useEffect((() => { me.Pg.ForceRefreshEquippedItems() }), []); const r = (0, me.al)(), s = (0, d.SZ)((() => te.Pp.loading_state())), c = (0, d.SZ)((() => (0, pe.gV)().GetCurrentUser())), m = (0, sn.S9)(), u = (0, o.BN)(q.de.ResolveURL("StoreAddFundsPage")), p = (0, o.BN)(q.de.ResolveURL("SteamIDEditPrivacyPage")), _ = (0, o.BN)(q.de.ResolveURL("StoreAccount")); if (m && s == te.rA.SigningIn) return a.createElement(ge.t, null, (0, g.Xx)("#UserManagement_SigningIn")); let h = a.createElement(a.Fragment, null, " "); return (null === (t = c.strAccountBalance) || void 0 === t ? void 0 : t.length) && (h = (null === (n = c.strAccountBalancePending) || void 0 === n ? void 0 : n.length) ? (0, g.kQ)("#UserManagement_WalletBalanceWithPending", a.createElement("span", { className: na.Highlight }, c.strAccountBalance), c.strAccountBalancePending) : (0, g.kQ)("#UserManagement_WalletBalance", a.createElement("span", { className: na.Highlight }, c.strAccountBalance))), a.createElement(ln.Ij, { className: na.RemoveTopPadding, headerVisibility: "fadeInBackgroundOnScroll", padForHeader: !0, minimumOpacity: .2 }, a.createElement(i.Aw, { className: na.AccountPanelPage }, a.createElement(oa, null), a.createElement(ra, { equippedItems: r }), a.createElement(ua, null), a.createElement(ca, null), a.createElement(ia, null), a.createElement(la, null), a.createElement(i.aV, { spacingBetweenLabelAndChild: "none", alignItems: "space-between" }, a.createElement(da, { onClick: u, icon: a.createElement(l.w5x, null), label: (0, g.Xx)("#UserManagement_AddFunds"), details: h }), a.createElement(da, { onClick: p, icon: a.createElement(l.dQJ, null), label: (0, g.Xx)("#UserManagement_Privacy"), details: (0, g.Xx)("#UserManagement_Privacy_Description") }), a.createElement(da, { onClick: _, icon: a.createElement(l.I8b, null), label: (0, g.Xx)("#UserManagement_AccountDetails"), details: (0, g.Xx)("#UserManagement_AccountDetails_Description") })), a.createElement(ma, null), a.createElement(sa, null))) } var _a = n(65049), ga = n.n(_a), ha = n(81108), va = n(3287), Sa = n(17680), Ea = n(79411), ba = n(888), Ca = n(19536), ya = n(81303), fa = n(1591), Aa = n(97732), Ia = n(15168), ka = n(87457), wa = n(55893), Na = n(99972), Ta = n(80907), xa = n(43343), Da = n(33621), Fa = n(19515), Ga = n(3785), Ba = n(71614), La = n(78795), Ra = n(74925), Pa = n(21151), Oa = n(88357), Ma = n(71881), Ha = n(88395), Ua = n(66279), Xa = n(10708); function Va(e) { const { overview: t } = e, n = (0, Ra.W8)(t.steam_deck_compat_category), r = 0 === t.steam_deck_compat_category || 1 === t.steam_deck_compat_category; return t.BIsModOrShortcut() ? null : a.createElement(n, { className: r && ga().InvertFocusedIcon }) } function Wa(e) { const t = (0, ut.Qv)(), [n, r] = (0, dt.i4)("AppDetailsTabsActive", !1), o = a.useRef(), i = a.useRef(), l = a.useRef(!0), s = (0, d.SZ)((() => 0 == ie.cS.storePreferences.provide_deck_feedback)), c = (0, d.SZ)((() => Ma.xP.BShouldPromptForDeckCompatibilityFeedback(e.overview.appid))), m = a.useCallback((() => { r(!1), null == t || t.ScrollToTop() }), [t, r]), u = a.useCallback((() => { i.current.FocusActionButton() }), []), p = a.useCallback((e => { e && r(e) }), [r]); return a.useEffect((() => { const e = l.current; l.current = !1; let a = o.current; if (!n || !t || !a) return; const r = function (e) { let n = a.getBoundingClientRect().top + t.scrollTop - parseInt(ga().headerPadding); t.ScrollTo(n, e) }; e ? window.setTimeout((() => r("auto")), 1) : r("smooth") }), [t, o, n]), a.createElement(Y.s, { className: ga().AppDetailsRoot }, a.createElement(ja, Object.assign({}, e, { onNav: m, ref: i })), a.createElement(Aa.Db, Object.assign({}, e, { onFocus: m })), a.createElement(Y.s, { onFocusWithin: m }, s && a.createElement(Za, null), !s && c && a.createElement(za, Object.assign({}, e))), a.createElement(Y.s, { ref: o, className: ga().AppDetailsContainer, onFocusWithin: p }, a.createElement(qa, { fnOnCancelFromTabHeader: u, details: e.details, overview: e.overview, setSections: e.setSections, bSuppressTransition: e.bSuppressTransition, parentComponent: e.parentComponent }))) } function Za() { const e = (0, o.BN)(q.de.GetStoreURL() + "news/app/1675200/view/3131696829170735771"); function t(e) { return (0, r.mG)(this, void 0, void 0, (function* () { 2 == e && Ma.xP.ClearDeckCompatibilityFeedbackAskList(); const t = `${q.de.GetStoreURL()}account/savepreferences`, n = new FormData; n.append("sessionid", ue.De.SESSIONID), n.append("provide_deck_feedback", "" + e); try { let e = yield Oa.Z.post(t, n, { retrycount: 1 }); if (!e.success || 1 != e.success) throw e.success; return e.success } catch (e) { console.error("Setting permission failed", e) } })) } return a.createElement(Y.s, { className: ga().DeckVerifiedFeedbackContainer }, a.createElement("div", { className: ga().DeckVerifiedFeedbackQuestion }, (0, g.Xx)("#SteamDeckFeedback_UserPrefence_Question")), a.createElement(Y.s, { noFocusRing: !0, onActivate: () => t(1), className: ga().DeckVerifiedFeedbackButton, focusClassName: ga().Focused }, (0, g.Xx)("#SteamDeckFeedback_UserPrefence_Yes")), a.createElement(Y.s, { noFocusRing: !0, onActivate: () => t(2), className: ga().DeckVerifiedFeedbackButton, focusClassName: ga().Focused }, (0, g.Xx)("#SteamDeckFeedback_UserPrefence_No")), a.createElement(M.IS, { noFocusRing: !0, className: ga().DeckVerifiedFeedbackButton, focusClassName: ga().Focused, onClick: e }, (0, g.Xx)("#SteamDeckFeedback_UserPrefence_LearnMore"))) } function za(e) { const [t, n] = a.useState(""); function r(t) { n(3 == t ? (0, g.Xx)("#SteamDeckVerified_Feedback_Confirmation_Ignore", e.overview.display_name) : (0, g.Xx)("#SteamDeckVerified_Feedback_Confirmation")), window.setTimeout((() => Ma.xP.SetDeckCompatibilityFeedback(e.overview.appid, t)), 4e3) } return "" !== t ? a.createElement(Y.s, { className: ga().DeckVerifiedFeedbackConfirmationContainer }, a.createElement("div", { className: ga().DeckVerifiedFeedbackConfirmation }, t)) : a.createElement(Y.s, { className: ga().DeckVerifiedFeedbackContainer }, a.createElement("div", { className: ga().DeckVerifiedFeedbackQuestion }, a.createElement(Ha._R, { category: e.overview.steam_deck_compat_category, appName: e.overview.display_name, descriptionToken: "#SteamDeckVerified_Feedback_Question" })), a.createElement(Y.s, { noFocusRing: !0, onActivate: () => r(1), className: ga().DeckVerifiedFeedbackButton, focusClassName: ga().Focused }, (0, g.Xx)("#SteamDeckVerified_Feedback_Agree")), a.createElement(Y.s, { noFocusRing: !0, onActivate: () => r(2), className: ga().DeckVerifiedFeedbackButton, focusClassName: ga().Focused }, (0, g.Xx)("#SteamDeckVerified_Feedback_Disagree")), a.createElement(Y.s, { noFocusRing: !0, onActivate: () => r(3), className: ga().DeckVerifiedFeedbackButton, focusClassName: ga().Focused }, (0, g.Xx)("#SteamDeckVerified_Feedback_Ignore"))) } function qa(e) { const { fnOnCancelFromTabHeader: t } = e; let n = function (e) { const { parentComponent: t, details: n, setSections: r, bSuppressTransition: o, overview: i } = e; return a.useMemo((() => [{ id: "WhatsNew", title: "#AppDetails_Tab_Activity", content: a.createElement(er, { name: "activity", parent: t }, a.createElement(Qa, { setSections: r, details: n, overview: i, parentComponent: t })) }, { id: "YourStuff", title: "#AppDetails_Tab_YourStuff", content: a.createElement(er, { name: "achievements", parent: t }, a.createElement(Ya, { setSections: r, details: n, overview: i })), feature: 3 }, { id: "Community", title: "#AppDetails_Tab_Community", content: a.createElement(er, { name: "friends", parent: t }, a.createElement(Ja, { setSections: r, details: n, overview: i })), feature: 2 }, { id: "GameInfo", title: "#AppDetails_Tab_GameInfo", renderTabAddon: () => a.createElement(Va, { overview: i }), content: a.createElement(er, { name: "info", parent: t }, a.createElement($a, { setSections: r, details: n, overview: i, bSuppressTransition: o })) }]), [o, n, i, t, r]) }((0, r._T)(e, ["fnOnCancelFromTabHeader"])); const i = e.details.unAppID, { onShowTab: l, strActiveTab: s } = (0, Fa.hR)((0, a.useCallback)(((e, t) => o.Z5.GamepadUI.App.Tab(t, e)), []), { context: i }); return a.createElement(Fa.TI, { tabs: n, activeTab: s, onShowTab: l, autoFocusContents: !1, onCancelFromTabHeader: t }) } const Ka = a.forwardRef((function (e, t) { return a.createElement(Y.s, { className: ga().ActionRow }, a.createElement(Y.s, { className: ga().ActionButtonAndStatusPanel }, a.createElement(Sa.I, { bShowStreamingSelector: !0, overview: e.overview, className: ga().AppActionButton, ref: t }), a.createElement(Aa.hT, { overview: e.overview, details: e.details, statusPanelType: 2 })), a.createElement(Aa.e6, { overview: e.overview, details: e.details, onSeek: void 0, statusPanelType: 1 }), a.createElement(Y.s, { className: ga().AppButtons }, a.createElement(Aa.f9, { overview: e.overview }), a.createElement(Aa.fY, Object.assign({}, e)))) })), ja = a.forwardRef((function (e, t) { const { onNav: n } = e, o = (0, r._T)(e, ["onNav"]); return a.createElement(Y.s, { className: ga().PlaySection, onFocusWithin: e => e && n() }, a.createElement(Ka, Object.assign({}, o, { ref: t })), a.createElement(Aa.si, Object.assign({}, o))) })); function Qa(e) { return a.createElement(a.Fragment, null, e.setSections.has("friends") && a.createElement(ya.wo, { details: e.details }), e.setSections.has("spotlight") && a.createElement(Da.eu, { overview: e.overview, details: e.details }), e.setSections.has("spotlightdemo") && a.createElement(Da.ru, { overview: e.overview, details: e.details }), !1, e.setSections.has("spotlightreview") && a.createElement(Da.BC, { parent: e.details, overview: e.overview, onSeek: e.parentComponent.SeekToSection }), e.setSections.has("friends") && a.createElement(ya.Ko, { details: e.details }), e.setSections.has("activity") && a.createElement(Ea.J, { appid: e.details.unAppID }), e.setSections.has("timedtrialbanner") && a.createElement(Na.J, { overview: e.overview, details: e.details })) } function Ya(e) { return a.createElement(a.Fragment, null, e.setSections.has("achievements") && a.createElement(ee.uI, { details: e.details }), e.setSections.has("cards") && a.createElement(Ta.JM, { details: e.details }), e.setSections.has("dlc") && a.createElement(Ca.O, { details: e.details, showRemainder: !0 }), e.setSections.has("workshop") && a.createElement(xa.T, { details: e.details }), e.setSections.has("screenshots") && a.createElement(wa.$, { overview: e.overview, details: e.details }), e.setSections.has("review") && a.createElement(ka.P, { details: e.details, overview: e.overview })) } function Ja(e) { return e.setSections.has("community") && a.createElement(ba.S, { appid: e.overview.appid }) } function $a(e) { const t = Ga.NW.GetCollectionListForAppID(e.details.unAppID), n = t.map((e => a.createElement(Ba.Y5, { bStartFocused: !1, key: e.id, collection: e, eCoverSize: 2 }))), r = (0, ut.Qv)(), o = va.d.BIsWorkshopVisible(e.details); let i = t.length > 0; return a.createElement(Y.s, { className: ga().GameInfoContainer }, a.createElement(fa.B, { concise: !1, overview: e.overview, details: e.details, expand: !0, collapsible: !1, suppressTransition: e.bSuppressTransition }), a.createElement(Y.s, { className: ga().GameInfoQuickLinks }, a.createElement(Ia.zI, { overview: e.overview, showControllerConfig: !1, workshopVisible: o, marketPresence: va.d.BHasMarketPresence(e.details) })), i && r && a.createElement(Y.s, { className: ga().GameInfoCollections }, a.createElement("div", { className: ga().CollectionsHeader }, (0, g.Xx)("#AppDetails_GameInfo_CollectionsHeader")), a.createElement(La.s, Object.assign({}, Ba.BD, { scaleGridItems: 1, renderOutsideRows: 2, paddingLeft: 0, paddingRight: 0, gridClassName: ga().Grid, scrollElement: r.Element, childElements: n, name: "GameInfo Collections" })))) } function er(e) { return a.createElement("div", { className: ga().AppDetailsContent }, a.createElement(mt.S, null, a.createElement(ha.SB, { name: e.name, parent: e.parent }, e.children))) } n(51237); const tr = (0, Q.Pi)((() => { const e = T.hq.MainRunningApp, t = null == e ? void 0 : e.appid, [n, r] = a.useState(t), o = T.hq.GameOSKSettings.m_pchExistingText, [l, s] = a.useState(o), c = a.useRef(); null != t && t != n && r(t); const m = (0, u.aD)((e => { s(e.target.value) })), d = (0, u.aD)((() => { J.g4.NavigateBack() || J.g4.NavigateToHome() })), p = (0, u.aD)((() => { SteamClient.Input.SetGamepadKeyboardText(!0, l), d() })), _ = (0, u.aD)((() => { SteamClient.Input.SetGamepadKeyboardText(!1, l), d() })), h = 0 == T.hq.GameOSKSettings.m_eLineInputMode; T.hq.VirtualKeyboardManager.SetDismissOnEnterKey(h); let v = h ? "text" : "textarea"; 0 != T.hq.GameOSKSettings.m_eInputMode && (v = "password"); return a.useEffect((() => { var e; null === (e = c.current) || void 0 === e || e.TakeFocusAndShowKeyboard() }), []), a.createElement(ln.$x, null, a.createElement(i.Aw, null, a.createElement(de.e1, { className: Pt().NoHeaderPadding }, a.createElement(i.oX, { classNameContent: Pt().TopAligned, style: { minWidth: 300 } }, a.createElement(Y.s, { onButtonDown: e => { e.detail.button != Ut.eV.CANCEL && e.detail.button != Ut.eV.STEAM_GUIDE || (SteamClient.Input.SetGamepadKeyboardText(!1, l), d(), e.preventDefault(), e.stopPropagation()) } }, T.hq.GameOSKSettings.m_pchDescription && T.hq.GameOSKSettings.m_pchDescription.length > 0 && a.createElement(i.h4, null, " ", T.hq.GameOSKSettings.m_pchDescription, " "), a.createElement(i.II, { refKeyboardHandle: c, label: (0, g.Xx)("#AppOverlayGameAPIOSK_Title"), type: v, value: l, maxLength: T.hq.GameOSKSettings.m_unCharMax, autoFocus: !0, onEnterKeyPress: h ? p : void 0, strEnterKeyLabel: h ? (0, g.Xx)("#AppOverlayGameAPIOSK_Submit") : void 0, onChange: m }), a.createElement(i.$_, null, a.createElement(i.o9, { focusButton: "primary", onOK: p, strOKText: (0, g.Xx)("#AppOverlayGameAPIOSK_Submit"), onCancel: _ }))))))) })); var nr = n(85666), ar = n(27557), rr = n(14471), or = n(53084), ir = n(64260), lr = n(80315), sr = n(64026), cr = n(26463), mr = n(79653), ur = n(98744), dr = n(65477); n(93035); class pr { constructor() { this.m_installedApps = [], this.m_rgInstalling = [] } ListFlatpakApps() { return (0, r.mG)(this, void 0, void 0, (function* () { return SteamClient.Apps.ListFlatpakApps().then((e => this.m_installedApps = e)), this.m_installedApps })) } get InstalledApps() { return this.m_installedApps } IsInstalling(e) { return this.m_rgInstalling.indexOf(e) >= 0 } BDoesInstalledAppHaveShortcut(e) { return (0, r.mG)(this, void 0, void 0, (function* () { let t = Ga.NW.GetCollection(Ga.ZK.LocalGames).visibleApps; for (const n of t) if (1073741824 == n.app_type) { if (-1 != (yield va.d.RequestAppDetails(n.appid)).strLaunchOptions.indexOf(e.applicationid)) return !0 } return !1 })) } GetInstallAppsWithShortcuts() { return (0, r.mG)(this, void 0, void 0, (function* () { let e = yield this.ListFlatpakApps(), t = [], n = Ga.NW.GetCollection(Ga.ZK.LocalGames).visibleApps, a = []; for (const e of n) 1073741824 == e.app_type && a.push(e); for (let n of e) { let e = !1; for (const t of a) { if ((yield va.d.RequestAppDetails(t.appid)).strFlatpakAppID == n.applicationid) { e = !0; break } } e || t.push(n) } return { installedApps: e, missingShortcuts: t } })) } InstallApp(e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { if (this.m_rgInstalling.push(e), "linux" != ue.De.PLATFORM) return yield new Promise((e => setTimeout(e, 1e4))), dr.Zf(this.m_rgInstalling, e), { appid: 0, strInstallOutput: "" }; let n = yield SteamClient.Apps.InstallFlatpakAppAndCreateShortcut(e, t); return n.appid && (this.SetCustomArtworkForFlatpak(n.appid, e), yield va.d.RequestAppDetails(n.appid)), dr.Zf(this.m_rgInstalling, e), n })) } SetCustomArtwork(e, t, a) { return (0, r.mG)(this, void 0, void 0, (function* () { let r = null; switch (t) { case 0: r = "library_capsule"; break; case 1: r = "library_hero"; break; case 3: r = "store_capsule_main"; break; case 2: r = "library_logo_transparent" }let o = null; if (r && (o = function (e, t) { if (0 == Object.keys(_r).length) { const e = n(56131); _r = e.keys().reduce(((t, n) => (t[n] = e(n), t)), {}) } return _r[`./${e}/${t}`] }(a, r + ".png")), !o) return; let i = yield fetch(o).then((e => e.blob())), l = new FileReader; l.onload = () => { let n = l.result.toString(); n = n.slice(n.indexOf("base64,") + 7), SteamClient.Apps.SetCustomArtworkForApp(e, n, "png", t) }, l.readAsDataURL(i) })) } SetCustomArtworkForFlatpak(e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { if ("com.google.Chrome" === t) { const t = "google_chrome"; let n = []; n.push(this.SetCustomArtwork(e, 0, t)), n.push(this.SetCustomArtwork(e, 1, t)), n.push(this.SetCustomArtwork(e, 3, t)), n.push(this.SetCustomArtwork(e, 2, t)), yield Promise.all(n) } })) } } (0, r.gn)([u.LO], pr.prototype, "m_installedApps", void 0), (0, r.gn)([u.LO], pr.prototype, "m_rgInstalling", void 0); let _r = {}; const gr = new pr; var hr = n(5917), vr = n(89517), Sr = n(27837); function Er(e) { const t = [{ data: 1, label: "One" }, { data: 2, label: "Two" }, { data: 3, label: "Three" }, { data: 4, label: "Four" }], [n, r] = a.useState(null), o = function (e) { const t = Math.round(e), [n, r] = a.useState(t); return a.useEffect((() => r(t)), [t, e]), a.useEffect((() => { if (n <= 0) return () => { }; const e = setTimeout((() => r(n - 1)), 1e3); return () => clearTimeout(e) }), [n]), n }(3); return a.createElement(i.uT, null, a.createElement(i.gB, { label: "Stateful Dropdown Field", rgOptions: t, selectedOption: 2, strDefaultLabel: "Select a value" }), a.createElement(i.aV, { label: "Externally-Driven Dropdown Fields", description: "As most dropdowns are, these two are driven externally by the same data source.", alignItems: "right" }, a.createElement(i.TW, { rgOptions: t, onChange: e => r(null == e ? void 0 : e.data), selectedOption: n, strDefaultLabel: "Select a value" }), a.createElement(i.TW, { rgOptions: t, onChange: e => r(null == e ? void 0 : e.data), selectedOption: n, strDefaultLabel: "Select a value" })), a.createElement(i.gB, { label: "Dropdown with Async Options", description: o > 0 ? `${o} seconds left...` : "Loaded options.", rgOptions: 0 == o ? t : void 0, selectedOption: 3, strDefaultLabel: "Select a value" }), a.createElement(i.gB, { label: "Nested Dropdown Field", rgOptions: [{ data: 1, label: "One" }, { data: 2, label: "Two" }, { data: 3, label: "Three" }, { data: 4, label: "Four" }, { label: "Fruits", options: [{ data: 10, label: "Apple" }, { data: 11, label: "Banana" }, { data: 12, label: "Cranberry" }] }, { label: "Colors", options: [{ label: "Warm Colors", options: [{ data: 20, label: "Red" }, { data: 21, label: "Orange" }, { data: 22, label: "Yellow" }] }, { label: "Cool Colors", options: [{ data: 30, label: "Blue" }, { data: 31, label: "Green" }, { data: 32, label: "Teal" }] }] }], selectedOption: 3, strDefaultLabel: "Select a value" }), a.createElement(i.gB, { disabled: !0, label: "Disabled Dropdown", rgOptions: t, selectedOption: 2 })) } const br = e => a.createElement(i.zx, { onClick: t => (0, it.yV)(e.children, t.currentTarget, e.positionOptions) }, e.title); function Cr(e) { const [t, n] = a.useState(null); return a.createElement(i.uT, null, a.createElement(i.dQ, null, "Context Menus"), a.createElement(i.aV, { alignItems: "right" }, a.createElement(br, { title: "Simple Menu" }, a.createElement(_t.xV, { label: "Simple Menu" }, a.createElement(_t.Zo, { onSelected: () => { } }, "Item One"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Two"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Three"))), a.createElement(br, { title: "Deeply Nested" }, a.createElement(_t.xV, null, a.createElement(_t.Zo, { onSelected: () => { } }, "Single Item"), a.createElement(_t.D1, { label: "Submenu One" }, a.createElement(_t.D1, { label: "Submenu Two" }, a.createElement(_t.D1, { label: "Submenu Three" }, a.createElement(_t.D1, { label: "Submenu Four" }, a.createElement(_t.Zo, { onSelected: () => { } }, "A Final Single Item")))), a.createElement(_t.Zo, { onSelected: () => { } }, "Another Single Item")))), a.createElement(br, { title: "Confirmation Example" }, a.createElement(_t.xV, { label: "Are you sure?" }, a.createElement(_t.Zo, { onSelected: () => { } }, "Yes"))), a.createElement(br, { title: "AppActionsMenu (Portal 2)", positionOptions: Object.assign(Object.assign({}, (0, ar.fs)()), { bOverlapHorizontal: !0, bOverlapVertical: !1 }) }, a.createElement(ar.Y_, { overview: z.dk.GetAppOverviewByAppID(620), client: "selected", launchSource: 100 })), a.createElement(br, { title: "Longboi (no title)" }, a.createElement(_t.xV, null, a.createElement(_t.Zo, { onSelected: () => { } }, "Item One"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Two"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Three"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Four"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Five"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Six"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Seven"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Eight"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Nine"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Ten"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Eleven"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Twelve"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Thirteen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Fourteen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Fifteen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Sixteen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Seventeen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Eighteen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Nineteen"), a.createElement(_t.Zo, { onSelected: () => { } }, "Item Twenty"), a.createElement(_t.uP, null), a.createElement(_t.Zo, { onSelected: () => { } }, "Wow, so long"))), a.createElement(br, { title: "Longboi (long title)" }, a.createElement(_t.xV, { title: "LONG", label: "This context menu has a long long name because it likes to tell stories of quick brown foxes jumping over lazy dogs" }, a.createElement(_t.Zo, { onSelected: () => { } }, "Cool, Thanks"), a.createElement(_t.uP, null), a.createElement(_t.Zo, { onSelected: () => { } }, "The"), a.createElement(_t.Zo, { onSelected: () => { } }, "quick"), a.createElement(_t.Zo, { onSelected: () => { } }, "brown"), a.createElement(_t.Zo, { onSelected: () => { } }, "fox"), a.createElement(_t.Zo, { onSelected: () => { } }, "jumps"), a.createElement(_t.Zo, { onSelected: () => { } }, "over"), a.createElement(_t.Zo, { onSelected: () => { } }, "the"), a.createElement(_t.Zo, { onSelected: () => { } }, "lazy"), a.createElement(_t.Zo, { onSelected: () => { } }, "dog")))), a.createElement(i.dQ, null, "Dialogs"), a.createElement(i.aV, { alignItems: "right", description: t && `Result from last dialog: ${t}` }, a.createElement(fr, { title: "OK/Cancel Dialog", onResult: n }, a.createElement(Ar, null)), a.createElement(fr, { title: "GenericConfirmDialog Dialog", onResult: n }, a.createElement(de.uH, { strTitle: "Generic Confirm Dialog" })), a.createElement(fr, { title: "Text Prompt", onResult: n }, a.createElement(Ir, null)), a.createElement(fr, { title: "Empty Dialog", onResult: n }, a.createElement(de.RG, null)), a.createElement(yr, null), a.createElement(fr, { title: "Non-Interactive Dialog", onResult: n }, a.createElement(de.RG, null, a.createElement(i.h4, null, "This is the header of a mostly empty dialog."), a.createElement(i.Ac, null, "Not much else to see."))), a.createElement(fr, { title: "Long Non-Interactive Dialog", onResult: n }, a.createElement(de.RG, null, a.createElement(i.h4, null, "This is the header of a long empty dialog."), a.createElement(i.Ac, null, function (e, t) { const n = t - e + 1; return Array.from({ length: n }, ((t, n) => e + n)) }(1, 20).map((e => a.createElement(a.Fragment, { key: e }, "This is line ", e, ".", a.createElement("br", null), a.createElement("br", null))))))))) } function yr(e) { const [t, n] = (0, dt.i4)("ModalScrollPanelTest", !1); return a.createElement(a.Fragment, null, a.createElement(de.Yy, { active: t }, a.createElement(de.e1, null, a.createElement(Ee.O, null, a.createElement(Y.s, { style: { display: "flex", flexDirection: "column", minHeight: 0, flex: 1 }, onCancel: () => n(!1) }, a.createElement(Se.pr, { style: { flex: 1, minHeight: 0, padding: "12px" }, focusable: !0, autoFocus: !0 }, a.createElement("h2", null, "About This Game"), "Set in the zombie apocalypse, Left 4 Dead 2 (L4D2) is the highly anticipated sequel to the award-winning Left 4 Dead, the #1 co-op game of 2008.", a.createElement("br", null), a.createElement("br", null), "                    This co-operative action horror FPS takes you and your friends through the cities, swamps and cemeteries of the Deep South, from Savannah to New Orleans across five expansive campaigns.", a.createElement("br", null), a.createElement("br", null), "                    You'll play as one of four new survivors armed with a wide and devastating array of classic and upgraded weapons. In addition to firearms, you'll also get a chance to take out some aggression on infected with a variety of carnage-creating melee weapons, from chainsaws to axes and even the deadly frying pan.", a.createElement("br", null), a.createElement("br", null), "                    You'll be putting these weapons to the test against (or playing as in Versus) three horrific and formidable new Special Infected. You'll also encounter five new uncommon common infected, including the terrifying Mudmen.", a.createElement("br", null), a.createElement("br", null), "                    Helping to take L4D's frantic, action-packed gameplay to the next level is AI Director 2.0. This improved Director has the ability to procedurally change the weather you'll fight through and the pathways you'll take, in addition to tailoring the enemy population, effects, and sounds to match your performance. L4D2 promises a satisfying and uniquely challenging experience every time the game is played, custom-fitted to your style of play.", a.createElement("br", null), a.createElement("br", null), "                    ", a.createElement("ul", { className: "bb_ul" }, a.createElement("li", null, "Next generation co-op action gaming from the makers of Half-Life, Portal, Team Fortress and Counter-Strike.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Over 20 new weapons & items headlined by over 10 melee weapons – axe, chainsaw, frying pan, baseball bat – allow you to get up close with the zombies", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "New survivors. New Story. New dialogue. ", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Five expansive campaigns for co-operative, Versus and Survival game modes.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "An all new multiplayer mode.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Uncommon common infected. Each of the five new campaigns contains at least one new uncommon common zombies which are exclusive to that campaign. ", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "AI Director 2.0: Advanced technology dubbed The AI Director drove L4D's unique gameplay – customizing enemy population, effects, and music, based upon the players’ performance. L4D 2 features The AI Director 2.0 which expands the Director’s ability to customize level layout, world objects, weather, and lighting to reflect different times of day.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Stats, rankings, and awards system drives collaborative play", a.createElement("br", null), a.createElement("br", null), "                    ")), a.createElement(i.zx, null, "Here's a button"), "Set in the zombie apocalypse, Left 4 Dead 2 (L4D2) is the highly anticipated sequel to the award-winning Left 4 Dead, the #1 co-op game of 2008.", a.createElement("br", null), a.createElement("br", null), "                    This co-operative action horror FPS takes you and your friends through the cities, swamps and cemeteries of the Deep South, from Savannah to New Orleans across five expansive campaigns.", a.createElement("br", null), a.createElement("div", null, a.createElement("br", null), "                    You'll play as one of four new survivors armed with a wide and devastating array of classic and upgraded weapons. In addition to firearms, you'll also get a chance to take out some aggression on infected with a variety of carnage-creating melee weapons, from chainsaws to axes and even the deadly frying pan.", a.createElement("br", null), a.createElement("br", null), "                    You'll be putting these weapons to the test against (or playing as in Versus) three horrific and formidable new Special Infected. You'll also encounter five new uncommon common infected, including the terrifying Mudmen.", a.createElement("br", null), a.createElement("br", null), "                    Helping to take L4D's frantic, action-packed gameplay to the next level is AI Director 2.0. This improved Director has the ability to procedurally change the weather you'll fight through and the pathways you'll take, in addition to tailoring the enemy population, effects, and sounds to match your performance. L4D2 promises a satisfying and uniquely challenging experience every time the game is played, custom-fitted to your style of play.", a.createElement("br", null), a.createElement("br", null), "                    ", a.createElement("ul", { className: "bb_ul" }, a.createElement("li", null, "Next generation co-op action gaming from the makers of Half-Life, Portal, Team Fortress and Counter-Strike.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Over 20 new weapons & items headlined by over 10 melee weapons – axe, chainsaw, frying pan, baseball bat – allow you to get up close with the zombies", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "New survivors. New Story. New dialogue. ", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Five expansive campaigns for co-operative, Versus and Survival game modes.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "An all new multiplayer mode.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Uncommon common infected. Each of the five new campaigns contains at least one new uncommon common zombies which are exclusive to that campaign. ", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "AI Director 2.0: Advanced technology dubbed The AI Director drove L4D's unique gameplay – customizing enemy population, effects, and music, based upon the players’ performance. L4D 2 features The AI Director 2.0 which expands the Director’s ability to customize level layout, world objects, weather, and lighting to reflect different times of day.", a.createElement("br", null), a.createElement("br", null), "                    "), a.createElement("li", null, "Stats, rankings, and awards system drives collaborative play", a.createElement("br", null), a.createElement("br", null), "                    ")), a.createElement(Y.s, { onActivate: () => window.location.href = "https://www.store.steampowered.com" }, "A link to the store here"), "Set in the zombie apocalypse, Left 4 Dead 2 (L4D2) is the highly anticipated sequel to the award-winning Left 4 Dead, the #1 co-op game of 2008.", a.createElement("br", null), a.createElement("br", null), "                    This co-operative action horror FPS takes you and your friends through the cities, swamps and cemeteries of the Deep South, from Savannah to New Orleans across five expansive campaigns."), a.createElement("br", null), a.createElement("br", null), a.createElement("h3", { style: { textAlign: "center" } }, "THE END"), a.createElement("br", null), a.createElement("br", null)), a.createElement(i.zx, { onClick: () => n(!1) }, "Close"))))), a.createElement(i.zx, { onClick: () => n(!0) }, "Scroll Panel Test")) } const fr = e => a.createElement(i.zx, { onClick: () => (0, _e.AM)(a.cloneElement(e.children, { setModalResult: e.onResult }), window) }, e.title); function Ar(e) { const t = t => { e.setModalResult && e.setModalResult(t), e.closeModal && e.closeModal() }; return a.createElement(de.RG, { onOK: () => t("dialog onOK"), onCancel: () => t("dialog onCancel") }, a.createElement(i.h4, null, "Click OK or Cancel"), a.createElement(i.Ac, null, "Response will be shown after closing."), a.createElement(i.$_, null, a.createElement(i.o9, { focusButton: "primary", onOK: () => t("button onOK"), onCancel: () => t("button onCancel") }))) } function Ir(e) { const [t, n] = a.useState(""), r = a.useRef(); a.useEffect((() => { var e; null === (e = r.current) || void 0 === e || e.TakeFocusAndShowKeyboard() }), []); const o = t => { e.setModalResult && e.setModalResult(t), e.closeModal && e.closeModal() }; return a.createElement(de.e1, { onEscKeypress: () => { o("dialog onEsc") } }, a.createElement(i.oX, { classNameContent: Pt().TopAligned, style: { minWidth: 300 }, onSubmit: () => { o(`form onSubmit: "${t}"`) } }, a.createElement(i.h4, null, "Text Prompt example"), a.createElement(i.II, { onChange: t => { n(t.target.value), e.setModalResult && e.setModalResult(t.target.value) }, placeholder: "Type a value", refKeyboardHandle: r }))) } function kr(e) { const t = a.useRef(), [n, r] = a.useState(); (0, m.Yz)((() => { var e, n; r(null === (n = null === (e = t.current) || void 0 === e ? void 0 : e.element) || void 0 === n ? void 0 : n.value) }), 100); const [o, l] = a.useState(0); return a.createElement("form", { onSubmit: e => { e.preventDefault(), l(o + 1) } }, a.createElement(i.II, { placeholder: "Type here", ref: t }), a.createElement(i.__, null, "Submitted ", o, " time", 1 === o ? "" : "s", ". Text: ", JSON.stringify(n, null, 2))) } function wr(e) { const [t, n] = a.useState(0), [r, o] = a.useState(0), [s, c] = a.useState(0), [m, u] = a.useState(0); return a.createElement(i.uT, null, a.createElement(i.dQ, null, "Buttons"), a.createElement(i.sT, { label: "Button field", onClick: e => n(t + 1), onOKActionDescription: "Click Me ( clicked: " + t + ")" }, "Click me ", t > 0 && `( ${t} )`), a.createElement(i.sT, { label: "Another button field", onClick: e => u(m + 1) }, "Click me ", m > 0 && `( ${m} )`), a.createElement(i.sT, { disabled: !0, label: "Disabled button field (with icon)", icon: a.createElement(l.HEZ, { locked: !0 }), onClick: e => o(r + 1) }, "Can't click me ", r > 0 && `( ${r} )`), a.createElement(i.sT, { label: "Describing button field", description: "Here's some info to help you go about your day, clicking buttons...", icon: a.createElement(l.daM, null), onClick: e => c(s + 1) }, "Click me ", s > 0 && `( ${s} )`)) } function Nr(e) { const [t, n] = a.useState(4), [r, o] = a.useState(7), [l, s] = a.useState(6), [c, m] = a.useState(3), [u, d] = a.useState(9), [p, _] = a.useState(7), [g, h] = a.useState(5), [v, S] = a.useState(2), [E, b] = a.useState(3), [C, y] = a.useState(4), [f, A] = a.useState(4), [I, k] = a.useState(5), [w, N] = a.useState(6), [T, x] = a.useState(7), [D, F] = a.useState(7), [G, B] = a.useState(123456), [L, R] = a.useState(5), [P, O] = a.useState(4), [M, H] = a.useState(6), [U, X] = a.useState(3), [V, W] = a.useState(4), [Z, z] = a.useState(0), [q, K] = a.useState(0), [j, Q] = a.useState(0), [Y, J] = a.useState(0), [$, ee] = a.useState(0), [te, ne] = a.useState(0), [ae, re] = a.useState(0); return a.createElement(i.uT, null, a.createElement(i.Aw, null, a.createElement(i.DS, { label: "Simple slider with description.", description: "This is a description for the slider. It has been described.", value: t, onChange: n, min: 0, max: 10 }), a.createElement(i.DS, { label: "Simple slider with description and value.", description: "This is a description for the slider. It has been described and displays its value.", value: g, onChange: h, min: 0, max: 10, showValue: !0 }), a.createElement(i.DS, { label: "Slider without description", value: r, onChange: o, min: 0, max: 10 }), a.createElement(i.z2, { label: "GamepadUI Slider", description: "With fine steps and a description.", value: l, onChange: s, min: 0, max: 10, step: .2 }), a.createElement(i.z2, { label: "GamepadUI Continuous Slider", value: c, onChange: m, min: 0, max: 10, step: 0, showValue: !0 }), a.createElement(i.z2, { label: "GamepadUI Inline Slider", value: u, onChange: d, layout: "inline", min: 0, max: 10, step: .5 }), a.createElement(i.z2, { label: "GamepadUI Slider Without Handle", value: p, onChange: _, showHandle: !1, layout: "inline", min: 0, max: 10, step: 0 }), a.createElement(i.z2, { disabled: !0, label: "GamepadUI Disabled Inline Slider", value: 3, layout: "inline", min: 0, max: 10, step: .5 })), a.createElement(i.Aw, null, a.createElement(i.dQ, null, "Acceleration comparisons"), a.createElement(i.z2, { label: "Slider with 10 steps", value: Z, onChange: z, min: 0, max: 10, showValue: !0 }), a.createElement(i.z2, { label: "Slider with 100 steps", value: q, onChange: K, min: 0, max: 100, showValue: !0 }), a.createElement(i.z2, { label: "Slider with 1000 steps", value: j, onChange: Q, min: 0, max: 1e3, showValue: !0 }), a.createElement(i.z2, { label: "Slider with 10000 steps", value: $, onChange: ee, min: 0, max: 1e4, step: 1, showValue: !0 }), a.createElement(i.z2, { label: "Slider with infinite steps (0-100%)", value: Y, onChange: J, min: 0, max: 100, step: 0, showValue: !0, valueSuffix: "%" }), a.createElement(i.z2, { label: "Slider with infinite steps (0-100%) but more granular dpad step (20%)", value: te, onChange: ne, min: 0, max: 100, step: 0, dpadStep: 20, showValue: !0, valueSuffix: "%" }), a.createElement(i.z2, { label: "Slider with illegal dpadSteps (more granular than actual legal steps)", value: ae, onChange: re, min: 0, max: 100, step: 5, dpadStep: 2, showValue: !0, valueSuffix: "%" })), a.createElement(i.Aw, null, a.createElement(i.dQ, null, "Notches"), a.createElement(i.z2, { label: "Slider with notches and labels", value: v, onChange: S, layout: "inline", min: 1, max: 4, step: 1, notchCount: 4, notchLabels: [{ notchIndex: 0, label: "One" }, { notchIndex: 1, label: "Two" }, { notchIndex: 2, label: "Three" }, { notchIndex: 3, label: "The fourth value" }] }), a.createElement(i.z2, { label: "Slider with just notches", value: E, onChange: b, layout: "inline", min: 1, max: 4, step: 1, notchCount: 4 }), a.createElement(i.z2, { label: "Slider with just labels", value: C, onChange: y, layout: "inline", min: 1, max: 4, step: 1, notchCount: 4, notchLabels: [{ notchIndex: 0, label: "One" }, { notchIndex: 1, label: "Two" }, { notchIndex: 2, label: "Three" }, { notchIndex: 3, label: "The fourth value" }], notchTicksVisible: !1 }), a.createElement(i.z2, { label: "Slider with two labels and no notches", description: "In this state the labels are bookending the min and max values, so we don't center them over the ends but instead align them to the ends.", value: V, onChange: W, layout: "inline", min: 1, max: 4, step: 1, notchCount: 2, notchLabels: [{ notchIndex: 0, label: "One" }, { notchIndex: 1, label: "The last value" }], notchTicksVisible: !1 })), a.createElement(i.Aw, null, a.createElement(i.dQ, null, "Resettable Default Values"), a.createElement(i.z2, { label: "Meta: Default value tick location", description: "For the two following sliders", value: L, onChange: R, layout: "inline", min: 1, max: 10, step: 1 }), a.createElement(i.z2, { label: "Slider with default value", resetValue: L, value: P, onChange: O, layout: "inline", min: 1, max: 10, step: 1 }), a.createElement(i.z2, { label: "Continuous slider with default value", resetValue: L, value: M, onChange: H, layout: "inline", min: 1, max: 10, step: 0 }), a.createElement(i.z2, { label: "Slider with default value and notches", resetValue: 2, value: U, onChange: X, layout: "inline", min: 1, max: 4, step: 1, notchCount: 4, notchLabels: [{ notchIndex: 0, label: "One" }, { notchIndex: 1, label: "Two" }, { notchIndex: 2, label: "Three" }, { notchIndex: 3, label: "The fourth value" }] })), a.createElement(i.Aw, null, a.createElement(i.dQ, null, "Editable Values"), a.createElement(i.z2, { label: "Continuous slider", description: "Allows entering any value within the range.", value: f, onChange: A, min: 1, max: 10, step: 0, editableValue: !0 }), a.createElement(i.z2, { label: "Discrete slider with strict input", description: "Allows entering a step-aligned value within the range.", value: I, onChange: k, min: 1, max: 10, step: 1, editableValue: !0, validValues: "steps" }), a.createElement(i.z2, { label: "Discrete slider with range input", description: "Allows entering any continuous value within the range.", value: w, onChange: N, min: 1, max: 10, step: 1, editableValue: !0, validValues: "range" }), a.createElement(i.z2, { label: "Discrete slider with custom input rules, and units.", description: "Allows entering any even value within the custom range [-100,100]", value: T, onChange: x, min: 1, max: 10, step: 1, editableValue: !0, valueSuffix: "%", validValues: e => e >= -100 && e <= 100 }), a.createElement(i.z2, { label: "Inline slider with input", value: D, onChange: F, layout: "inline", min: 1, max: 10, step: 1, editableValue: !0 }), a.createElement(i.z2, { label: "Slider with long numbers", value: G, onChange: B, min: 1, max: 1e4, step: 1, dpadStep: 1 / 9999, editableValue: !0 }))) } function Tr(e) { const [t, n] = a.useState(!0); return a.createElement(i.uT, null, a.createElement(i.gE, { label: "Toggle switch", checked: t, onChange: n }), a.createElement(i.gE, { label: "Another toggle switch", description: "This toggle has a description and is the inverted value of the above toggle.", checked: !t, onChange: e => n(!e) }), a.createElement(i.gE, { disabled: !0, label: "Disabled toggle", checked: !t })) } function xr(e) { const [t, n] = a.useState(0); return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, "Progress Bars"), a.createElement(nr.i, { focusable: !0, label: "Default", nProgress: t }), a.createElement(nr.i, { focusable: !0, label: "Unsmoothed", nProgress: t, nTransitionSec: 0 }), a.createElement(nr.i, { focusable: !0, label: "Indeterminate", nProgress: t, indeterminate: !0 }), a.createElement(i.z2, { label: "Progress value", layout: "inline", value: t, onChange: n, min: 0, max: 100, dpadStep: .2, showValue: !0, valueSuffix: "%" })) } function Dr(e) { return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, "Misc"), a.createElement(i.gN, { childrenContainerWidth: "fixed", label: "Marquee" }, a.createElement("div", { style: { width: "300px" } }, a.createElement(Sr.R, null, "This is some very long text that scrolls and it keeps going and going and going and going")))) } function Fr(e) { return a.createElement(i.uT, null, a.createElement(i.sT, { label: "Show Chord Hint", onClick: e => Jr() }, "Show Chord Hint"), a.createElement(i.dQ, null, "Text input"), a.createElement(kr, null), a.createElement(xr, null), a.createElement(Dr, null), a.createElement(i.dQ, null, "Labels"), a.createElement(i.VC, { label: "Simple inline label field" }, "with a short value"), a.createElement(i.VC, { label: "Simple inline label field" }, "with a long value that demonstrates how it looks when wrapped"), a.createElement(i.VC, { label: "Simple two-line label field", layout: "below" }, "with a short value"), a.createElement(i.VC, { label: "This field will have a very long label that should cause the contents to go ahead and wrap" }, "with a long value that demonstrates how it looks when wrapped"), a.createElement(i.VC, { label: "This field will have a very long label that should cause the contents to go ahead and wrap", inlineWrap: "keep-inline" }, "but this one explicitly keeps children inline with the label"), a.createElement(i.dQ, null, "Field Indentation"), a.createElement(i.gN, { label: "Non-indented field" }, a.createElement(i.zx, null, "Hello There")), a.createElement(i.gN, { label: "Indented field", indentLevel: 1 }, a.createElement(i.zx, null, "Hello There")), a.createElement(i.gN, { label: "Indented field", indentLevel: 1 }, a.createElement(i.zx, null, "Hello There")), a.createElement(i.gN, { label: "Extra indented field", indentLevel: 2 }, a.createElement(i.zx, null, "Hello There")), a.createElement(Pr, null)) } function Gr(e) { return a.createElement(i.gN, { focusable: !0, label: st.FX[e.button], childrenLayout: "inline", childrenContainerWidth: "fixed" }, a.createElement("div", { style: { display: "flex", justifyContent: "space-evenly", alignItems: "center", width: 400 } }, a.createElement(or.VC, { button: e.button, type: or.yV.Light, size: or.iM.Small }), a.createElement(or.VC, { button: e.button, type: or.yV.Light, size: or.iM.Medium }), a.createElement(or.VC, { button: e.button, type: or.yV.Light, size: or.iM.Large }), a.createElement("div", { style: { color: "#FFC82C" } }, a.createElement(or.VC, { button: e.button, type: or.yV.Knockout })))) } function Br(e) { const t = Object.values(st.FX).filter((e => "number" == typeof e)); return a.createElement(i.uT, null, a.createElement(i.dQ, null, "Small, Medium, Large, Knockout"), t.map((e => a.createElement(Gr, { key: e, button: e })))) } function Lr(e) { return a.createElement(i.uT, null, a.createElement("div", { className: lr.GiantHeading }, "Giant-heading"), a.createElement("div", { className: lr.HeadingEmphasis }, "Heading-emphasis"), a.createElement("div", { className: lr.Heading }, "Heading"), a.createElement("div", { className: lr.HeadingSmall }, "Heading-small"), a.createElement("div", { className: lr.Label }, "Label"), a.createElement("div", { className: lr.SubHeading }, "Sub-heading"), a.createElement("div", { className: lr.BodyExtrabold }, "Body-extrabold"), a.createElement("div", { className: lr.BodyEmphasis }, "Body-emphasis"), a.createElement("div", { className: lr.Body }, "Body"), a.createElement("div", { className: lr.BodyItalic }, "Body-italic"), a.createElement("div", { className: lr.BodySmall }, "Body-small"), a.createElement("div", { className: lr.MicroHeading }, "Micro-heading"), a.createElement("div", { className: lr.Description }, "Description")) } function Rr(e) { const t = a.useRef(); return a.createElement(Y.s, { ref: t, onGamepadFocus: () => { var e; return null === (e = t.current) || void 0 === e ? void 0 : e.scrollIntoView({ behavior: "smooth" }) } }, a.createElement(i.dQ, null, "Input Fields"), a.createElement(i.gN, { label: "Input" }, a.createElement(M.bX, null)), a.createElement(i.gN, { label: "Text Area" }, a.createElement(M.DP, null))) } function Pr(e) { const [t, n] = a.useState(!1), r = t ? "left" : "right", o = a.useRef(); return a.createElement(Y.s, { ref: o, onGamepadFocus: () => { var e; return null === (e = o.current) || void 0 === e ? void 0 : e.scrollIntoView({ behavior: "smooth" }) } }, a.createElement(i.dQ, null, "Controls List Fields"), a.createElement(i.sT, { label: "Item Alignment", onClick: () => n(!t) }, t ? "Left" : "Right"), a.createElement(i.aV, { alignItems: r }, a.createElement(i.zx, null, "A Controls List"), a.createElement(i.zx, null, "With 2 Buttons")), a.createElement(i.aV, { alignItems: r }, a.createElement(i.zx, null, "...And with 1 Control")), a.createElement(i.aV, { alignItems: r }, a.createElement(i.zx, null, "A List"), a.createElement(i.zx, null, "With Controls That Wrap"), a.createElement(i.TW, { rgOptions: [{ label: "And A Dropdown", data: 1 }, { label: "Nothing To See Here :)", data: 2 }], selectedOption: 1 }), a.createElement(i.zx, null, "To Demonstrate It's Loc-Safe"))) } const Or = e => a.createElement(i.sT, { label: e.soundFile.path, onClick: () => { T.hq.GamepadUIAudio.PlayAudioURL(e.soundFile.resolvedPath) } }, "Play"), Mr = () => { let [e, t] = a.useState([]); return a.useEffect((() => { const e = n(48030); let a = e.keys().map((t => ({ path: t.toString().substring(2), resolvedPath: e(t.toString()) }))); a.sort(((e, t) => e.path.indexOf("testing_only") && !t.path.indexOf("testing_only") ? -1 : !e.path.indexOf("testing_only") && t.path.indexOf("testing_only") ? 1 : e.path.localeCompare(t.path.toString()))), t(a) }), [t]), a.createElement("div", null, e.map(((e, t) => a.createElement(Or, { key: t, soundFile: e })))) }; var Hr; !function (e) { e[e.None = 0] = "None", e[e.StartupAnimation = 1] = "StartupAnimation", e[e.LoadingSpinner = 2] = "LoadingSpinner" }(Hr || (Hr = {})); const Ur = e => { let [t, n] = a.useState(Hr.None); return t != Hr.None ? a.createElement("div", { className: lr.StartupAnimationContainer }, t == Hr.StartupAnimation && a.createElement(vr.k, { strOverrideStartupMovie: e.startupAnimation.movie }), t == Hr.LoadingSpinner && a.createElement(ge.t, { showFooter: !0 })) : a.createElement(i.sT, { label: e.startupAnimation.name, onClick: () => { n(Hr.StartupAnimation), setTimeout((() => n(Hr.LoadingSpinner)), e.startupAnimation.imageDuration), setTimeout((() => n(Hr.None)), e.startupAnimation.audioDuration) } }, "Play") }, Xr = () => { let e = [{ name: "Current (webm)", image: null, movie: hr.Z, imageDuration: 4e3, audioDuration: 5e3 }]; return a.createElement("div", null, e.map(((e, t) => a.createElement(Ur, { key: t, startupAnimation: e })))) }; function Vr(e) { let t = []; const n = mr.v, r = Object.keys(n).filter((e => "number" == typeof n[e])), o = r.map((e => n[e])); for (let e = 0; e < r.length; e++) { let n = Number(o[e]), l = r[e]; t.push(a.createElement(i.aV, { key: l, label: l }, a.createElement(i.zx, { disabled: !mr.B.BHasUserSeenInterstitial(n, 620), onClick: () => { mr.B.ClearInterstitialVersionSeen(n) } }, "Clear Seen"), a.createElement(i.zx, { onClick: () => { mr.B.AddInterstitialToQueue({ eInterstitial: n, bForce: !0, appid: 620, strParam: "ParamText" }) } }, "Open"))) } return a.createElement(Y.s, null, t) } function Wr(e, t, n) { let r = e.replace(/\"/g, ""); for (let e = 0; e < n.length; ++e) { let t = n[e]; if (t.data.strExePath == r) return void (0, _e.AM)(a.createElement(de.JX, { strTitle: "Error", strDescription: `That shortcut already exists as ${t.data.strAppName}` }), window) } SteamClient.Apps.AddShortcut("", e).then((e => { t && 0 != t.length && va.d.RequestAppDetails(e).then((n => { SteamClient.Apps.SetShortcutLaunchOptions(e, n.strLaunchOptions + " " + t) })), setTimeout((() => J.g4.NavigateToApp(e)), 1e3) })) } function Zr(e) { let { shortcut: t } = e, n = a.createElement("div", null, a.createElement("div", null, t.data.strIconData && a.createElement("img", { style: { verticalAlign: "middle", marginRight: "10px" }, src: "data:image/bmp;base64," + t.data.strIconData }), t.data.strAppName), a.createElement("div", { style: { wordBreak: "break-word" } }, t.data.strExePath), a.createElement("div", { style: { wordBreak: "break-word" } }, t.data.strIconPath), a.createElement("div", { style: { wordBreak: "break-word" } }, t.data.strShortcutPath)); const r = (0, J.UK)(t.appid); return a.createElement(i.sT, { label: n, onClick: r }, "View") } function zr(e) { let { shortcuts: t } = e; return a.createElement(i.zx, { onClick: () => { const e = a.createElement(sr.J1, { title: "Add Shortcut", description: "Add a new shortcut by pasting in the full path to the executable below", initialText: "", isValid: e => 0 != e.length, onResult: e => { Wr(e, null, t) }, onCancel: () => { } }); return (0, _e.AM)(e, window, {}) } }, "Add New Shortcut") } function qr(e) { let { label: t, strFlatPakName: n, strLaunchOptions: r, installedApps: o } = e, l = void 0 !== o.find((e => e.applicationid == n)), [s, c] = a.useState(!1); let m = `Install ${t}`; return l ? m = `${t} Installed` : s && (m = `Installing ${t}`), a.createElement(i.zx, { disabled: s || l, onClick: () => { c(!0), gr.InstallApp(n, r).then((e => { e.appid ? (c(!1), J.g4.NavigateToApp(e.appid)) : ((0, _e.AM)(a.createElement(de.JX, { strTitle: "Error", strDescription: `Failed to install flatpak ${n}: ${e.strInstallOutput}` }), window), c(!1)) })) } }, m) } function Kr(e) { let { label: t, strExePath: n, strLaunchOptions: r, shortcuts: o } = e; if (!ue.De.ON_DECK) return null; return a.createElement(i.zx, { onClick: () => { Wr(n, r, o) } }, t) } function jr(e) { let t = function () { let [e, t] = a.useState([]); return a.useEffect((() => { SteamClient.Apps.GetAllShortcuts().then((e => t(e))) }), [t]), e }(), n = function () { let [e, t] = a.useState([]); return a.useEffect((() => { SteamClient.Apps.ListFlatpakApps().then((e => { console.log(e), t(e) })) }), [t]), e }(); return a.createElement(Y.s, null, a.createElement(i.aV, { alignItems: "left" }, a.createElement(zr, { shortcuts: t }), a.createElement(Kr, { label: "Add Firefox", strExePath: "/usr/share/applications/firefox.desktop", strLaunchOptions: "MOZ_USE_XINPUT2=1 %command%", shortcuts: t }), a.createElement(Kr, { label: "Add Chrome", strExePath: "/var/lib/flatpak/app/com.google.Chrome/current/active/export/share/applications/com.google.Chrome.desktop", strLaunchOptions: "--window-size=852,532", shortcuts: t }), a.createElement(qr, { label: "Chrome", strFlatPakName: "com.google.Chrome", strLaunchOptions: "--window-size=852,532", installedApps: n })), t && t.map(((e, t) => a.createElement(Zr, { key: t, shortcut: e })))) } function Qr(e) { const t = new Map([["Google", "https://www.google.com/"], ["Valve Software", "https://www.valvesoftware.com/"], ["Netflix", "https://www.netflix.com/"], ["Reddit", "https://www.reddit.com/"], ["YouTube", "https://www.youtube.com/"], ["Amazon.com", "https://www.amazon.com/"], ["Wikipedia", "https://en.wikipedia.org/wiki/Main_Page"], ["Twitter", "https://twitter.com/Steam"], ["Chrome", "chrome://about"]]); let n = []; return t.forEach(((e, t) => { n.push(a.createElement(i.sT, { key: t, label: t, onClick: () => T.hq.NavigateToExternalWeb(e) }, "GO")) })), a.createElement(Y.s, null, a.createElement(Yr, null), n) } function Yr(e) { const [t, n] = a.useState(""), r = a.useCallback((e => { n(e.target.value) }), [n]), o = a.useCallback((() => T.hq.NavigateToExternalWeb(t)), [t]); return a.createElement(i.gN, { childrenLayout: "below", label: "Navigate to URL" }, a.createElement(i.II, { onChange: r, placeholder: "Enter a URL", onEnterKeyPress: o, strEnterKeyLabel: "GO" }), t.length > 0 && a.createElement(i.sT, { onClick: o }, "GO")) } function Jr() { const e = cr._A.GetChordHintVisible(); e || T.hq.CloseSideMenus(), cr._A.SetChordHintVisible(!e) } function $r() { return a.createElement(ln.AF, { onButtonDown: e => { cr._A.GetChordHintVisible() && Jr() } }, a.createElement(rr.r, { title: "GamepadUI Settings Zoo", pages: [{ title: "Dropdowns", route: o.Z5.GamepadUI.Zoo.Dropdowns(), content: a.createElement(Er, null) }, { title: "Modals", route: o.Z5.GamepadUI.Zoo.Modals(), content: a.createElement(Cr, null) }, { title: "Buttons", route: o.Z5.GamepadUI.Zoo.Buttons(), content: a.createElement(wr, null) }, { title: "Sliders", route: o.Z5.GamepadUI.Zoo.Sliders(), content: a.createElement(Nr, null) }, { title: "Toggles", route: o.Z5.GamepadUI.Zoo.Toggles(), content: a.createElement(Tr, null) }, { title: "Other Controls", route: o.Z5.GamepadUI.Zoo.OtherControls(), content: a.createElement(Fr, null) }, { title: "Glyphs", route: o.Z5.GamepadUI.Zoo.Glyphs(), content: a.createElement(Br, null) }, { title: "Typography", route: o.Z5.GamepadUI.Zoo.Type(), content: a.createElement(Lr, null) }, { title: "Focusable Input", route: o.Z5.GamepadUI.Zoo.Input(), content: a.createElement(Rr, null) }, ...ir.OL.filter((e => "LogSettings" != e.identifier)).map((e => { var { identifier: t } = e, n = (0, r._T)(e, ["identifier"]); return Object.assign(Object.assign({}, n), { route: T.Mj[t]() }) })), { title: "Sound Tester", route: o.Z5.GamepadUI.Zoo.SoundTester(), content: a.createElement(Mr, null) }, { title: "Web Links", route: o.Z5.GamepadUI.Zoo.WebLinks(), content: a.createElement(Qr, null) }, { title: "Startup Animation Tester", route: o.Z5.GamepadUI.Zoo.StartupAnimationTester(), content: a.createElement(Xr, null) }, { title: "Interstitials", route: o.Z5.GamepadUI.Zoo.Interstitials(), content: a.createElement(Vr, null) }, { title: "Desktop Apps", route: o.Z5.GamepadUI.Zoo.DesktopAppShortcuts(), content: a.createElement(jr, null) }] }), a.createElement(ur.J, { appid: 620 })) } var eo = n(70066), to = n(47973); function no(e) { return a.createElement("div", { className: to.ErrorConditionBackground }, a.createElement("div", { className: to.ErrorConditionContainer }, a.createElement(Y.s, { autoFocus: !0, onCancelActionDescription: null, onCancelButton: () => !0 }, a.createElement("div", { className: to.Header }, e.title), a.createElement("div", { className: to.SubHeader }, e.desc), a.createElement(i.KM, { onClick: e.onClick }, (0, g.Xx)("#Steam_ErrorCondition_OK").toLocaleUpperCase())))) } function ao(e) { let t = function () { T.hq.ResetErrorCondition(), J.g4.NavigateToReauthentication() }, n = (0, g.Xx)("#Steam_RefreshLogin_InfoTicketExpired"), r = (0, g.Xx)("#Steam_ErrorCondition_RefreshLogin"); if (1 != T.hq.ErrorConditionResult) switch (T.hq.ErrorConditionResult) { case 6: n = (0, g.Xx)("#Steam_RefreshLogin_AccountAlreadyLoggedInNoPassword"), r = (0, g.Xx)("#Steam_RefreshLogin_AccountAlreadyLoggedInContinue"), t = function () { T.hq.ResetErrorCondition(), SteamClient.User.Reconnect(), J.g4.NavigateBack() }; break; case 49: n = (0, g.Xx)("#Steam_RefreshLogin_AccountAlreadyLoggedInNeedPassword"); break; case 50: n = (0, g.Xx)("#Steam_RefreshLogin_AccountAlreadyLoggedInNeedShutdown"); break; case 85: return J.g4.NavigateToLoginScreen(), a.createElement(a.Fragment, null); case 88: n = (0, g.Xx)("#Steam_RefreshLogin_InvalidTwoFactorCode"); break; default: n = (0, g.Xx)("#Steam_RefreshLogin_InvalidPassword") }return a.createElement("div", { className: to.ErrorConditionBackground }, a.createElement("div", { className: to.ErrorConditionContainer }, a.createElement(Y.s, { autoFocus: !0, onCancelActionDescription: null, onCancelButton: () => !0 }, a.createElement("div", { className: to.Header }, (0, g.Xx)("#Steam_ErrorCondition_Title")), a.createElement("div", { className: to.SubHeader }, n), a.createElement("div", { className: to.SubHeader }, r), a.createElement(i.KM, { onClick: t }, (0, g.Xx)("#Steam_ErrorCondition_OK").toLocaleUpperCase())))) } function ro(e) { const t = T.hq.ErrorCondition; a.useEffect((() => (T.hq.DisableHomeAndQuickAccessButtons(), () => T.hq.EnableHomeAndQuickAccessButtons())), []); let n = a.useCallback((() => { SteamClient.User.ChangeUser() }), []), r = a.useCallback((() => { T.hq.ResetErrorCondition(), J.g4.NavigateToHome() }), []); switch (t) { case 1: return a.createElement(ao, null); case 2: return a.createElement(no, { title: (0, g.Xx)("#Steam_ErrorCondition_Title"), desc: (0, g.Xx)("#Steam_ErrorCondition_LoggedInElsewhere"), onClick: n }); case 3: return a.createElement(no, { title: (0, g.Xx)("#Steam_ErrorCondition_Title"), desc: (0, g.Xx)("#Steam_ErrorCondition_SteamGuard"), onClick: n }); case 4: return a.createElement(no, { title: (0, g.Xx)("#Steam_ErrorCondition_Title"), desc: (0, g.Xx)("#Steam_ErrorCondition_AccountDisabled"), onClick: n }); case 5: return a.createElement(no, { title: (0, g.Xx)("#Steam_ErrorCondition_Title"), desc: (0, g.Xx)("#Steam_ErrorCondition_Offline"), onClick: r }) }return a.createElement(a.Fragment, null) } var oo = n(8926), io = n(35409), lo = n(13102), so = n(8336), co = n(37962), mo = n(86487), uo = n(48288); function po(e) { var t, n; let a = null !== (t = e.Steam_Language_Selection_Label) && void 0 !== t ? t : "Select a language"; return { strWelcome: null !== (n = e.Steam_Welcome) && void 0 !== n ? n : "Welcome", strSelect: a } } const _o = new class { constructor() { this.m_strCurrentLanguage = (0, _.vq)(""), this.m_rgLanguages = (0, _.vq)([]), this.m_rgWelcomeText = (0, _.vq)([]), this.m_strCurrentTimeZoneID = (0, _.vq)(""), this.m_rgTimeZones = (0, _.vq)([]), this.m_bTestModeEnabled = (0, _.vq)(!1), this.m_eRebootToFactoryTestImageResult = (0, _.vq)(null), this.m_bTestOOBESetupInProgress = (0, _.vq)(!1) } Init() { return (0, r.mG)(this, void 0, void 0, (function* () { this.LoadLanguageScreenData(), this.LoadTimezoneData(), this.LoadOptions() })) } LoadLanguageScreenData() { return (0, r.mG)(this, void 0, void 0, (function* () { let e = yield SteamClient.Settings.GetCurrentLanguage(), t = yield SteamClient.Settings.GetAvailableLanguages(), n = t.findIndex((e => 0 == e.language)); n > 0 && dr.hV(t, n, 0); let a = yield Promise.all(t.map((e => (0, mo.lS)(e.strShortName)))), r = yield Promise.all(t.map((e => (0, mo.I2)(e.strShortName)))), o = a.map(po); for (let e = 0; e < t.length; e++) { let n = `Language_${t[e].strShortName}`, a = r[e][n]; t[e].strLocalizedName = a } this.m_strCurrentLanguage.Set(e), this.m_rgLanguages.Set(t), this.m_rgWelcomeText.Set(o) })) } LoadTimezoneData() { return (0, r.mG)(this, void 0, void 0, (function* () { let e = yield SteamClient.Settings.GetTimeZone(), t = yield SteamClient.Settings.GetAvailableTimeZones(); this.m_strCurrentTimeZoneID.Set(e), this.m_rgTimeZones.Set(t) })) } LoadOptions() { return (0, r.mG)(this, void 0, void 0, (function* () { let e = yield SteamClient.Settings.GetOOBETestMode(); this.m_bTestModeEnabled.Set(e) })) } get CurrentLanguage() { return this.m_strCurrentLanguage } SetCurrentLanguage(e) { return (0, r.mG)(this, void 0, void 0, (function* () { SteamClient.Settings.SetCurrentLanguage(e.strShortName), yield (0, mo.CK)(e.strShortName), this.m_strCurrentLanguage.Set(e.strShortName) })) } get AvailableLanguages() { return this.m_rgLanguages } get WelcomeText() { return this.m_rgWelcomeText } get CurrentTimeZoneID() { return this.m_strCurrentTimeZoneID } SetCurrentTimeZoneID(e) { SteamClient.Settings.SetTimeZone(e), this.m_strCurrentTimeZoneID.Set(e) } get AvailableTimeZones() { return this.m_rgTimeZones } get bTestModeEnabled() { return this.m_bTestModeEnabled } get eRebootToFactoryTestImageResult() { return this.m_eRebootToFactoryTestImageResult } get bTestOOBESetupInProgress() { return this.m_bTestOOBESetupInProgress } SetTestModeEnabled(e) { SteamClient.Settings.SetOOBETestMode(e), this.m_bTestModeEnabled.Set(e) } TriggerTestOOBE(e) { return (0, r.mG)(this, void 0, void 0, (function* () { this.m_bTestOOBESetupInProgress.Set(!0); const t = yield SteamClient.System.RebootToFactoryTestImage(e); return this.m_eRebootToFactoryTestImageResult.Set(t.result), 1 == t.result && (this.SetTestModeEnabled(!0), SteamClient.Settings.SetForceOOBE(!1), SteamClient.Settings.SetEnableTestUpdaters(!1), e && (yield uo.P.RemoveAllUsers()), SteamClient.System.RestartPC()), this.m_bTestOOBESetupInProgress.Set(!1), t })) } SetOOBEComplete() { this.bTestModeEnabled.Value && this.SetTestModeEnabled(!1), SteamClient.User.SetOOBEComplete() } }; var go = n(72368), ho = n(57458); function vo(e) { const [t, n] = (0, co.NA)(), [r, o] = (0, m.rA)(t, n, 1e3); return a.createElement(i.z2, { label: e.iconOnly ? null : (0, g.Xx)("#Settings_Display_Brightness"), icon: a.createElement(l.UlH, null), padding: e.padding, disabled: !1, value: r, onChange: o, min: 0, max: 1, step: 0 }) } function So() { const e = (0, g.Xx)("#Settings_Display_AdaptiveBrightness"), [t, n] = (0, co.rh)(); return a.createElement(i.gE, { disabled: !t, label: e, checked: t && n, onChange: co.Mj.Get().SetDisplayAdaptiveBrightnessEnabled }) } function Eo(e) { const t = [], n = Array.from(new Set(e)); return n.sort(((e, t) => e - t)), n.forEach((e => { t.push({ data: e, label: 0 == e ? (0, g.Xx)("#Settings_System_IdleDisabled") : (0, g.yW)(e, { eSuffix: le.U$.None, bHighGranularity: !0 }) }) })), t } function bo(e) { const [t, n] = (0, co.cl)(e.bOnAC), r = Math.round(t); return a.createElement(i.gB, { label: e.bOnAC ? (0, g.Xx)("#Settings_System_BacklightDimTimePlugged_Label") : (0, g.Xx)("#Settings_System_BacklightDimTimeNotPlugged_Label"), selectedOption: r, onChange: e => n(e.data), rgOptions: Eo([0, 60, 300, 600, 900, 1200, r]) }) } function Co(e) { const [t, n] = (0, co.$s)(e.bOnAC), r = Math.round(t); return a.createElement(i.gB, { label: e.bOnAC ? (0, g.Xx)("#Settings_System_SuspendTimePlugged_Label") : (0, g.Xx)("#Settings_System_SuspendTimeNotPlugged_Label"), selectedOption: r, onChange: e => n(e.data), rgOptions: Eo([0, 300, 600, 900, 1200, r]) }) } function yo(e) { return (0, r.mG)(this, void 0, void 0, (function* () { yield _o.TriggerTestOOBE(e) })) } function fo() { (0, _e.AM)(a.createElement(de.uH, { strTitle: "Are you sure you want trigger a test OOBE?", strDescription: "Confirm will restart your client/device", onOK: () => { (0, _e.AM)(a.createElement(de.uH, { strTitle: "Do a clean OOBE?", strDescription: "WARNING: This will forget all wifi networks and logout all users", bDestructiveWarning: !0, strOKButtonText: "Clean", onOK: () => { yo(!0) }, strCancelButtonText: "Preserve Users/Wifi", onCancel: () => { yo(!1) } }), window, { strTitle: "Error" }) } }), window, { strTitle: "Error" }) } function Ao() { const e = (0, m.e1)(_o.bTestOOBESetupInProgress), t = (0, m.e1)(_o.eRebootToFactoryTestImageResult); let n = "Status Unknown"; return n = e ? "In progress" : null == t ? "Restart" : 1 == t ? "Error: should've auto rebooted" : "Failed, try again?", a.createElement(i.sT, { disabled: e, onClick: fo, label: "Restart into OOBE test" }, n) } function Io() { const [e, t] = (0, co.H8)(), n = a.useCallback((e => { t(e), Hn({ bSystemRestart: !0 }) }), [t]); return a.createElement(i.fp, { label: (0, g.Xx)("#Settings_Developer_WifiPowersave"), description: (0, g.Xx)("#Settings_Developer_WifiPowersave_Desc"), checked: e, onChange: n }) } function ko(e) { return a.createElement(de.uH, { strTitle: (0, g.Xx)("#Settings_System_FormatSD_Error_Title"), strDescription: (0, g.Xx)("#Settings_System_FormatSD_Error_NotMounted"), strOKButtonText: (0, g.Xx)("#Settings_System_FormatSD_Error_RestartNow"), strCancelButtonText: (0, g.Xx)("#Settings_System_FormatSD_Error_RestartLater"), onOK: () => { SteamClient.System.RestartPC() }, closeModal: e.closeModal }) } function wo(e) { var t, n; const r = null !== (t = e.bForceFormat) && void 0 !== t && t, o = null !== (n = e.strLabel) && void 0 !== n ? n : (0, g.Xx)("#Settings_System_FormatSD_Label"), l = (0, go.P$)(), s = (0, go.kE)(), c = (0, go.$9)(), m = (0, go.qB)(), u = a.useCallback((() => { go._9.Get().FormatSDCard(r).then((e => { 1 != e && (0, _e.AM)(function (e) { const { eResult: t } = e; let n = null; switch (e.eResult) { case 53: n = (0, g.Xx)("#Settings_System_FormatSD_Error_BadCard"); break; case 9: n = (0, g.Xx)("#Settings_System_FormatSD_Error_NotFound"); break; default: n = (0, g.Xx)("#Settings_System_FormatSD_Error_Generic", t) }return 22 == e.eResult ? a.createElement(ko, { closeModal: e.closeModal }) : a.createElement(de.JX, { strTitle: (0, g.Xx)("#Settings_System_FormatSD_Error_Title"), strDescription: n, strOKButtonText: (0, g.Xx)("#Settings_System_FormatSD_Error_OK"), closeModal: e.closeModal }) }({ eResult: e }), window) })) }), [r]), d = a.useCallback((() => { (0, _e.AM)(a.createElement(de.uH, { strTitle: (0, g.Xx)("#Settings_System_FormatSD_Confirm_Title"), bDestructiveWarning: !0, strDescription: (0, g.Xx)("#Settings_System_FormatSD_Confirm_Desc"), onOK: u }), window) }), [u]); if (l) { const e = m > 0 ? ho.kx.LocalizeTimeRemaining(m) : null, t = (p = c.eStage, { 0: (0, g.Xx)("#SDCard_Format_State_Invalid"), 1: (0, g.Xx)("#SDCard_Format_State_Starting"), 2: (0, g.Xx)("#SDCard_Format_State_Testing"), 3: (0, g.Xx)("#SDCard_Format_State_Rescuing"), 4: (0, g.Xx)("#SDCard_Format_State_Formatting"), 5: (0, g.Xx)("#SDCard_Format_State_Finalizing") }[p]); return a.createElement(a.Fragment, null, a.createElement(nr.i, { indeterminate: !0, label: o, sOperationText: t, margin: "none", nProgress: 100 * c.flProgress, sTimeRemaining: e, nTransitionSec: .3 })) } var p; return a.createElement(a.Fragment, null, a.createElement(i.sT, { label: o, onClick: d, disabled: !r && !s, bottomSeparator: e.bottomSeparator }, (0, g.Xx)("#Settings_System_FormatSD_Btn_Format"))) } function No(e) { const [t, n, r] = (0, co.Fs)(); return t ? a.createElement(i.gE, { label: (0, g.Xx)("#Settings_System_FanControlToggle"), checked: n, onChange: r }) : null } function To() { const [e, t, n] = (0, co.PW)(); return e ? a.createElement(i.gB, { label: "Color Profile", rgOptions: [{ label: "Standard", data: 2 }, { label: "Vivid", data: 3 }, { label: "Native", data: 1 }], selectedOption: t, onChange: e => n(e.data) }) : null } var xo = n(87205), Do = n(35275); function Fo(e) { return (0, g.Xx)("#TimeZoneOffset", e.utcOffset > 0 ? "+" : "-", Math.abs(e.utcOffset / 100).toLocaleString(void 0, { minimumIntegerDigits: 2 }), Math.abs(e.utcOffset % 100).toLocaleString(void 0, { minimumIntegerDigits: 2 })) } function Go(e) { const { tz: t } = e, n = Fo(t); return a.createElement(i.Rv, { upperDescription: n, title: (0, g.Xx)(t.timezoneLocalizationToken), description: (0, g.Xx)(t.regionsLocalizationToken) }) } function Bo() { var e; const [t, n] = (0, ie.bT)("b24HourClock"), r = (0, m.e1)(ie.cS.CurrentTimeZoneID), o = (0, m.fJ)((() => SteamClient.Settings.GetAvailableTimeZones()), []), l = null !== (e = null == o ? void 0 : o.map((e => ({ label: a.createElement(Go, { tz: e }), data: e.timezoneID })))) && void 0 !== e ? e : [], s = a.useRef(); return a.createElement(i.Aw, null, a.createElement(i.bU, null, (0, g.Xx)("#Settings_TimeAndDate_Title")), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_TimeAndDate_24HourClock"), checked: t, onChange: n }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_TimeAndDate_Timezone"), rgOptions: l, selectedOption: r, onChange: e => { return t = e.data, void SteamClient.Settings.SetTimeZone(t); var t }, dropDownControlRef: s })) } var Lo = n(26359), Ro = n(30965), Po = n.n(Ro); function Oo() { const [e, t] = (0, T.oA)(); return a.createElement(i.gE, { label: (0, g.Xx)("#Settings_System_EnableDeveloperMode"), checked: e, onChange: t }) } function Mo() { return a.createElement(Y.s, { className: Po().SystemInfoContainer }, a.createElement(i.uT, null, a.createElement(Xo, null))) } function Ho(e) { if (ue.De.ON_DECK) { const t = () => (0, _e.AM)(a.createElement(ai, null), window); return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_System_Hostname"), onClick: t }, e.hostname) } return a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_Hostname"), value: e.hostname }) } function Uo(e, t, n) { const a = new Date(1e3 * e); return (0, g.XG)(a, !1, !1) + " " + (0, le.Sc)(e, { bForce24HourClock: t }) + " " + n } function Xo() { const e = (0, io.P3)(), [t] = (0, ie.bT)("b24HourClock"), n = (0, m.e1)(ie.cS.CurrentTimeZoneID), r = (0, m.fJ)((() => SteamClient.Settings.GetAvailableTimeZones()), []), o = null == r ? void 0 : r.find((e => e.timezoneID == n)), l = o ? Fo(o) : ""; if (!e) return null; const s = e.nSteamVersion > 0 ? e.nSteamVersion.toString() : "local", c = parseInt(1664994227), u = c && Uo(c, t, l), d = e.nCPUHz / 1e3 / 1e3 / 1e3 + " GHz", p = (0, lo.l)(1024 * e.nSystemRAMSizeMB * 1024), _ = (0, lo.l)(1024 * e.nVideoRAMSizeMB * 1024); let h = ce.tH.Get().GetControllers().find((e => 4 == e.eControllerType)); const v = e.sSteamBuildDate, S = "linux" == ue.De.PLATFORM ? " GMT+0000" : " GMT-0800", E = Date.parse(v + S) / 1e3, b = E ? Uo(E, t, l) : v, C = null == h ? void 0 : h.strFirmwareBuildTime, y = Math.floor(Date.parse(C + " GMT+0000") / 1e3), f = y ? Uo(y, t, l) : C; return a.createElement(a.Fragment, null, a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_About")), a.createElement(Ho, { hostname: e.sHostname }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_OSName"), value: e.sOSName }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_OSCodename"), value: e.sOSCodename }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_OSVariantId"), value: e.sOSVariantId }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_OSVersionId"), value: e.sOSVersionId }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_OSBuildId"), value: e.sOSBuildId }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_KernalVersion"), value: e.sKernelVersion }), h && a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_DeckControllerVersion"), value: f }), h && a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_DeckSerialNumber"), value: h.strSerialNumber }), h && a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_DeckChipID"), value: h.strChipID }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_BIOSVersion"), value: e.sBIOSVersion, bottomSeparator: "standard" }), a.createElement(Ne.KT, null)), a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_Steam")), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_SteamVersion"), value: s }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_SteamBuildDate"), value: b }), u && a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_SteamWebBuildDate"), value: u }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_SteamAPIVersion"), value: e.sSteamAPI }), a.createElement(i.sT, { onClick: () => (0, _e.AM)(a.createElement(ni, null), window), bottomSeparator: "standard" }, (0, g.Xx)("#ThirdPartyLicenses_Header"))), a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_Hardware")), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_CPUVendor"), value: e.sCPUVendor }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_CPUName"), value: e.sCPUName }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_CPUFrequency"), value: d }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_CPUPhysicalCores"), value: e.nCPUPhysicalCores.toString() }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_CPULogicalCores"), value: e.nCPULogicalCores.toString() }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_RAMSize"), value: p }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_VideoCard"), value: e.sVideoCardName }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_VideoDriver"), value: e.sVideoDriverVersion }), a.createElement(i.Z5, { name: (0, g.Xx)("#Settings_System_VRAMSize"), value: _, bottomSeparator: "standard" }))) } const Vo = new RegExp(/steam\s*(pal|deck)|Local/i); function Wo(e) { return !e.strName.toLowerCase().includes("legacy") && Vo.test(e.strName) } function Zo(e) { const t = (0, Do.LG)(), [n] = (0, T.oA)(), [r] = (0, T.Hv)(), o = n && r; (0, Do.Sf)(), (0, Do.j1)(); let l = (0, Do.uU)(), s = (0, Do.rK)(); if (0 == l.length || 0 == s) return null; l.includes(s) || (console.error("current OS branch not in branch list"), l = l.slice(), l.push(s)), l.sort(); const c = []; for (const e of l) { let t = ""; switch (e) { case 1: t = (0, g.Xx)("#Settings_OSBranch_Release"); break; case 2: (o || e == s) && (t = (0, g.Xx)("#Settings_OSBranch_ReleaseCandidate")); break; case 3: t = (0, g.Xx)("#Settings_OSBranch_Beta"); break; case 4: (o || e == s) && (t = (0, g.Xx)("#Settings_OSBranch_BetaCandidate")); break; case 5: (o || e == s) && (t = (0, g.Xx)("#Settings_OSBranch_Main")) }t && c.push({ label: t, data: e }) } return 0 == c.length ? null : a.createElement(i.gB, { label: (0, g.Xx)("#Settings_Beta_OSUpdateChannel"), rgOptions: c, selectedOption: s, onChange: e => t.SelectOSBranch(e.data) }) } function zo(e) { var t, n; const r = (0, g.Xx)("#Settings_Beta_None"); let o = null !== (t = ie.cS.settings.nSelectedBetaID) && void 0 !== t ? t : s.W1; const l = a.useRef(), c = [{ label: r, data: s.W1.toString() }], m = null !== (n = ie.cS.settings.vecAvailableClientBetas) && void 0 !== n ? n : []; m.length > 0 && c.push(...m.filter((e => (console.log(e.strName), Wo(e)))).map((e => ({ label: e.strName, data: e.nBetaID.toString() })))); const u = a.useCallback((() => { l.current.SetSelectedOption(o.toString()) }), [l, o]), d = a.useCallback((e => { SteamClient.Settings.SelectClientBeta(e) }), []), p = a.useCallback((e => { e != s.W1 ? e != o && Hn({ strDescription: (0, g.Xx)("#Settings_Beta_NeedsRestart"), fnOnOK: () => d(e), fnOnCancel: u }) : window.setTimeout((() => u()), 0) }), [d, u, o]); return a.createElement(i.gB, { label: (0, g.Xx)("#Settings_Beta_SteamUpdateChannel"), dropDownControlRef: l, rgOptions: c, selectedOption: o.toString(), onChange: e => p(parseInt(e.data)) }) } function qo(e) { return a.createElement(i.Rv, { title: (0, g.Xx)(e.name), description: (0, g.Xx)(e.description), descriptionVisibility: "when-expanded" }) } function Ko(e) { const { channels: t, currentChannel: n } = e, r = a.useRef(), o = t.map((e => ({ label: a.createElement(qo, { name: e.label, description: e.description }), data: e.eChannel }))), l = a.useCallback((() => { r.current.SetSelectedOption((null == n ? void 0 : n.eChannel) || Lo.ey.k_EStable) }), [r, n]), s = a.useCallback((e => { var n; const a = null === (n = t.find((t => t.eChannel == e))) || void 0 === n ? void 0 : n.fnOptIn; a && a() }), [t]), c = a.useCallback((e => { e != (null == n ? void 0 : n.eChannel) && Hn({ strDescription: (0, g.Xx)("#Settings_UpdateChannel_Restart"), fnOnOK: () => s(e), fnOnCancel: l, bSystemRestart: !0 }) }), [s, l, n]); return n ? a.createElement(i.gB, { label: "System Update Channel", dropDownControlRef: r, rgOptions: o, selectedOption: n.eChannel, onChange: e => c(e.data) }) : null } function jo(e) { const t = a.createElement("div", { className: Po().SoftwareUpdateSection }, (0, g.Xx)("#Settings_Updates_Title")); return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Updates_Header")), a.createElement(Ne.Zu, { bHideWhenUnavailable: !0 }), a.createElement(so.e9, { strLabel: t })) } function Qo(e) { var t; const [n, r] = (0, T.Hv)(), o = (null === (t = ie.cS.settings) || void 0 === t ? void 0 : t.bChangeBetaEnabled) && function () { var e; const t = (0, io.P3)(); if (t && t.nSteamVersion > 0) { const t = null !== (e = ie.cS.settings.nSelectedBetaID) && void 0 !== e ? e : s.W1, n = ie.cS.settings.vecAvailableClientBetas; if ((null == n ? void 0 : n.length) > 1 || t == s.W1) return n.some(Wo) } return !1 }() && a.createElement(zo, null), l = (0, Lo.Yb)(), c = (0, Lo.$S)(), m = c && !n; return o || 0 != l.length ? a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Beta_Participation")), m && a.createElement(Ko, { channels: l, currentChannel: c }), !m && a.createElement(a.Fragment, null, a.createElement(Zo, null), o)) : null } function Yo(e) { return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_Advanced_Header")), a.createElement(No, null), a.createElement($o, { bottomSeparator: "none" })) } function Jo(e) { return a.createElement(de.RG, { onCancel: e.closeModal }, a.createElement(i.h4, null, (0, g.Xx)("#Settings_System_Factory_Reset_Are_You_Sure")), a.createElement(i.Ac, null, (0, g.Xx)("#Settings_System_Factory_Reset_Description")), a.createElement(i.$_, null, a.createElement(i.Uq, null, a.createElement(i.zx, { autoFocus: !0, onClick: e.closeModal }, (0, g.Xx)("#Button_Cancel")), a.createElement(i.zx, { onClick: () => { e.onConfirm && e.onConfirm(), e.closeModal && e.closeModal() } }, (0, g.Xx)("#Settings_System_Factory_Reset"))))) } function $o(e) { const [t, n] = a.useState(!1), o = a.useCallback((() => (0, r.mG)(this, void 0, void 0, (function* () { 1 != (yield SteamClient.System.FactoryReset()).result ? n(!0) : SteamClient.System.RestartPC() }))), []), l = a.useCallback((() => { (0, _e.AM)(a.createElement(Jo, { onConfirm: o }), window) }), [o]); return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_System_Factory_Reset_Action"), description: t ? (0, g.Xx)("#Settings_System_Factory_Reset_Failed") : (0, g.Xx)("#Settings_System_Factory_Reset_Description"), onClick: l, bottomSeparator: e.bottomSeparator }, (0, g.Xx)("#Settings_System_Factory_Reset")) } function ei(e) { return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_Header")), a.createElement(Oo, null), a.createElement(wo, { bottomSeparator: "standard" })) } function ti(e) { const [t, n] = a.useState(!1), r = a.createRef(); return a.useEffect((() => { var e; t && (null === (e = r.current) || void 0 === e || e.scrollIntoView({ behavior: "smooth", block: "nearest" })) }), [t, r]), a.createElement(i.gN, { label: e.license.name, description: t && a.createElement("pre", { className: Po().LicenseText }, e.license.licenseText), onActivate: () => n(!t), onOKActionDescription: t ? (0, g.Xx)("#ThirdPartyLicenses_Hide_License") : (0, g.Xx)("#ThirdPartyLicenses_Show_License"), onMoveRight: () => (n(!0), !0), autoFocus: e.autoFocus, ref: r }, a.createElement(l.$nC, { direction: t ? "down" : "right" })) } function ni(e) { var t; const n = (0, m.fJ)((() => import("/licenses.js")), [], null); let r = null !== (t = null == n ? void 0 : n.default) && void 0 !== t ? t : []; return r = r.filter((e => "@steam/shared" != e.name)), r.sort(((e, t) => e.name == t.name ? 0 : e.name < t.name ? -1 : 1)), a.createElement(de.RG, { onCancel: e.closeModal, className: Po().LicensesDialog }, a.createElement(i.V5, { className: Po().InfoDialogBody }, a.createElement(i.h4, null, (0, g.Xx)("#ThirdPartyLicenses_Header"), " ", !r && a.createElement(l.$jN, null)), r.map(((e, t) => a.createElement(ti, { license: e, key: e.name, autoFocus: 0 == t }))))) } function ai(e) { const t = e => { e.length > 0 && (SteamClient.Settings.SetHostname(e), io.Y6.UpdateSystemInfo(), "linux" === ue.De.PLATFORM && (0, xo.pp)()) }, [n, r] = a.useState(""); return a.createElement(de.RG, { onCancel: e.closeModal }, a.createElement(i.h4, null, (0, g.Xx)("#Settings_System_Change_Hostname_Header")), a.createElement(i.uT, null, a.createElement(i.Ac, null, (0, g.Xx)("#Settings_System_Change_Hostname_Body")), a.createElement("div", { className: Po().HostnameInputWrapper }, a.createElement(i.II, { className: Po().HostnameInput, type: "string", value: n, onChange: e => { const t = (e.target.value || "").match(/[\w-]*/); t && r(t[0]) } }))), a.createElement(i.$_, null, a.createElement(i.Uq, null, a.createElement(i.zx, { autoFocus: !0, onClick: e.closeModal }, (0, g.Xx)("#Button_Cancel")), a.createElement(i.zx, { onClick: () => { t && t(n), e.closeModal && e.closeModal() } }, (0, g.Xx)("#Settings_System_Change_Hostname_Set"))))) } function ri(e) { return a.createElement(i.uT, null, a.createElement(so.lj, null), a.createElement(jo, null), a.createElement(Qo, null), a.createElement(ei, null), a.createElement(Xo, null), a.createElement(Yo, null)) } function oi(e) { let t; return T.hq.BIsInOOBE && (t = () => J.g4.NavigateToLoginScreen()), a.createElement(ln.Ij, null, a.createElement(Y.s, { onCancel: t, onOKActionDescription: null }, a.createElement(Mo, null))) } var ii = n(41716), li = n.n(ii), si = n(71885), ci = n(20216), mi = n(68927), ui = n.n(mi), di = n(38250), pi = n(98191); const _i = (0, Q.Pi)((e => { var t; const n = (0, oe.k6)(); (0, Ct.Az)(1, "GamepadUIOverlayQuickActions"); const r = e.runningAppOverview, l = a.useCallback((() => { e.resumeGame() }), [e]), s = r.appid, c = r.GetGameID(), [m, u] = a.useState(!1), d = a.useRef(), p = (a.useRef(), a.useCallback((() => { var e; c && (u(!0), SteamClient.Apps.TerminateApp(c, !1), s == T.hq.MainRunningApp.appid && 1 == (null === (e = T.hq.MainRunningApp) || void 0 === e ? void 0 : e.display_status) && di.U6.CancelAllGameActions()) }), [c, s])), _ = a.useRef(), h = (0, dt.H7)(o.Z5.GamepadUI.AppOverlay.AppActions()), v = T.hq.GetOpenSideMenu(); a.useLayoutEffect((() => { var e; if (h && v == T.MA.None) { null === (e = (m ? d : _).current) || void 0 === e || e.TakeFocus() } }), [v, h, m]), console.log("render app overlay"); const S = (0, J.UK)(s), E = a.useCallback((() => { s && n.push(o.Z5.GamepadUI.ControllerConfigurator.Main(s)) }), [s, n]), b = a.useCallback((() => n.replace(o.Z5.GamepadUI.AppOverlay.Keyboard())), [n]), C = m ? "#AppOverlay_ExitingGame" : "#AppOverlay_ExitGame", [y, f] = a.useState(!1); a.useLayoutEffect((() => { va.d.RequestAppDetails(s).then((() => f(!0))) }), [s]); const A = ce.tH.Get().GetControllers().length > 0, I = null !== (t = cr._A.EditingConfigurationControllerIndex) && void 0 !== t ? t : T.hq.MostRecentlyActiveControllerIndex; cr._A.EnsureEditingConfiguration(s, I); const k = pi.Wz, w = a.createElement(sr.ms, Object.assign({}, e, { title: (0, g.Xx)("#AppOverlay_ConfirmExitGame"), description: (0, g.Xx)("#AppOverlay_UnsavedDataWarning"), onCommitResult: p })); return a.createElement("div", { className: ui().QuickActions }, y && a.createElement(si.A, { app: r, eAssetType: 2, className: ui().LayoutAppImage, backgroundType: "transparent" }), a.createElement(i.Aw, { className: ui().LayoutControls }, a.createElement(Y.s, { onButtonDown: k }, a.createElement(gi, { disabled: m, tone: "primary", navRef: _, onActivate: l }, (0, g.Xx)("#AppOverlay_Resume"), " "), A && a.createElement(gi, { disabled: m, onActivate: E }, (0, g.Xx)("#AppOverlay_ControllerSettings"), " "), a.createElement(gi, { disabled: m, onActivate: b }, (0, g.Xx)("#AppOverlay_OpenKeyboard"), " "), a.createElement(gi, { disabled: m, onActivate: S }, (0, g.Xx)("#AppOverlay_GameDetails"), " "), a.createElement(gi, { disabled: m, tone: "destructive", onActivate: () => (0, _e.AM)(w, window, {}), navRef: d }, (0, g.Xx)(C))))) })), gi = a.forwardRef((function (e, t) { var n; const r = null === (n = e.visible) || void 0 === n || n, o = (0, k.Z)(ui().QuickActionButtons, e.disabled && ui().Disabled, "primary" == e.tone && ui().Primary, "destructive" == e.tone && ui().Destructive, r && ui().Visible); return a.createElement(Y.s, { noFocusRing: !0, focusable: r, className: o, autoFocus: e.autoFocus, navRef: e.navRef, ref: t, onActivate: e.disabled || !r ? null : e.onActivate }, e.children) })); var hi = n(63745), vi = n(18572); function Si(e) { const { className: t, background: n } = e, o = (0, r._T)(e, ["className", "background"]); return a.createElement(Y.s, Object.assign({ className: (0, k.Z)(li().OverlayPosition, { [li().DarkBackground]: "dark" === n }, t) }, o)) } const Ei = (0, Q.Pi)((() => { const e = T.hq.MainRunningApp, t = a.useCallback((() => { console.log("resuming from overlay"), T.hq.NavigateToRunningApp() }), []), n = a.useCallback((e => { console.log("overlay button press", Ut.eV[e.detail.button]) }), []); let r = null, i = (0, oe.$B)(o.Z5.GamepadUI.AppOverlay.AppActions()) ? "dark" : "clear"; return r = e ? a.createElement(oe.rs, null, a.createElement(oe.AW, { path: o.Z5.GamepadUI.AppOverlay.AppActions() }, a.createElement(_i, { runningAppOverview: e, resumeGame: t })), a.createElement(oe.AW, { path: o.Z5.GamepadUI.AppOverlay.Keyboard() }, a.createElement(Ci, { resumeGame: t })), a.createElement(oe.AW, { path: o.Z5.GamepadUI.AppOverlay.BPMWaiting() }, a.createElement(yi, null)), a.createElement(oe.AW, null, a.createElement(bi, null))) : a.createElement(bi, null), a.createElement(Si, { background: i, onButtonDown: n }, r) })); function bi() { return (0, a.useEffect)((() => { console.log("No overlay to show"), J.g4.NavigateBack() || J.g4.NavigateToHome() }), []), a.createElement(ge.t, null) } function Ci(e) { const t = a.useCallback((e => { (0, hi.LP)(e) || (0, vi.X)(!1, `Didn't handle virtual keypress from overlay, key: "${e}"`) }), []), n = a.useCallback((() => { }), []), r = (0, hi.CJ)({ onTextEntered: t, onKeyboardNavOut: n }), o = e.resumeGame, i = a.useCallback((e => { e || o() }), [o]); return (0, pt.Q4)(), (0, _n.$q)(T.hq.VirtualKeyboardManager, i), T.hq.VirtualKeyboardManager.SetDismissOnEnterKey(!0), a.useLayoutEffect((() => (r.ShowVirtualKeyboard(), () => r.BIsActive() && r.HideVirtualKeyboard())), [r]), null } function yi() { const e = (0, oe.k6)(), [t, n] = a.useState(!1), r = a.useCallback((() => { t && e.push(o.Z5.GamepadUI.AppOverlay.AppActions()) }), [t, e]); a.useEffect((() => { setTimeout((() => n(!0)), 15e3) }), []); a.useRef(); return a.createElement(mt.S, null, a.createElement(ge.t, null, a.createElement(Y.s, { onCancelButton: r }, " ", (0, g.Xx)("#BigPictureModeRunningWithCancel"), " "))) } var fi = n(20775), Ai = n(12708), Ii = n(52894), ki = n(72029), wi = n.n(ki); const Ni = a.createContext(null), Ti = e => { const t = (0, ar.bP)(e.action); return t ? a.createElement("div", { className: wi().ActionIcon }, t) : null }, xi = (0, Q.Pi)((function (e) { const t = (0, ar.DH)(e.app, "mostavailable"), n = K.i8.GetFriendsInGame(e.app.appid).length; if (n > 0) return a.createElement("div", { className: (0, k.Z)(wi().SubMessage, wi().FriendsInGame) }, a.createElement(Ti, { action: t }), a.createElement("div", { className: wi().Message }, (0, g.kb)("#AppPortraitHover_FriendsPlaying", n), " ")); let r; r = e.app.minutes_playtime_forever > 0 ? e.app.minutes_playtime_last_two_weeks > 0 ? (0, fi.W)(e.app.minutes_playtime_last_two_weeks, "#AppBox_RecentPlayTime_") : (0, fi.W)(e.app.minutes_playtime_forever, "#BasicGameCarousel_TotalPlayTime_") : e.app.installed ? (0, g.Xx)("#AppBox_NoPlayTimeYet") : (0, g.Xx)("#BasicGameCarousel_NotInstalled"); const o = r; return a.createElement("div", { className: (0, k.Z)((0, ar.gM)(t, wi()), wi().SubMessage) }, a.createElement(Ti, { action: t }), a.createElement("div", { className: wi().Message }, o)) })); const Di = (0, Q.Pi)((function (e) { const { app: t, nLeft: n, nCarouselWidth: o } = e, i = (0, r._T)(e, ["app", "nLeft", "nCarouselWidth"]), l = e.app.display_name ? e.app.display_name : e.app.appid.toString(), s = a.createElement(xi, { app: t }), c = a.useContext(Ni), m = (u = wi().CarouselHorizontalPadding).endsWith("vw") ? parseFloat(u) * window.innerWidth / 100 : ((0, vi.X)(u.endsWith("px"), "Unhandled width string"), parseInt(u)); var u; let d = 0; return o && (d = o - m - (n - c)), d <= 0 ? null : a.createElement("div", Object.assign({ className: wi().CarouselGameLabelWrapper, style: { width: d } }, i), a.createElement("div", { className: (0, k.Z)(wi().CarouselGameLabel) }, a.createElement(Ii.xN, { message: l, subMessage: s, bShortLayout: !1 }), a.createElement("div", { className: (0, k.Z)(wi().FooterBlurImageContainer) }))) })), Fi = a.memo((e => { const { appid: t, bFeatured: n, bShortLayout: o, nWidth: i, nHeight: l, nLeft: s, label: c, nCarouselWidth: m, onItemFocus: u } = e, p = (0, r._T)(e, ["appid", "bFeatured", "bShortLayout", "nWidth", "nHeight", "nLeft", "label", "nCarouselWidth", "onItemFocus"]), _ = (0, d.SZ)((() => z.dk.GetAppOverviewByAppID(t))), g = { width: i, height: l }, h = (0, k.Z)(wi().BasicGameCarouselItemMediaContainer, n && wi().Featured, o && wi().Short), v = { height: l - parseInt(wi().LabelHeight) }, S = a.useCallback((() => !0), []), E = a.useCallback((() => u && u(t, !0)), [t, u]); return a.createElement(Y.s, Object.assign({ navKey: t, className: wi().BasicGameCarouselItem, onFocus: E }, p), e.label, _ && a.createElement(Y.s, { className: h, style: g }, a.createElement("div", { className: wi().AppPortraitWrapper, style: v }, a.createElement(Ii.l, { app: _, bFeatured: e.bFeatured, bShowFriendsAsIcons: !0, context: 2, bShortLayout: o, fnScrollIntoViewHandler: S }), a.createElement(si.A, { app: _, eAssetType: e.bFeatured ? 3 : 0, className: (0, k.Z)(wi().CarouselCapsuleBackgroundGlow, wi().PortraitImage, wi().Capsule, wi().CapsuleVisible) })), a.createElement(Di, { nLeft: s, nCarouselWidth: m, app: _ }))) })), Gi = e => { const { nWidth: t, nHeight: n, strLabel: o, fnOnActivate: i } = e, l = (0, r._T)(e, ["nWidth", "nHeight", "strLabel", "fnOnActivate"]), s = { width: t, height: n - parseInt(wi().LabelHeight) }, c = (0, k.Z)(wi().TextBoxCarouselContents, wi().BasicGameCarouselItemMediaContainer); return a.createElement("div", Object.assign({ className: wi().BasicGameCarouselItem }, l), a.createElement(Y.s, { focusable: !0, className: c, style: s, onActivate: i }, (0, g.Xx)(e.strLabel))) }, Bi = (0, Q.Pi)((function (e) { const { className: t, games: n, name: r, fnGetLabel: o, autoFocus: i, onItemFocus: l, overscan: s, showFeaturedItem: c = !0 } = e, m = a.useRef(), [u, p] = a.useState(0), _ = a.useCallback((e => { p(e) }), []), g = (0, ie.rV)(), h = (0, d.SZ)((() => T.hq.GetComputedDisplaySize(g.nLibraryDisplaySize))), v = a.useCallback((e => { let { childWidth: t, childHeight: n, bShort: a } = Ii.l.GetDimensionsForELibraryDisplaySize(h, e); return t > 175 && (t = 175, n = 262.5), n += parseInt(wi().LabelHeight), { nItemWidth: t, nItemHeight: n, bShortLayout: a } }), [h]), { nItemWidth: S, nItemHeight: E, bShortLayout: b } = v(window), C = a.useRef(""), y = a.useCallback(((e, t, r, i) => { if (e == n.length) return a.createElement(Gi, { nWidth: t, nHeight: r, strLabel: "#GamepadHome_GoToLibrary", fnOnActivate: () => T.hq.NavigateToLibraryTab("AllGames") }); const s = n[e], u = 0 === e && c; if (0 == s) return a.createElement(Y.s, { focusable: !1, className: wi().FeaturedSeparator }); const { label: d, strLabelText: p } = o ? o(s, e, C.current) : { label: void 0, strLabelText: "" }; C.current = p; const _ = { appid: s, bFeatured: u, bShortLayout: b, label: d, nWidth: t, nHeight: r, nLeft: i, nCarouselWidth: m.current && m.current.clientWidth, onItemFocus: l }; return a.createElement(Fi, Object.assign({}, _)) }), [b, o, l, n, c]), f = a.useCallback((e => e == n.length ? "GoToLibrary" : n[e].toString()), [n]), A = a.useCallback((e => e == n.length || 0 !== n[e]), [n]); let I = a.useCallback((e => 0 === e && c ? 690 / 215 * S : 0 === n[e] ? 10 : S), [n, S, c]); if (0 == n.length) return null; const w = parseInt(wi().CarouselTopPadding) + parseInt(wi().CarouselBottomPadding), N = parseInt(wi().ItemMarginRight); return a.createElement(Ni.Provider, { value: u }, a.createElement("div", { ref: m, className: wi().OuterWrapper }, a.createElement(Ai.n, { name: r, className: (0, k.Z)(t, wi().BasicGameCarousel, b && wi().Short, wi().VirtualizedBoxCarousel), fnItemRenderer: y, fnGetColumnWidth: I, fnGetId: f, fnOnScroll: _, fnDoesItemTakeFocus: A, nNumItems: n.length + 1, nHeight: E + w, nItemHeight: E, nItemMarginX: N, autoFocus: i, scrollToAlignment: "center", scrollDuration: 120, overscan: s }))) })); var Li = n(56452), Ri = n.n(Li); function Pi(e) { let t = e.rt_last_time_locally_played || 0, n = e.rt_purchased_time || 0, a = 0; return e.local_per_client_data && e.local_per_client_data.installed && (a = e.rt_last_time_played_or_installed || 0), Math.max(t, n, a) } const Oi = e => { const { autoFocus: t, onItemFocus: n, games: r } = e; return a.createElement(Bi, { name: (0, g.Xx)("#LibraryHome_RecentGames"), games: r, autoFocus: t, onItemFocus: n, overscan: r.length }) }, Mi = e => { const { appid: t, previousAppid: n, scratchPage: r, movementRight: o } = e; if (!(0, va.i)(t)) return null; const i = z.dk.GetAppOverviewByAppID(t), l = z.dk.GetAppOverviewByAppID(n); return a.createElement("div", { className: Ri().RecentGamesBackgroundImages }, a.createElement(si.A, { className: Ri().RecentGamesBackground, imageClassName: (0, k.Z)(Ri().RecentGamesBackgroundImage, Ri().scratchPage1, !r && Ri().OffScreen, o ? Ri().MoveRight : Ri().MoveLeft), eAssetType: 1, app: r ? i : l, backgroundType: "transparent" }), a.createElement(si.A, { className: Ri().RecentGamesBackground, imageClassName: (0, k.Z)(Ri().RecentGamesBackgroundImage, Ri().scratchPage2, r && Ri().OffScreen, o ? Ri().MoveRight : Ri().MoveLeft), eAssetType: 1, app: r ? l : i, backgroundType: "transparent" })) }, Hi = e => { const { games: t, refOnItemFocus: n } = e, [r, o] = a.useState(t[0]); let i = a.useRef(t[0]), l = a.useRef(!0), s = a.useRef(!0); const c = a.useCallback((e => { i.current != r && (i.current = r), o(e); let n = t.findIndex((t => t === e)), a = t.findIndex((e => e === r)); l.current = !l.current, s.current = n > a }), [t, r]); return a.useEffect((() => { n.current = c }), [n, c]), r ? a.createElement("div", { className: Ri().RecentGamesBackgroundContainer }, a.createElement(Mi, { appid: r, previousAppid: i.current, scratchPage: l.current, movementRight: s.current }), a.createElement("div", { className: Ri().RecentGamesBackgroundFadeGradient })) : null }; function Ui() { return a.createElement(Y.s, { className: Ri().LibraryHomeEmptyGames }, a.createElement("div", { className: Ri().TextBody }, (0, g.Xx)("#GamepadHome_NoGames")), a.createElement(Y.s, { className: Ri().OptionContainer }, a.createElement(Y.s, { focusable: !0, className: Ri().Option, onOKButton: () => T.hq.NavigateToStoreFreeToPlay() }, (0, g.Xx)("#Library_Recent_NoRecentGames_FreeToPlay")), a.createElement(Y.s, { focusable: !0, className: Ri().Option, onOKButton: () => T.hq.NavigateToStoreOnSale() }, (0, g.Xx)("#Library_Recent_NoRecentGames_GamesOnSale")), a.createElement(Y.s, { focusable: !0, className: Ri().Option, onOKButton: () => T.hq.NavigateToStoreNewReleases() }, (0, g.Xx)("#Library_Recent_NoRecentGames_NewReleases")))) } const Xi = a.memo((function (e) { const { autoFocus: t, showBackground: n = !0 } = e, [r, o] = a.useState(), i = (0, d.SZ)((() => { let e = Ga.NW.GetCollection(Ga.ZK.Recent).visibleApps, t = Ga.NW.GetCollection(Ga.ZK.LocalPlayed).visibleApps, n = Ga.NW.GetCollection(Ga.ZK.RecentPurchased).visibleApps, a = Ga.NW.GetCollection(Ga.ZK.LocalGames).visibleApps, r = [], o = t.slice(); r.push(...o.map((e => e.appid))); const i = o.shift(); n = n.filter((e => !r.includes(e.appid))), o.push(...n), r.push(...n.map((e => e.appid))), a = a.filter((e => !r.includes(e.appid))), o.push(...a), r.push(...a.map((e => e.appid))), o.sort(((e, t) => Pi(t) - Pi(e))), i && o.unshift(i), e = e.filter((e => !r.includes(e.appid))), o.splice(15, 0, ...e), o = o.filter((e => !T.hq.BIsVrOnlyGame(e))), o = o.filter((e => !e.BIsApplicationOrTool() || e.minutes_playtime_forever > 0)); let l = T.hq.MainRunningApp; if (l) { let e = Object.assign({}, l); e.appid = 0, o = o.filter((e => e.appid != l.appid)), o.unshift(e), o.unshift(l) } return o.splice(20), JSON.stringify(o.map((e => e.appid))) })), l = a.useMemo((() => JSON.parse(i)), [i]), s = (0, d.SZ)((() => { var e; return null === (e = T.hq.MainRunningApp) || void 0 === e ? void 0 : e.appid })), c = a.useRef(), m = a.useCallback((e => { o(e), c.current && c.current(e) }), [c]); return 0 === l.length ? a.createElement(Ui, null) : a.createElement(Y.s, { className: Ri().RecentGamesContainer, "flow-children": "column" }, n && a.createElement(Hi, { games: l, refOnItemFocus: c }), a.createElement("div", { className: Ri().RecentGamesInnerContainer }, a.createElement("div", { className: Ri().RecentGamesHeader }, (0, g.Xx)(s == r ? "#Showcase_CurrentGame" : "#Showcase_RecentGames")), a.createElement(Oi, { games: l, autoFocus: t, onItemFocus: m }))) })); var Vi = n(48773), Wi = n(73382), Zi = n(80269), zi = n(62081), qi = n(57550), Ki = (n(57615), n(98979)), ji = (n(82039), n(95269)), Qi = n.n(ji); const Yi = e => e.overview ? a.createElement("div", { className: Qi().GameIconAndName }, a.createElement(si.A, { app: e.overview, eAssetType: 4, className: Qi().GameIcon }), a.createElement("div", { className: Qi().GameName }, e.overview.display_name)) : null, Ji = e => { const [t] = (0, ie.bT)("b24HourClock"); return a.createElement("div", { className: Qi().PatchNotes }, a.createElement("span", { className: (0, k.Z)(Qi().EventType, Qi()[`EventType${e.event.GetEventType()}`]) }, e.event.GetCategoryAsString()), a.createElement("span", null, " - "), a.createElement("span", { className: Qi().PostedTime }, (0, g.jr)(e.event.GetPostTimeAndDateUnixSeconds(), { bGranularToday: !0, bGranularWeek: !0, bAbbreviateDayOfWeek: !0, bForce24HourClock: t }), " ")) }, $i = e => { const [t] = (0, ie.bT)("b24HourClock"); return a.createElement("div", { className: Qi().DownloadInfo }, a.createElement("div", { className: Qi().Bytes }, (0, lo.l)(e.item.total_bytes, { nDigitsAfterDecimal: 1, bValueIsInBytes: !0 })), a.createElement("div", { className: Qi().Date }, (0, g.Xx)("#LibraryHome_RecentlyCompleted_DownloadDate", (0, g.jr)(e.item.completed_time, { bGranularToday: !0, bGranularWeek: !0, bAbbreviateDayOfWeek: !0, bForce24HourClock: t })))) }, el = e => { const { item: t, width: n, height: r } = e, [o, i] = a.useState(), l = z.dk.GetAppOverviewByAppID(t.appid); a.useEffect((() => { t.patch_notes_gid && Vi.FD.LoadPartnerEventFromClanEventGID(t.appid, t.patch_notes_gid, 0).then((e => { i(e) })) }), [t]); const s = (0, J.UK)(t.appid), c = a.useCallback((() => { J.g4.NavigateToHomeShowEvent(t.appid, t.patch_notes_gid) }), [t.appid, t.patch_notes_gid]), m = { width: n, height: r }; return a.createElement(Y.s, { className: (0, k.Z)(Qi().RecentlyCompletedItem, o && 14 == o.GetEventType() && Qi().MajorEvent), style: m, onActivate: s, onOptionsActionDescription: t.patch_notes_gid ? (0, g.Xx)("#Downloads_ViewPatchNotes") : void 0, onOptionsButton: t.patch_notes_gid ? c : void 0 }, a.createElement("div", { className: Qi().TopSection }, a.createElement(Yi, { overview: l })), a.createElement("div", { className: Qi().BottomSection }, o && a.createElement(Ji, { event: o }), a.createElement($i, { item: t }))) }, tl = () => { const e = (0, ho.gT)(), t = Number.parseInt(Qi().ItemWidth), n = Number.parseInt(Qi().ItemHeight), r = Number.parseInt(Qi().ItemMargin), o = a.useCallback((e => t), [t]); if (0 == e.length) return null; return a.createElement(Fa.wp, null, a.createElement(Y.s, { className: Qi().RecentlyCompleted }, a.createElement(Fa.wp.Unbleed, null, a.createElement("div", { className: Qi().Header }, (0, g.Xx)("#LibraryHome_RecentlyCompleted"))), a.createElement(Ai.n, { name: "RecentlyCompleted", className: Qi().RecentlyCompletedCarousel, nNumItems: e.length, nHeight: n, nItemHeight: n, nItemMarginX: r, fnGetColumnWidth: o, fnGetId: t => e[t].appid.toString(), fnItemRenderer: (t, n, r, o) => { const i = e[t]; return a.createElement(el, { key: i.appid, item: i, width: n, height: r }) }, scrollToAlignment: "center" }))) }; var nl = n(58280), al = n(7952), rl = n(27566), ol = n(75334), il = n(10222), ll = n(40017), sl = n(41251), cl = n.n(sl), ml = n(51647), ul = n(92409); n(2118); function dl(e, t, n, r) { (0, it.yV)(a.createElement(pl, { snr: r, storeitem: t, fnNavigateToStore: n }), e), e.preventDefault(), e.stopPropagation() } function pl(e) { const { storeitem: t, fnNavigateToStore: n, snr: r } = e; a.useEffect((() => { ml.jg.Get().HintLoad() }), []); const o = (0, d.SZ)((() => ml.jg.Get().BIsGameWishlisted(t.GetAppID()))), i = (0, d.SZ)((() => ml.jg.Get().BIsGameIgnored(t.GetAppID()))), l = (0, d.SZ)((() => ml.jg.Get().BIsAjaxInFlight() || !ml.jg.Get().BIsLoaded())); let s = [a.createElement(_t.Zo, { key: "wishlist", onSelected: () => ml.jg.Get().UpdateGameWishlist(t.GetAppID(), !o, r) }, o ? (0, g.Xx)("#LibraryHome_GameCarousel_ContextMenu_RemoveWishlist") : (0, g.Xx)("#LibraryHome_GameCarousel_ContextMenu_AddWishlist")), a.createElement(_t.Zo, { key: "ignore", onSelected: () => ml.jg.Get().UpdateAppIgnore(t.GetAppID(), !i) }, i ? (0, g.Xx)("#LibraryHome_GameCarousel_ContextMenu_UnIgnore") : (0, g.Xx)("#LibraryHome_GameCarousel_ContextMenu_Ignore"))]; return a.createElement(_t.xV, { label: t.GetName() }, a.createElement(_t.Zo, { onSelected: n }, (0, g.Xx)("#LibraryHome_GameCarousel_ContextMenu_StorePage")), l && a.createElement(zi.V, { position: "center", size: "medium" }), !l && s) } const _l = e => a.createElement("div", { className: cl().Friends }, a.createElement(il.g, { keyExtractor: e => e.toString(), itemRenderer: e => { const t = K.i8.GetFriendState(e); return t ? a.createElement("div", { className: cl().Avatar }, a.createElement(Tt.S5, { size: "X-Small", friend: t })) : null }, remainderRenderer: e => a.createElement("div", { className: (0, k.Z)(cl().Avatar, cl().Remainder) }, a.createElement("div", { className: cl().RemainderText }, "+", e)), items: e.friends, totalItemOverride: e.totalFriends })), gl = () => a.createElement("div", { className: cl().InLibrary }, a.createElement("div", { className: cl().BurgerWrapper }, a.createElement(al.OWX, { size: "10px" })), (0, g.Xx)("#GameCapsule_InLibrary")), hl = e => { const { appid: t, rgFriendAccountIDs: n, totalFriends: r, width: i, height: l, feature: c } = e, m = n && n.length > 0 || r > 0, u = z.dk.GetAppOverviewByAppID(t), [p] = (0, rl.vs)(t, hl.k_StoreItemDataRequest), _ = (0, z.Bt)(u), h = "gamepadgamecapsule", v = (0, o.BN)(q.de.BuildStoreAppURL(t, c || h)), S = (0, J.UK)(t), E = (0, d.SZ)((() => p && ml.jg.Get().BIsGameIgnored(p.GetAppID()))); if (!_ && !p) return console.warn("GameCapsule unable to render", t), null; const b = { width: i, height: l }, C = u ? a.createElement(si.A, { eAssetType: 3, app: u }) : a.createElement(si.A, { eAssetType: 3, appid: t, rgSources: [p.GetAssets().GetHeaderURL(), ll.Z] }), y = u ? u.steam_deck_compat_category : p.GetPlatforms().steam_deck_compat_category; let f = [cl().GameCapsule]; return E && f.push(cl().IgnoredApp), a.createElement(Y.s, { focusable: !0, className: (0, k.Z)(...f), style: b, onActivate: _ ? S : v, onContextMenu: _ ? null : e => dl(e, p, v, h), onMenuButton: _ ? null : e => dl(e, p, v, h), onMenuActionDescription: _ ? null : (0, g.Xx)("#LibraryHome_GameCarousel_ContextMenu") }, C, _ && a.createElement(gl, null), a.createElement(Ra.sC, { className: cl().DeckCompat, category: y }), a.createElement("div", { className: cl().BottomBar }, m && a.createElement(_l, { friends: n || [], totalFriends: r || 0 }), !_ && a.createElement("div", { className: cl().PriceCtn }, a.createElement(ul.Jc, { info: { id: t, type: (0, s.Yd)(p.GetAppType()) } })))) }; hl.k_StoreItemDataRequest = { include_assets: !0, include_platforms: !0 }, hl.BCanDisplay = (e, t) => { const n = z.dk.GetAppOverviewByAppID(e), a = n && n.BIsOwned(), r = t && t.BIsVisible(); return a || r }; var vl = n(33153), Sl = n(82109), El = n.n(Sl), bl = n(88767); const Cl = () => { const e = (0, nl.c)(); return a.createElement(fl, { rgAppIDs: e, strTitle: (0, g.kb)("#WishlistOnSale_Title", e.length), id: "gamepadwishlistonsale" }) }, yl = () => { const e = (0, ie.rV)(), t = (0, vl.n)(); let n = (0, d.SZ)((() => t.filter((t => { const n = z.dk.GetAppOverviewByAppID(t.appid); return e.bShowStoreContentOnHome || n && n.BIsOwned() })))); return a.createElement(Al, { rgCarouselItems: n, strTitle: (0, g.Xx)("#TrendingWithFriends_Title"), id: "TrendingWithFriends" }) }, fl = e => { if (!e.rgAppIDs) return null; const t = e.rgAppIDs.map((e => ({ appid: e }))); return a.createElement(Al, Object.assign({ rgCarouselItems: t }, e)) }; const Al = e => { const t = e.rgCarouselItems, n = Number.parseInt(El().ItemWidth), o = Number.parseInt(El().ItemHeight), i = Number.parseInt(El().ItemMargin), l = function (e, t) { const n = a.useMemo((() => e.map((e => e.appid)).filter((e => { const t = z.dk.GetAppOverviewByAppID(e); return !t || !t.BIsOwned() }))), [e]); return (0, bl.useQuery)(`DisplayableCarouselItems_${t}`, (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield ol.Z.Get().HintLoadStoreApps(n, hl.k_StoreItemDataRequest), e.filter((e => { const t = ol.Z.Get().GetApp(e.appid); return hl.BCanDisplay(e.appid, t) })) }))), { staleTime: 1 / 0, enabled: e.length > 0 }).data }(t, e.id), s = a.useCallback((e => l[e].appid.toString()), [l]), c = a.useCallback(((t, n, r, o) => { const i = l[t]; return a.createElement(hl, { key: s(t), appid: i.appid, rgFriendAccountIDs: i.rgAccountIDs, totalFriends: i.totalFriends, width: n, height: r, feature: e.id }) }), [s, e.id, l]), m = a.useCallback((e => n), [n]); return l && 0 != l.length ? a.createElement("div", { className: El().StoreCarouselCtn }, a.createElement("div", { className: El().Header }, e.strTitle), a.createElement(Fa.wp, null, a.createElement(Ai.n, { name: e.id, className: El().ItemsCarousel, nNumItems: l.length, nHeight: o, nItemHeight: o, nItemMarginX: i, fnGetColumnWidth: m, fnGetId: s, fnItemRenderer: c, scrollToAlignment: "center" }))) : null }; var Il = n(53770), kl = n(57432), wl = n.n(kl); const Nl = e => { const { message: t, onClick: n, width: r, height: o } = e, i = { width: r, height: o }; return a.createElement(Y.s, { className: (0, k.Z)(wl().MarketingMessage, t.seen && wl().Seen), style: i, focusable: !0, onActivate: n }, a.createElement("img", { className: wl().Image, src: t.imageurl })) }, Tl = () => { const e = function () { const e = (0, ie.rV)(), t = (0, Il.rO)(); return e.bShowStoreContentOnHome ? t : [] }(), t = Number.parseInt(wl().ItemWidth), n = Number.parseInt(wl().ItemHeight), r = Number.parseInt(wl().ItemMargin), [o, i] = a.useState(void 0), l = a.useRef(), s = a.useCallback((e => { l.current = Date.now(), i(e) }), [i]), c = a.useCallback((e => { if (!e) { const e = Math.round((Date.now() - l.current) / 1e3); SteamClient.Apps.MarkMarketingMessageSeen(o.name), SteamClient.Apps.ReportMarketingMessageSeen(o.name, e) } i(void 0) }), [i, o]), m = a.useCallback(((t, n, r, o) => { const i = e[t]; return a.createElement(Nl, { key: i.name, message: i, width: n, height: r, onClick: () => s(i) }) }), [e, s]), u = a.useCallback((t => e[t].name), [e]), d = a.useCallback((e => t), [t]); return 0 == e.length ? null : a.createElement(Y.s, null, a.createElement(Fa.wp, null, a.createElement("div", { className: wl().MarketingMessages }, a.createElement(Fa.wp.Unbleed, null, a.createElement("div", { className: wl().Header }, (0, g.Xx)("#LibraryHome_MarketingMessages"))), a.createElement(Ai.n, { name: "MarketingMessages", className: wl().MarketingMessagesCarousel, nNumItems: e.length, nHeight: n, nItemHeight: n, nItemMarginX: r, fnGetColumnWidth: d, fnGetId: u, fnItemRenderer: m, scrollToAlignment: "center" }))), a.createElement(de.Yy, { active: void 0 !== o }, a.createElement(Ot, { className: wl().MarketingModal, padding: "none" }, a.createElement(xl, { message: o, onClose: c })))) }; function xl(e) { const { message: t, onClose: n } = e, r = a.useRef(), o = a.useCallback((() => { var e; n(null === (e = r.current) || void 0 === e ? void 0 : e.LoadErrorCode) }), [n]); return a.createElement(Y.s, { className: wl().BrowserWrapper, onCancelButton: o, onCancelActionDescription: (0, g.Xx)("#Button_Close") }, a.createElement(Lt.AR, { name: "MarketingMessageBrowser", url: t.url, refBrowser: r })) } var Dl = n(84656), Fl = n(70333), Gl = n.n(Fl); const Bl = () => { const e = 1902490, t = 2 * re._H.PerWeek, n = q.de.GetMediaCDNUrl() + "store/steamdeck/desk_job_banner.png", { bVisible: r, onViewed: i, onDismissed: l } = function (e) { const { storageKey: t, appid: n, displayCutoffSec: r } = e, o = a.useRef(new Dl.E), i = (0, z.kC)(n), l = (0, d.SZ)((() => i && i.visible_in_game_list)), [s, c] = a.useState(), m = a.useCallback((e => { const n = Math.floor((0, re.QU)()); void 0 === e && (e = n), e < s && (o.current.StoreObject(t, e), c(e)) }), [t, s]), u = a.useCallback((() => { o.current.StoreObject(t, 0), c(0) }), [t]); a.useEffect((() => { o.current.GetObject(t).then((e => { c(null === e ? Number.MAX_SAFE_INTEGER : e) })) }), [t, o]); const p = (0, re.QU)(); return { bVisible: void 0 === s ? void 0 : !l && s >= p - r && ue.De.ON_DECK, onViewed: m, onDismissed: u } }({ storageKey: "rtDeskJobPromoFirstSeen", appid: e, displayCutoffSec: t }), s = (0, o.BN)(q.de.BuildStoreAppURL(e, "gamepadhomedeskjobpromo")), [c, m] = a.useState(!1), [u, p] = a.useState(!1), [_, h] = a.useState(!1), v = parseInt(Gl().DismissTime), S = a.useContext(Dd), E = a.useCallback((() => { m(!0), i() }), [i]), b = a.useCallback((() => { p(!0) }), []), C = a.useCallback((() => { h(!0), window.setTimeout((() => { l(), (null == S ? void 0 : S.fnScrollTabsToTop) && window.setTimeout((() => { S.fnScrollTabsToTop("auto") }), 0) }), v) }), [S, l, v]); return !1 === r || u ? null : a.createElement(Y.s, { navKey: "DeskJobPromo", noFocusRing: _, className: (0, k.Z)(Gl().DeskJobPromo, c && Gl().Loaded, _ && Gl().Dismissing), onActivate: s, onSecondaryButton: C, onSecondaryActionDescription: (0, g.Xx)("#Button_Dismiss") }, void 0 !== r && a.createElement(a.Fragment, null, a.createElement("img", { className: Gl().Banner, src: n, onLoad: E, onError: b }), a.createElement("div", { className: Gl().Text }, a.createElement("div", { className: Gl().Title }, (0, g.Xx)("#DeskJobPromo_Title")), a.createElement("div", { className: Gl().SubTitle }, (0, g.Xx)("#DeskJobPromo_SubTitle"), " ")))) }; var Ll = n(83618), Rl = n.n(Ll), Pl = n(11140), Ol = n.n(Pl); const Ml = () => a.createElement("div", { className: Ol().LibraryHomeWhatsNew }, a.createElement(mt.S, null, a.createElement(Bl, null)), a.createElement(mt.S, null, a.createElement(Zl, null)), a.createElement(mt.S, null, a.createElement(tl, null)), a.createElement(mt.S, null, a.createElement(yl, null)), a.createElement(mt.S, null, a.createElement(Tl, null)), a.createElement(Hl, null)), Hl = () => a.createElement("div", { className: Ol().Empty }, (0, g.Xx)("#LibraryHome_WhatsNew_Empty")), Ul = e => { const { event: t, focused: n } = e; return a.createElement("div", { className: Ol().EventImageWrapper }, a.createElement(Vl, { event: t }), a.createElement("div", { className: Ol().Darkener }), a.createElement(Xl, { event: t, focused: n })) }, Xl = a.memo((function (e) { const { event: t, focused: n } = e, [r, o] = a.useState(void 0); return a.useEffect((() => o(void 0)), [t]), a.useEffect((() => { if (n && void 0 === r) { const e = (0, s.jM)(ue.De.LANGUAGE); o(t.GetSummaryWithFallback(e)) } }), [n, r, t]), a.createElement("div", { className: Ol().EventSummary }, r) })), Vl = e => { const { event: t } = e, n = (0, s.jM)(ue.De.LANGUAGE), r = Vi.EL.FilterImageURLsForKnownFailures(t.GetImageForSizeAsArrayWithFallback("capsule", n, Zi.FN.capsule_main)); return a.createElement(Wi.j, { className: Ol().EventImage, rgSources: r, onIncrementalError: (e, t, n) => Vi.EL.ImageFailureCallback(t) }) }, Wl = e => { const { index: t, event: n, onFocus: r, width: i, height: l } = e, c = (0, oe.k6)(), [m, u] = a.useState(!1), d = a.useCallback((() => { Vi.EL.TrackEventClickedByUser(n, 9), J.g4.NavigateToHomeShowEvent(n.appid, n.GID) }), [n]), p = a.useCallback((() => { Vi.EL.TrackEventShownToUser(n, 9), r && r(t) }), [n, t, r]), _ = a.useCallback((e => { const t = Vi.EL.GetUserAppPrioritySetting(n.appid), r = z.dk.GetAppOverviewByAppID(n.appid); (0, it.yV)(a.createElement(_t.xV, null, a.createElement(_t.Zo, { onSelected: () => J.g4.NavigateToApp(n.appid) }, (0, g.Xx)("#Generic_ViewGameDetails")), a.createElement(_t.Zo, { onSelected: () => Vi.EL.RemoveEvent(n.GID) }, (0, g.Xx)("#MajorUpdate_Context_RemoveThisUpdate")), t > -2 && r && a.createElement(_t.Zo, { onSelected: () => Vi.EL.LowerAppPriorityForApp(n.appid) }, (0, g.Xx)("#MajorUpdate_Context_ShowMeFewerForApp", r.display_name)), t < 2 && r && a.createElement(_t.Zo, { onSelected: () => Vi.EL.RaiseAppPriorityForApp(n.appid) }, (0, g.Xx)("#MajorUpdate_Context_ShowMeMoreForApp", r.display_name)), a.createElement(_t.uP, null), a.createElement(_t.Zo, { onSelected: () => c.push(o.Z5.GamepadUI.Settings.Home()) }, (0, g.Xx)("#MajorUpdate_GoToSettings"))), e) }), [n, c]), h = { width: i, height: l }, v = (0, s.jM)(ue.De.LANGUAGE), S = z.dk.GetAppOverviewByAppID(n.appid); return S ? a.createElement("div", { className: Ol().OuterWrapper, style: h }, a.createElement("div", { className: (0, k.Z)(Ol().EventType, Ol()[`EventType${n.GetEventType()}`]) }, n.GetCategoryAsString()), a.createElement(Y.s, { className: Ol().EventPreviewContainer, focusable: !0, onActivate: d, onContextMenu: _, onMenuButton: _, onMenuActionDescription: (0, g.Xx)("#ActionButtonLabelContextMenu"), onFocus: p, onFocusWithin: u }, a.createElement(Ul, { event: n, focused: m }), a.createElement("div", { className: (0, k.Z)(Ol().EventInfo, Rl().InLibraryView) }, a.createElement(Ki.jd, { event: n }), a.createElement("div", { className: Ol().Title }, n.GetNameWithFallback(v)), a.createElement("div", { className: Ol().GameIconAndName }, a.createElement(si.A, { app: S, eAssetType: 4, className: Ol().GameIcon }), a.createElement("div", { className: Ol().GameName }, S.display_name))))) : null }, Zl = () => { const { bEventsLoaded: e, bInitialLoadPending: t, eventsToShow: n, takeoverEvents: r } = (0, Vi.lr)(), o = parseInt(Ol().ItemPreviewWidth), i = parseInt(Ol().ItemPreviewHeight), l = parseInt(Ol().ItemMarginRight), s = a.useCallback((e => o), [o]); return !e && t ? a.createElement("div", { className: (0, k.Z)(Ol().BasicHomeUpdates, Ol().Loading) }, a.createElement(zi.V, { size: "xlarge", position: "center" })) : 0 == n.length ? null : a.createElement(Y.s, { navKey: "BasicHomeUpdates", className: Ol().BasicHomeUpdates }, a.createElement(Fa.wp, null, a.createElement(Ai.n, { name: "WhatsNew", className: Ol().EventCarousel, nNumItems: n.length, nHeight: i, nItemHeight: i, nItemMarginX: l, fnGetColumnWidth: s, fnGetId: e => n[e].AnnouncementGID, fnItemRenderer: (e, t, r, o) => { const i = n[e]; return a.createElement(Wl, { index: e, event: i, width: t, height: r }) }, scrollToAlignment: "center" }))) }; var zl = n(84721), ql = n(31522), Kl = n.n(ql), jl = n(9669), Ql = n.n(jl), Yl = (n(61076), n(11299)), Jl = n(36116), $l = n(80110), es = n(73727), ts = n(94553), ns = n(87936), as = n(71051), rs = n(51090), os = n(48062), is = n(16456), ls = n(42256), ss = n.n(ls), cs = n(22784); n(75496); class ms { constructor() { this.m_mapNewsCurators = new Map, this.m_bIsLoadComplete = !1, this.m_mapLangToNewsCurators = new Map, this.m_LoadingPromise = null } static Get() { return ms.s_newsCuratorStore || (ms.s_newsCuratorStore = new ms, ms.s_newsCuratorStore.m_LoadingPromise = ms.s_newsCuratorStore.Init(), window.g_NewsCuratorStore = ms.s_newsCuratorStore), ms.s_newsCuratorStore } IsLoaded() { return this.m_bIsLoadComplete } WaitForInitialLoad() { return this.m_LoadingPromise } get allNewsCurators() { return Array.from(this.m_mapNewsCurators.values()) } GetCuratorsForLang(e) { return this.m_mapLangToNewsCurators.get(e) } GetNewsCuratorForAccount(e) { return this.m_mapNewsCurators.get(e) } BIsTrustedPressAccount(e) { return void 0 !== this.GetNewsCuratorForAccount(e) } Init() { return (0, r.mG)(this, void 0, void 0, (function* () { g.LJ.GetLanguageListForRealms([ue.De.EREALM]).forEach((e => this.m_mapLangToNewsCurators.set(e, []))); const e = ue.De.STORE_BASE_URL + "events/ajaxgetnewscurators"; let t = { origin: self.origin }; const n = yield Ql().get(e, { params: t }); (0, u.z)((() => { n.data && n.data.success && this.HandleCuratorResponse(n.data), this.m_bIsLoadComplete = !0 })) })) } HandleCuratorResponse(e) { var t; if (e.groupvanityinfo && ts.sV.RegisterClanData(e.groupvanityinfo), e.newscuratorinfo) for (const n of e.newscuratorinfo) { if (this.m_mapNewsCurators.has(n.clanAccountID)) continue; this.m_mapNewsCurators.set(n.clanAccountID, n); const e = ts.sV.GetClanInfoByClanAccountID(n.clanAccountID); e && (null === (t = this.m_mapLangToNewsCurators.get(e.rss_language)) || void 0 === t || t.push(n)) } } } (0, r.gn)([u.LO], ms.prototype, "m_mapNewsCurators", void 0), (0, r.gn)([u.LO], ms.prototype, "m_bIsLoadComplete", void 0), (0, r.gn)([u.LO], ms.prototype, "m_mapLangToNewsCurators", void 0), (0, r.gn)([u.Fl], ms.prototype, "allNewsCurators", null), (0, r.gn)([u.aD], ms.prototype, "HandleCuratorResponse", null); var us = n(85879), ds = n(84788), ps = n.n(ds); function _s(e) { const t = new Set; return (e.indexOf("games") >= 0 || e.indexOf("dlc") >= 0) && t.add("apps"), e.indexOf("curators") >= 0 && t.add("curators"), t } class gs extends a.Component { constructor() { super(...arguments), this.state = { strSearchString: "", rgAppSuggestions: null, rgCuratorSuggestions: null }, this.m_nHighestSentRequestID = 0, this.m_mapHighestReceivedRequestIDFromBackEnd = new Map([["apps", 0], ["curators", 0]]), this.m_timerForChange = new _.Ar } componentWillUnmount() { this.m_timerForChange.Cancel() } CloseSuggestions() { this.setState({ rgCuratorSuggestions: null, rgAppSuggestions: null, strSearchString: "" }) } GetSuggestionsFromServer(e) { return (0, r.mG)(this, void 0, void 0, (function* () { const t = _s(this.props.rgCorporaToSearch); t.has("apps") && this.GetAppSuggestionsFromServer(e), t.has("curators") && this.GetCuratorSuggestions(e) })) } GetCuratorSuggestions(e) { var t; return (0, r.mG)(this, void 0, void 0, (function* () { const n = ms.Get().allNewsCurators, r = []; for (const o of n) { const n = ts.sV.GetClanInfoByClanAccountID(o.clanAccountID), i = { corpus: "curators", id: o.clanAccountID, name: null == n ? void 0 : n.group_name, img: null == n ? void 0 : n.avatar_full_url }; if (((null === (t = null == n ? void 0 : n.group_name) || void 0 === t ? void 0 : t.toLocaleLowerCase()) || "").indexOf(e) >= 0) { if (this.props.fnFilterSuggestion && !this.props.fnFilterSuggestion(i)) continue; if (ml.jg.Get().BIsIgnoringCurator(n.clanAccountID)) continue; const e = ml.jg.Get().BIsFollowingCurator(n.clanAccountID), t = a.createElement(hs, { key: "curatorsug_" + i.id, suggestion: i, fnOnSelected: this.props.fnOnSelected, bShowFollowingLabel: e }); r.push(this.props.fnDecorateSuggestion ? this.props.fnDecorateSuggestion(i, t) : t) } } this.m_mapHighestReceivedRequestIDFromBackEnd.set("curators", this.m_nHighestSentRequestID), this.setState({ rgCuratorSuggestions: r }) })) } GetAppSuggestionsFromServer(e) { var t; return (0, r.mG)(this, void 0, void 0, (function* () { const n = this.m_nHighestSentRequestID, r = []; this.props.rgCorporaToSearch.indexOf("games") >= 0 && (r.push("game"), r.push("software")), this.props.rgCorporaToSearch.indexOf("dlc") >= 0 && (r.push("dlc"), r.push("music")); const o = { cc: ue.De.COUNTRY, l: ue.De.LANGUAGE, realm: s.IN.k_ESteamRealmGlobal, origin: self.origin, f: "jsonfull", term: e.replace(" ", "+"), require_type: r.join(","), excluded_tags: ml.jg.Get().GetExcludedTagsSortedByID(), excluded_content_descriptors: ml.jg.Get().GetExcludedContentDescriptor() }, i = `${ue.De.STORE_BASE_URL}search/suggest`, l = yield Ql().get(i, { params: o, withCredentials: !0 }); if (n < this.m_mapHighestReceivedRequestIDFromBackEnd.get("apps")) return; let c; this.m_mapHighestReceivedRequestIDFromBackEnd.set("apps", n), (null === (t = null == l ? void 0 : l.data) || void 0 === t ? void 0 : t.length) && (c = l.data.map((e => { const t = Object.assign(Object.assign({ corpus: (n = e.type, "game" == n || "software" == n ? "games" : "dlc" == n || "music" == n ? "dlc" : null) }, e), { id: parseInt(e.id) }); var n; if (this.props.fnFilterSuggestion && !this.props.fnFilterSuggestion(t)) return null; const r = a.createElement(hs, { key: t.type + t.id, suggestion: t, fnOnSelected: this.props.fnOnSelected }); return this.props.fnDecorateSuggestion ? this.props.fnDecorateSuggestion(t, r) : r }))), this.setState({ rgAppSuggestions: c }) })) } UpdateSuggestions(e) { return (0, r.mG)(this, void 0, void 0, (function* () { const t = e.target.value && e.target.value.trim().toLocaleLowerCase(); if (this.m_nHighestSentRequestID++, !(null == t ? void 0 : t.length)) return Array.from(_s(this.props.rgCorporaToSearch)).forEach((e => this.m_mapHighestReceivedRequestIDFromBackEnd.set(e, this.m_nHighestSentRequestID))), this.m_timerForChange.Cancel(), this.setState({ strSearchString: "" }), void this.ResetSuggestions(); this.setState({ strSearchString: t }), this.m_timerForChange.Schedule(300, (() => this.GetSuggestionsFromServer(t))) })) } ResetSuggestions() { this.setState({ rgAppSuggestions: null, rgCuratorSuggestions: null }) } GetLimitedSuggestions() { let { rgAppSuggestions: e, rgCuratorSuggestions: t } = this.state; let n = e ? e.length : 10, a = t ? t.length : 10; return n + a > 10 && (n = 10 - Math.min(a, 2)), a = 10 - n, e = null == e ? void 0 : e.slice(0, n), t = null == t ? void 0 : t.slice(0, a), { rgAppSuggestions: e, rgCuratorSuggestions: t } } render() { const { strLabel: e, focusOnMount: t, rgCorporaToSearch: n, strResultsClass: r } = this.props, { strSearchString: o } = this.state, { rgAppSuggestions: l, rgCuratorSuggestions: s } = this.GetLimitedSuggestions(), c = (null == o ? void 0 : o.length) > 0, m = (null == l ? void 0 : l.length) > 0, u = (null == s ? void 0 : s.length) > 0, d = _s(n).size > 1, p = d && m && (0, g.Xx)(n.indexOf("dlc") >= 0 ? "#EventCalendar_SearchResultsHeader_GameAndDLCSection" : "#EventCalendar_SearchResultsHeader_GameSection"), _ = Array.from(_s(n)).some((e => this.m_nHighestSentRequestID > this.m_mapHighestReceivedRequestIDFromBackEnd.get(e))), h = !u && !m && !_; return a.createElement("div", { className: ps().SuggestContainer }, a.createElement(i.II, { type: "text", label: e, onChange: this.UpdateSuggestions, bAlwaysShowClearAction: c, focusOnMount: t }), c && a.createElement("div", { className: (0, k.Z)(ps().Results, r) }, m && a.createElement("div", { key: "game-suggestions" }, d && a.createElement("div", { className: ps().ResultSectionHeader }, p), l), u && a.createElement("div", { key: "curator-suggestions" }, d && a.createElement("div", { className: ps().ResultSectionHeader }, (0, g.Xx)("#EventCalendar_SearchResultsHeader_CuratorSection")), s), h && a.createElement("div", { className: ps().EmptyResults, key: "empty-results" }, (0, g.Xx)("#EventCalendar_GameSearch_NoneFound")), _ && a.createElement(zi.V, { size: "small" }))) } } (0, r.gn)([m.ak], gs.prototype, "UpdateSuggestions", null); const hs = e => a.createElement("div", { className: ps().ResultRow, key: `suggestion-${e.suggestion.id}`, onClick: () => e.fnOnSelected(e.suggestion) }, a.createElement("img", { src: e.suggestion.img, className: ps().AvatarImage }), a.createElement("div", { className: ps().GameName }, " ", (0, us.HA)(e.suggestion.name), " "), e.bShowFollowingLabel && a.createElement("div", { className: ps().Label }, (0, g.Xx)("#EventCalendar_FollowingCurator"))); n(13796); var vs = n(86037), Ss = (n(56356), n(38527), n(5071)); function Es(e) { const { href: t, children: n, bAllowFocuseableAnchor: o } = e, i = (0, r._T)(e, ["href", "children", "bAllowFocuseableAnchor"]); return ue.De.EREALM === s.IN.k_ESteamRealmChina ? a.createElement("div", Object.assign({}, i), n) : o ? a.createElement(M.IS, Object.assign({ href: t }, i), n) : a.createElement("a", Object.assign({ href: t }, i), n) } var bs = n(67698), Cs = n(98372), ys = n(78290), fs = n(56175); var As = n(78853); var Is = n(79860), ks = n(16406), ws = n(14895); function Ns(e) { const { creatorID: t, bShowTagline: n, bHideCreatorType: r, bSmallFormat: o, bHideFollowButton: i, bAddLinkToMemberList: l } = e, [s, c] = (0, a.useState)(!Ss.bq.BHasCreatorHomeLoaded(j.K.InitFromClanID(t.clan_account_id)) || !ml.jg.Get().BIsLoaded()), [m, u] = (0, a.useState)(Ss.bq.BHasCreatorHomeLoaded(j.K.InitFromClanID(t.clan_account_id)) && t.clan_account_id), [d, p] = (0, a.useState)(null), _ = (0, bs.T)("CreatorHomeEmbed"); if ((0, a.useEffect)((() => { if (m != t.clan_account_id || !ml.jg.Get().BIsLoaded()) { c(!0), (0, vi.X)(t.clan_account_id, "CreatorHomeEmbed clan account id missing"); const e = j.K.InitFromClanID(t.clan_account_id); Promise.all([Ss.bq.LoadCreatorHome(e, _), ml.jg.Get().HintLoad()]).then((() => { _.token.reason || (c(!1), u(t.clan_account_id)) })).catch((e => { const t = (0, Cs.l)(e); console.error("CreatorHomeEmbed hit error: " + t.strErrorMsg, t), _.token.reason || (c(!1), p(t.strErrorMsg)) })) } return () => _.cancel("CreatorHomeEmbed component unmounted") }), [m, t, _]), s || m != t.clan_account_id) return a.createElement("div", { className: ks.DevSummaryWidgetCtn }, a.createElement(zi.V, { string: (0, g.Xx)("#Loading"), size: "medium", position: "center" })); if (d) return a.createElement("div", null); const h = Ss.bq.GetCreatorHomeByID(t), v = t.type, S = "developer" == t.type ? (0, g.Xx)("#CreatorHome_DevelopedBy") : "publisher" == t.type ? (0, g.Xx)("#CreatorHome_PublishedBy") : (0, g.Xx)("#CreatorHome_InFranchise"), E = h.GetCreatorHomeURL(v), b = h.GetSocialList().map((e => a.createElement(Ts, { social: e, key: "creator_" + h.GetClanAccountID() + "_" + e.external_type }))), C = h.GetNumFollowers(); return a.createElement(mt.S, null, a.createElement(Is.ZP, { feature: "salecreatorhome" }, a.createElement(Y.s, { className: (0, k.Z)(ks.DevSummaryCtn, o ? ks.SmallFormat : ks.LargeFormat), "flow-children": "row" }, !r && a.createElement("span", { className: ks.Title }, S), a.createElement("div", { className: ks.DevSummaryWidgetCtn }, a.createElement("div", { className: ks.DevSummaryBackground, style: { backgroundImage: `url(${h.GetAvatarURLFullSize()} )` } }), a.createElement("div", { className: (0, k.Z)(ks.DevSummaryContent, ls.FlexColumnContainer, ls.FlexContainSpaceBetween) }, a.createElement("div", { className: ls.FlexRowContainer }, a.createElement(Es, { href: (0, ys.OL)(E), className: ks.AvatarLink, bAllowFocuseableAnchor: !0 }, a.createElement("img", { className: (0, k.Z)(ks.Avatar, "Avatar_Trgt"), src: h.GetAvatarURLFullSize() })), a.createElement("div", { className: (0, k.Z)(ls.FlexColumnContainer, ks.CreatorDescCtn) }, a.createElement("div", { className: (0, k.Z)(ks.CreatorTitleCtn, ls.FlexColumnContainer) }, a.createElement(Es, { href: (0, ys.OL)(E), className: ks.CreatorNameName }, h.GetName()), Boolean(n) && a.createElement("div", { className: (0, k.Z)(ls.FlexColumnContainer, ks.CreatorTagline) }, h.GetTagLine())), a.createElement("div", { className: (0, k.Z)(o ? ls.FlexColumnContainer : ls.FlexRowContainer, ks.SocialFollowersCtn) }, a.createElement("div", { className: ks.FollowBtnCtn }, Boolean(!i) && a.createElement(ws.C4, { clanAccountID: t.clan_account_id, creatorID: t }), a.createElement("div", { className: ks.Followers }, a.createElement("span", null, (0, lo.AV)(C)), a.createElement("br", null), (0, g.Xx)("#CreatorHome_JustFollowers"))), Boolean(b.length > 0) && a.createElement("div", { className: (0, k.Z)(ks.SocialContainer, ls.FlexColumnContainer) }, b)))), Boolean(l) && a.createElement("a", { href: ue.De.COMMUNITY_BASE_URL + "gid/" + h.GetClanSteamID().ConvertTo64BitString() + "/members/", target: "_blank", className: ks.MembersListLink }, (0, g.Xx)("#ClanMembershipList"))))))) } function Ts(e) { const { social: t } = e; let n = ""; switch (t.external_type) { case 3: case 7: n = fs.Z; break; case 5: n = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmz9LxDAYxpNyIhzICeIkiLM46KAf4EY9HBzcnDwXJ0cnFxddHdQP4ScQcXJxUvDP7qAOLg5Ot8TnpDhIkja5mL5t3hcechDS9Pmlb3mba6VSSqQcmUg8GAADYAAMgAHoQkr5K8QppGouvU9THZAbF+hvo3mDOjVfbOmbApsNMD/SPaDf5HuANQXQN4+fT4ax79CAqK9ZzSWvTYFWwYF2LH2rgHRP0T0W7rNs2maWg4yj2Uq5DtiAplIG0BcJhA1Al0thBsAAGEDToxVzMtQWL38LFBRTk6HHkAWQG+lEGMMpwAAYAANgAAyAATAABsAAGAADIPUw1POYs/ef5xkVAB5jb2KMSToFlFITaMaSBADzw32DK6idHIDc/CW0klwKlDB/bhtsUlEsUjEP3VrO8wySJp+1BlDWvG2hawvAxXzjALiatwEYpRBad4BwgYLmS2NkGs2ax9y70LKh7wTaw3yqLE3fK8Al5nTmoYfA8xy5+swquoSHK38NLQQ87DFWfZ98KUzJfHQA1MxHBUDRfEwAJM3/PG5bvhkK+THRKzRTpXnjC6GRAISMA5g/9EhB5x2hJY+Tu/MY8whti3Kv3Q5g/jnoLlXR6/KOlJWH+S7m+ohwEya3HxDNPMUNERLmqwJAxnwVAEiZjw2AnPmiOiCJ4D9HUwfwLcAAxHgyaE4johYAAAAASUVORK5CYII="; break; case 4: n = As.Z; break; case 6: n = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtNJREFUeNrsmk1rE0EYgHe19ZBIY2kj4qUQVGjxAz2J4gcVvfmBP8FI8eZF8OJNL4oFPYrGX1CK4lEMiChe/aCClNBeRGxLTTE5GDU+Y2bDJG5rL5lZ950XnsxkE5h9n8zszkw2bDabgeTYEAgPL8AL8AK8AC/AC/AC5EafegnDcM0vMVvMUOyA7bBNswVymgHYDOp7m/SxUNczRlvZdZ5XDX7oeh2+q9OAqq6rY99gRR9TfIXPmk8wS171f+QVhH9eYgRw/BhFEQ7q5MP/7MdVwmbhNZTI8fm6BPBe/XoP4XzKevs0XCDX6qoCdPIvYE9Kh/xbOBpJULl3XwQfpDh5FXt1ju1o9wDKQ7x/KeTif5icX3X3gKKgu18xbh4wLkjAeMcQIPLwRdgcaCssRD1gTOAkcMwcAgWBAgqmgBGBAkZMAfkeN1ZPoIC8KWCox409hePwJkEChmwKCPRi5ABMJOSO0yFg2EaLSPgF96nuhFt6aesqhk0BgzZbRsIKXKU6Co8dCRg0BWRdnAESKnCO6gl4Z7n5rCmg3+VgREKZYj9cUrMzS832mwJyrq9ISPgJ9/T1YRIaPW4y170YSkSozQq4QnU3POl1e4ndFUbCRzhD9RS8FyfAVvQl9cRYpu+iuA2nRQnQG7PX4LKNu1MkoOr6TkDiGykuwnULi7Mo57aAhuPk1RbVncDujnTDvAjWHCVegEdUnwX2t+NrpoBly4kPwE2qH+Cso463bA6BRUuJK+FqS/pG0NqUdBmLpoAlC8mrP1vvwr6E3HCWbAo46bCrrykgugb0egWWSeBca8EUMC9wFjxvCqgIFFAxBcwIFDDTFsCyU42HOUHJz+mcO5bDZUECynH7ASVBAkp/CVBPTFBMCUh+Sufayts/JGWE/uBI0HqkLG0xbSYf2wNi5u7yHpRcZSGT7kdlJYd/XN4L8AK8AC/AC/ACvACx8VuAAQDxke5GRJ5P8AAAAABJRU5ErkJggg==" }const r = (ue.De.IN_CLIENT ? "steam://openurl/" : "") + t.external_url; return a.createElement(M.IS, { href: r, target: ue.De.IN_CLIENT ? void 0 : "_blank", "data-tooltip-text": t.external_user_name ? t.external_user_name : t.external_url, className: (0, k.Z)(ks.SocialLink) }, a.createElement("img", { className: (0, k.Z)(ks.SocialImg), src: n }), a.createElement("div", null, (0, lo.AV)(t.external_follows))) } var xs = n(1543), Ds = n.n(xs), Fs = n(97441), Gs = n(25290), Bs = n(94526), Ls = n(73857), Rs = n(10449), Ps = n.n(Rs); let Os = class extends a.Component { constructor() { super(...arguments), this.state = { bLoading: !1, eventModel: this.props.eventModel }, this.m_refParent = a.createRef(), this.m_cancelSignal = Ql().CancelToken.source() } componentDidMount() { this.state.eventModel || this.setState({ bLoading: !0 }, this.LoadEvent); let e = this.GetBodyElement(); e && this.props.bPrimaryPageFeature && e.classList.add(Ls.BodyNoScroll) } componentWillUnmount() { this.m_cancelSignal.cancel("EventInfiniteScrollModal unmounting"); let e = this.GetBodyElement(); e && this.props.bPrimaryPageFeature && e.classList.remove(Ls.BodyNoScroll) } GetBodyElement() { return this.m_refParent.current ? this.m_refParent.current.closest("body") : null } LoadEvent() { return (0, r.mG)(this, void 0, void 0, (function* () { const { appid: e, clanSteamID: t, announcementGID: n, partnerEventStore: a, additionalParams: r } = this.props; a.LoadAdjacentPartnerEventsByAnnouncement(n, t, e, 0, 3, r, this.m_cancelSignal).then((e => { e.length > 0 ? this.setState({ bLoading: !1, eventModel: e[0] }, this.HandleReadEvent) : (this.props.onEventNotFound && this.props.onEventNotFound(), this.setState({ bLoading: !1 })) })).catch((e => { let t = (0, Cs.l)(e); console.error("EventInfiniteScrollModal failed " + t.strErrorMsg, t), this.setState({ bLoading: !1 }) })) })) } HandleReadEvent() { return (0, r.mG)(this, void 0, void 0, (function* () { const { eventModel: e } = this.state, { trackingLocation: t } = this.props; e && e.BIsPartnerEvent() && Fs.cb.Get().GetTracker().MarkEventRead(e.GID, e.clanSteamID.GetAccountID(), t) && Fs.cb.Get().GetTracker().Flush() })) } render() { const { bLoading: e, eventModel: t } = this.state; if (e) return a.createElement(de.D2, null, a.createElement("div", { className: Ps().FlexCenter, style: { height: "400px" } }, a.createElement(zi.V, null))); const { closeModal: n, appid: r, clanSteamID: o, className: i, partnerEventStore: l, showAppHeader: s, bPrimaryPageFeature: c, additionalParams: m, eventClassName: u } = this.props, d = ue.De.IN_GAMEPADUI, p = a.createElement("div", null, a.createElement(Bs.m$, { initialEvent: t, appid: r, clanSteamID: o, partnerEventStore: l, emoticonStore: Gs.F, closeModal: !c && n, showAppHeader: s, bShowOnlyInitialEvent: d, additionalParams: m, eventClassName: u })); return c ? p : a.createElement(de.D2, { className: i }, a.createElement(de.Pv, { navID: "WebRowEventInfiniteScroll", closeModal: n }, p)) } }; Os = (0, r.gn)([Q.Pi], Os); const Ms = e => a.createElement(de.e1, { onEscKeypress: e.closeModal }, a.createElement(mt.S, null, a.createElement(i.VY, null, a.createElement(i.h4, null, (0, g.Xx)("#EventCurator_BrowseDialog_Title")), a.createElement(i.uT, null, a.createElement("div", null, (0, g.Xx)("#EventCurator_BrowseDialog_Desc")), a.createElement(Us, null)), a.createElement(i.$_, null, a.createElement(i.KM, { onClick: e.closeModal }, (0, g.Xx)("#Button_Dismiss")))))), Hs = e => a.createElement(Um, { title: (0, g.Xx)("#EventCurator_BrowseDialog_Title"), description: (0, g.Xx)("#EventCurator_BrowseDialog_Desc") }, a.createElement(Us, null)), Us = e => { const [t, n] = a.useState(ms.Get().IsLoaded()); a.useEffect((() => { if (!t) { (() => (0, r.mG)(void 0, void 0, void 0, (function* () { yield ms.Get().WaitForInitialLoad(), n(!0) })))() } }), [t]); let o = new Array; if (t) { g.Yt.GetELanguageFallbackOrder([s.IN.k_ESteamRealmGlobal]).forEach((e => o.push(a.createElement(Xs, { key: "curlang" + e, lang: e })))) } return a.createElement(a.Fragment, null, t ? a.createElement(a.Fragment, null, o) : a.createElement(zi.V, { size: "medium", position: "center", string: (0, g.Xx)("#Loading") })) }, Xs = e => { const t = ms.Get().GetCuratorsForLang(e.lang); if (!t) return null; const n = t.map((e => ts.sV.GetClanInfoByClanAccountID(e.clanAccountID))).filter((e => Boolean(e))); if (0 == n.length) return null; n.sort(((e, t) => e.group_name.localeCompare(t.group_name))); const r = n.map((e => a.createElement(Ws, { clanInfo: e, key: "curatorbrowse_" + e.clanAccountID, layout: "row" }))); return a.createElement("div", null, a.createElement("div", { className: Ds().LanguageHeader }, (0, g.Xx)("#EventCurator_BrowseDialog_LangCurator", (0, g.Xx)("#Language_" + (0, wt.j_)(e.lang)))), r) }, Vs = (0, Q.Pi)((e => { const t = ts.sV.GetClanInfoByClanAccountID(e.clanid); if (!t) return a.createElement("div", null, e.children); const n = { clan_account_id: t.clanAccountID, name: t.group_name, type: "developer" }, r = a.createElement("div", { className: Ds().CuratorHoverContainer }, a.createElement(Ns, { creatorID: n, bSmallFormat: !0, bHideCreatorType: !0, bHideFollowButton: !0 })); return a.createElement(cs.HP, { toolTipContent: r, strTooltipClassname: Ds().CuratorHoverToolTip }, e.children) })), Ws = e => { const [t, n] = a.useState(!1), r = () => { (0, _e.AM)(a.createElement(de.JX, { strDescription: (0, g.Xx)("#EventCurator_NoEventsFound_Body"), strTitle: (0, g.Xx)("#EventCurator_NoEventsFound_Title") }), window), n(!1) }, { clanInfo: o, layout: i } = e, l = "row" === i ? Ds().CuratorInfoRow : Ds().CuratorInfoIcon, s = a.createElement(Vs, { clanid: o.clanSteamID.GetAccountID() }, a.createElement("div", { className: (0, k.Z)(ss().FlexRowContainer, Ds().CuratorInfoTitleCtn), onClick: () => n(!0) }, a.createElement("img", { className: Ds().CuratorInfoImg, src: o.avatar_full_url, alt: o.group_name }), a.createElement("div", { className: Ds().CuratorInfoName }, o.group_name))); return a.createElement("div", { className: (0, k.Z)(ss().FlexRowWrapSpaceBetweenContainer, l) }, t ? a.createElement(mt.S, null, a.createElement(Os, { onEventNotFound: r, appid: 0, clanSteamID: e.clanInfo.clanSteamID, trackingLocation: 8, eventModel: void 0, announcementGID: void 0, partnerEventStore: vs.j1, showAppHeader: !0, closeModal: () => n(!1) })) : null, a.createElement("div", { onClick: () => n(!0) }, s), a.createElement("div", { className: (0, k.Z)(ss().FlexRowContainer, Ds().CuratorInfoActionCtn) }, a.createElement(ws.C4, { clanAccountID: o.clanAccountID, className: Ds().CuratorInfoFollow }))) }; var Zs = n(42375), zs = n(80533), qs = (n(26191), n(79065)), Ks = n(47621), js = n(5950), Qs = n.n(js), Ys = n(2280); let Js = class extends a.Component { OnMuteButton(e) { const { calendarEvent: t } = this.props; let n = t.GetEntityName(); (0, _e.AM)(a.createElement(de.uH, { strTitle: (0, g.Xx)("#EventCalendar_MuteApp_Title", n), strDescription: (0, g.Xx)("#EventCalendar_MuteApp_details", n), onOK: () => (0, ns.vY)().UpdateEventBlockFromCalendarEvent(t, !1) }, a.createElement("a", { href: ue.De.STORE_BASE_URL + "account/emailoptout/app", target: ue.De.IN_CLIENT ? void 0 : "_blank" }, (0, g.Xx)("#EventCalendar_ManageMutedSources"))), (0, gt.RA)(e)) } OnUnMuteButton() { const { calendarEvent: e } = this.props; (0, ns.vY)().UpdateEventBlockFromCalendarEvent(e, !0) } HideAllEventsOfMyType() { const { eventModel: e } = this.props, t = this.GetVisibilityStore().MapClanEventTypeToGroup(e.GetEventType()); this.GetVisibilityStore().SetEventTypeGroupAllowed(t, !1) } GetVisibilityStore() { return (0, ns.vY)().m_visibilityStore } AddContextMenuForSource(e, t, n, r = !0) { this.GetVisibilityStore().BIsGameSourceAllowed(t) && (r && e.push(a.createElement(_t.Zo, { key: `item-source-${n}-${t}`, disabled: !0, onSelected: () => { } }, (0, g.Xx)("#EventCalender_Reason_" + t))), e.push(a.createElement(_t.Zo, { key: `item-hidesource-${n}-${t}`, onSelected: () => { this.GetVisibilityStore().SetGameSourceAllowed(t, !1) } }, (0, g.Xx)("#EventCalender_Hide_Reason_" + t)))) } GotoGameOrClanHub() { const { eventModel: e } = this.props, t = (0, Ys.q)(e, Ys.Ue.k_eStoreNewsHub, "allowRelative"); t.startsWith("http") ? window.location.href = t : this.props.history.push(t) } ToggleFollowCurator() { (0, ws.Sm)(this.props.eventModel.clanSteamID.GetAccountID()) } CreateContextMenu(e) { const { eventModel: t, calendarEvent: n } = this.props; let r = []; const o = n.GetSource(), i = n.unique_id, l = ue.De.EREALM === s.IN.k_ESteamRealmChina, c = (0, ns.vY)(); if (c.BIsGlobalCalendar() && (o && o & Zs.ZT.k_eLibrary && (this.GetVisibilityStore().BIsGameSourceAllowed(as.Gf.k_ERecent) && n.appInfo ? (r.push(a.createElement(_t.Zo, { key: `item-source-${i}-lastplayed`, disabled: !0, onSelected: () => { } }, (0, g.Xx)("#EventCalender_LastPlayed", (0, g.yW)(os.JW.GetTimeNowWithOverride() - n.appInfo.last_played)))), this.AddContextMenuForSource(r, as.Gf.k_ERecent, i, !1)) : this.AddContextMenuForSource(r, as.Gf.k_ELibrary, i)), o && o & Zs.ZT.k_eWishlist && this.AddContextMenuForSource(r, as.Gf.k_EWishlist, i), o && o & Zs.ZT.k_eFollowing && this.AddContextMenuForSource(r, as.Gf.k_EFollowing, i), !l && o && o & Zs.ZT.k_eCurator && this.AddContextMenuForSource(r, as.Gf.k_ECurator, i), o && o & Zs.ZT.k_eRecommended && this.AddContextMenuForSource(r, as.Gf.k_ERecommended, i), o && o & Zs.ZT.k_eSteam && this.AddContextMenuForSource(r, as.Gf.k_ESteam, i), o && o & Zs.ZT.k_eFeatured && this.AddContextMenuForSource(r, as.Gf.k_EFeatured, i)), r.push(a.createElement(_t.Zo, { key: t.GID + "hidetype", onSelected: this.HideAllEventsOfMyType }, (0, g.Xx)("#EVentCalendar_Hide_EventType", (0, g.Xx)("#EventCalendar_EventTypeGroup_" + this.GetVisibilityStore().MapClanEventTypeToGroup(t.GetEventType()))))), ue.L7.logged_in && (is.m.Get().BIsEventBlocked(n) ? r.push(a.createElement(_t.Zo, { key: t.GID + "unmuteapp", onSelected: this.OnUnMuteButton }, a.createElement(cs.HP, { toolTipContent: (0, g.Xx)("#EventCalendar_UnMuteApp_ttip") }, (0, g.Xx)("#EventCalendar_UnMuteApp_Title", this.props.calendarEvent.GetEntityName())))) : r.push(a.createElement(_t.Zo, { key: t.GID + "muteapp", onSelected: this.OnMuteButton }, a.createElement(cs.HP, { toolTipContent: (0, g.Xx)("#EventCalendar_MuteApp_ttip") }, (0, g.Xx)("#EventCalendar_MuteApp_Title", this.props.calendarEvent.GetEntityName()))))), !t.BIsOGGEvent() && !l) { const e = ml.jg.Get().BIsFollowingCurator(t.clanSteamID); r.push(a.createElement(_t.Zo, { key: t.GID + "followcurator", onSelected: this.ToggleFollowCurator }, a.createElement(cs.HP, { toolTipContent: (0, g.Xx)(e ? "#EventCalendar_UnFollowCurator_ttip" : "#EventCalendar_FollowCurator_ttip") }, (0, g.Xx)(e ? "#EventCalendar_UnFollowCurator" : "#EventCalendar_FollowCurator", this.props.calendarEvent.GetEntityName())))) } c.BIsSingleSourceCalendar() || r.push(a.createElement(_t.Zo, { key: t.GID + "goto", onSelected: this.GotoGameOrClanHub }, (0, g.Xx)("#EventCalendar_Goto_SpecificCalendar", n.GetEntityName()))), t.appid && r.push(a.createElement(_t.Zo, { key: t.GID + "goto", onSelected: () => window.location.href = (0, ys.OL)(ue.De.STORE_BASE_URL + "app/" + t.appid) }, (0, g.Xx)("#EventDisplay_ViewStorePage"))), (0, it.yV)(a.createElement(_t.xV, null, r), e) } render() { return a.createElement("div", { className: (0, k.Z)(Qs().FooterStat, Qs().Options), onClick: this.CreateContextMenu }, a.createElement(al.vJ$, null)) } }; (0, r.gn)([m.ak], Js.prototype, "OnMuteButton", null), (0, r.gn)([m.ak], Js.prototype, "OnUnMuteButton", null), (0, r.gn)([m.ak], Js.prototype, "HideAllEventsOfMyType", null), (0, r.gn)([m.ak], Js.prototype, "AddContextMenuForSource", null), (0, r.gn)([m.ak], Js.prototype, "GotoGameOrClanHub", null), (0, r.gn)([m.ak], Js.prototype, "ToggleFollowCurator", null), (0, r.gn)([m.ak], Js.prototype, "CreateContextMenu", null), Js = (0, r.gn)([Q.Pi], Js); const $s = (0, oe.EN)(Js); class ec { constructor() { this.m_bHasBeenTracked = !1, this.m_fnSubmit = null } } const tc = new class { constructor() { this.m_nImpressionDelayMS = 500, this.m_mapEvents = new Map } ShouldTrack(e) { if (e.bOldAnnouncement) return !1; const t = this.m_mapEvents.get(e.GID); return !t || !t.m_bHasBeenTracked } StartTracking(e, t) { if (e.bOldAnnouncement) return; let n = this.m_mapEvents.get(e.GID); n || (n = new ec, this.m_mapEvents.set(e.GID, n)), n.m_bHasBeenTracked || n.m_fnSubmit || (n.m_fnSubmit = new _.Ar, n.m_fnSubmit.Schedule(this.m_nImpressionDelayMS, this.ReportImpression.bind(this, e, t))) } StopTracking(e) { const t = this.m_mapEvents.get(e.GID); t && t.m_fnSubmit && (t.m_fnSubmit.Cancel(), t.m_fnSubmit = null) } ReportImpression(e, t) { Fs.cb.Get().RecordEventShown(e, 8), t && qs.Y.RecordViewedEvent((0, ns.vY)(), e.GID); const n = this.m_mapEvents.get(e.GID); n && (n.m_bHasBeenTracked = !0, n.m_fnSubmit.Cancel(), n.m_fnSubmit = null) } }, nc = e => { const { event: t } = e; if (tc.ShouldTrack(t)) { const n = () => tc.StartTracking(t, e.recordNewsHubStats || !1), r = () => tc.StopTracking(t); return a.createElement(zs.h, { onEnter: n, onLeave: r }) } return null }; var ac = n(81141), rc = n(34198), oc = n(52589), ic = n.n(oc); function lc() { return window.innerWidth < parseInt(ic().strMaxMobileWidth) } var sc = n(61701), cc = n(64786), mc = n(56730), uc = n.n(mc); const dc = e => { const t = ["maxresdefault", "mqdefault", "default"], [n, r] = a.useState(0); a.useEffect((() => r(0)), [e.video]); const o = a.useRef(); if (e.altImgWithFallback && e.altImgWithFallback.length > 0) return a.createElement(sc.J, { className: e.className, srcs: e.altImgWithFallback }); if (e.altImg) return a.createElement("img", { src: e.altImg, className: e.className }); { const i = "https://img.youtube.com/vi/" + e.video + "/" + t[n] + ".jpg", l = () => { n + 1 < t.length && r(n + 1) }, s = () => { o.current && o.current.naturalHeight < 91 && l() }; return a.createElement("img", { ref: o, onLoad: s, onError: l, src: i, className: (0, k.Z)(uc().YoutubePreviewImage, e.className) }) } }, pc = e => { const [t, n] = a.useState(!1); if (a.useEffect((() => { e.preloadYoutubeScripts && (0, cc.m)((() => { })) }), [e.preloadYoutubeScripts]), t) return a.createElement(cc.e, Object.assign({}, e, { classnames: (0, k.Z)(uc().YoutubePlayer, e.classnames) })); { const t = t => { e.onPlayerActivated && e.onPlayerActivated(), n(!0), t.stopPropagation(), t.preventDefault() }; return a.createElement("div", { className: (0, k.Z)("YoutubePreviewContainer", uc().YoutubePreviewImage, e.imageClassnames), onClick: t }, a.createElement(dc, { className: "YoutubePreviewImage", altImgWithFallback: e.altImgWithFallback, altImg: e.altImg, video: e.video }), a.createElement("div", { className: "YoutubePreviewPlay" }, a.createElement(al.GhU, null)), a.createElement("div", { className: "VideoHintText" }, (0, g.Xx)("#EventCalendar_WatchYouTubeVideo"))) } }; var _c = n(77044); let gc = class extends a.Component { constructor() { super(...arguments), this.state = { bVideoPlayerReady: !1 } } OnFallbackClick(e) { qs.Y.RecordAppInteractionEvent(this.props.calendarEvent.appid, qs.g.k_eClickThrough), this.props.fnOnClicked(this.props.eventModel), e.stopPropagation(), e.preventDefault() } componentDidMount() { if (this.props.calendarEvent.clanInfo) { let e = j.K.InitFromClanID(this.props.calendarEvent.clanInfo.clanid); ts.sV.LoadClanInfoForClanSteamID(e) } } getVideoPreviewControl() { const { video_preview_type: e, video_preview_id: t } = this.props.eventModel; if (!t) return null; if (12 === this.props.eventModel.type) return null; if ("youtube" === e) { const e = (0, wt.jM)(ue.De.LANGUAGE), n = lc() && 14 == this.props.eventModel.GetEventType() ? Zi.FN.full : Zi.FN.capsule_main, r = this.props.eventModel.GetImageForSizeAsArrayWithFallback("capsule", e, n, !0); if ("carousel" === this.props.mode) return a.createElement(dc, { altImgWithFallback: r, video: t, className: Qs().YoutubePreviewImage }); const o = () => { qs.Y.RecordAppInteractionEvent(this.props.calendarEvent.appid, qs.g.k_ePlayedVideo), this.setState({ bVideoPlayerReady: !0 }) }; return a.createElement(pc, { video: t, altImgWithFallback: r, autoplay: !0, autopause: !0, showFullscreenBtn: !0, controls: !0, imageClassnames: Qs().YoutubePreviewImage, onPlayerActivated: o, preloadYoutubeScripts: !0, playsInline: !0 }) } return null } BIsSubTitleRedundant(e, t) { const n = e => e.replace(/\W+/g, "").toLocaleLowerCase(), a = n(e); return n(t).startsWith(a) } render() { const { eventModel: e, calendarEvent: t, bSuppressHoverEffects: n, mode: r } = this.props, o = Fs.cb.Get(), i = t.GetGameCapsule(), l = (0, wt.jM)(ue.De.LANGUAGE), s = e.has_live_stream, c = e.has_live_stream, m = lc() && 14 == e.GetEventType() ? Zi.FN.full : Zi.FN.capsule_main, u = "capsule", d = e.BImageNeedScreenshotFallback(u, l), p = Boolean(d && e.appid) ? e.GetFallbackArtworkScreenshot() : e.GetImageURLWithFallback(u, l, m), _ = "upcoming" !== r && this.getVideoPreviewControl(), h = !_ && "upcoming" !== r, v = e.GetCategoryAsString(), S = Qs()[`EventType${e.GetEventType()}`], E = e.GetAllTags().map((e => Qs()[`Tag-${e}`])), b = (0, k.Z)(Qs().TileContainer, S, s && Qs().TileVideoIcon, n ? Qs().DisableHovers : Qs().EnableHovers, this.state.bVideoPlayerReady && Qs().VideoPlayerReady, _ && Qs().HasVideo, o.HasEventBeenRead(e.GID) && Qs().HasBeenRead, "wide" === r && Qs().WideMode, "carousel" === r && Qs().CarouselMode, "upcoming" === r && Qs().UpcomingMode, ...E), C = e.GetNameWithFallback(l); let y = e.GetSubTitleWithLanguageFallback(l), f = e.GetSummaryWithFallback(l); y === f && (f = void 0), y === C && (y = void 0); const A = (0, qi.ax)(p), I = a.createElement("div", { className: Qs().CoverImageCtn }, _, h && a.createElement(a.Fragment, null, 12 === e.type && a.createElement(a.Fragment, null, a.createElement("div", { className: Qs().GameCapsuleCtn }, a.createElement("div", { className: Qs().AppBannerLogo, style: { backgroundImage: `url(${i})` } })), a.createElement("div", { className: Qs().GameShortDescription }, f)), 12 !== e.type && a.createElement("div", { className: (0, k.Z)(Qs().EventCapsuleCtn, s && Qs().LiveBroadcastPreview) }, a.createElement("div", { className: (0, k.Z)(Qs().TileImage, d && Qs().FallbackImage), style: { backgroundImage: `url(${A})` } }), s && a.createElement("div", { className: Qs().TileCoverImagePlayable }), c && a.createElement("div", { className: Qs().TileCoverLiveIcon }, (0, g.Xx)("#home_page_live_broadcast")), s && a.createElement("div", { className: "VideoHintText" }, (0, g.Xx)("#EventCalendar_WatchLiveBroadcast"))))), w = _ && "carousel" !== r, N = n && 14 != e.GetEventType() && !w, T = N && I, x = !N && I, D = "wide" !== r || n, F = 28 !== e.type && 12 !== e.type && os.JW.GetTimeNowWithOverride() < e.GetStartTimeAndDateUnixSeconds() && a.createElement("div", { className: (0, k.Z)(Qs().ReminderContainer, D && Qs().OnlyIcon) }, a.createElement(ac.m, { eventModel: e, lang: l, bShowStartTime: !0, bOnlyShowIcon: D, bExpandLeft: D })), G = Boolean(12 !== e.type && f), B = Boolean(y && (!G || !this.BIsSubTitleRedundant(y, f))); return a.createElement("div", { className: b }, a.createElement(nc, { event: e, recordNewsHubStats: !0 }), a.createElement(Ys.JW, { eventModel: e, route: Ys.Ue.k_eView }, a.createElement("div", { className: Qs().Tile, onClick: this.OnFallbackClick }, 14 === e.type && a.createElement("div", { className: (0, k.Z)(Qs().TileBackgroundImage, d && Qs().FallbackImage), style: { backgroundImage: `url(${A})` } }), a.createElement("div", { className: Qs().MainContentContainer }, a.createElement("div", { className: Qs().TileTextContainer }, a.createElement("div", { className: Qs().PatchIconCtn }, a.createElement(al.mKt, null)), a.createElement("div", { className: Qs().EventTitleCtn }, T, !this.props.bHideGameTitle && a.createElement("div", { className: Qs().GameSource }, a.createElement(vc, Object.assign({}, this.props)), t && a.createElement(Ec, { calendarEvent: t })), a.createElement("div", { className: Qs().EventName }, C), a.createElement("div", { className: Qs().EventTypeAndDateCtn }, a.createElement("div", { className: (0, k.Z)(Qs().TileTextCategoryType, S) }, v), a.createElement(Sc, { eventModel: e, className: (0, k.Z)(D && Qs().LeaveRoomForReminder) }), D && F), B && a.createElement("div", { className: Qs().EventSubTitle }, y), G && a.createElement("div", { className: (0, k.Z)(Qs().EventSummaryDefault, y ? Qs().SubTitleShown : "") }, f)), !D && F), x))), a.createElement(Cc, Object.assign({}, this.props))) } }; (0, r.gn)([m.ak], gc.prototype, "OnFallbackClick", null), gc = (0, r.gn)([Q.Pi], gc); let hc = class extends a.Component { OnTitleClick(e) { const { eventModel: t } = this.props, n = (0, Ys.q)(t, Ys.Ue.k_eStoreNewsHub, "allowRelative"); n.startsWith("http") ? window.location.href = n : this.props.history.push(n), e.stopPropagation(), e.preventDefault() } render() { const { eventModel: e, calendarEvent: t, bSuppressHoverEffects: n } = this.props, r = t.GetEntityName(), o = t.GetGameIcon(), i = (0, k.Z)(Qs().GameTitleContainer, n ? Qs().DisableHovers : Qs().EnableHovers); return a.createElement(mt.S, null, a.createElement("div", { className: Qs().TileTextHeader }, a.createElement("div", { className: i, onClick: this.OnTitleClick }, a.createElement("img", { className: Qs().AppIcon, src: o }), a.createElement("div", { className: Qs().TileTextAppName }, r, " ")))) } }; (0, r.gn)([m.ak], hc.prototype, "OnTitleClick", null), hc = (0, r.gn)([Q.Pi], hc); const vc = (0, oe.EN)(hc), Sc = (0, Q.Pi)((e => { const { eventModel: t, calendarEvent: n, className: r } = e, o = (0, ns.vY)().GetStoreInitializationTimestamp().getTime() / 1e3, i = t ? t.GetStartTimeAndDateUnixSeconds() : n.start_time, l = t && (0, _c.G1)(t.type) && t.GetEndTimeAndDateUnixSeconds(); if (l && i < o && o < l) { const e = l - o, t = (0, g.yW)(e, !0); return a.createElement("div", { className: (0, k.Z)(Qs().LiveText, r) }, a.createElement(rc.Zg, { rtFullDate: i, stylesmodule: Qs() }, a.createElement("div", { className: Qs().LiveNow }, (0, g.Xx)("#EventCalendar_LiveNow"))), a.createElement(rc.Zg, { rtFullDate: l, stylesmodule: Qs() }, (0, g.Xx)("#EventCalendar_TimeLeft", t))) } if (i < o) { const e = o - i, t = e < 86400 ? (0, g.yW)(e, !1, !0) : (0, g.m9)(i); return a.createElement(rc.Zg, { className: r, rtFullDate: i, stylesmodule: Qs() }, a.createElement("div", { className: Qs().PastDateText }, t)) } { const e = new Date(1e3 * o); e.setHours(0, 0, 0, 1); const t = e.getTime() / 1e3, n = Math.floor((i - t) / 86400), l = n > 1 && n <= 5 ? (0, g.Mh)(new Date(1e3 * i)) : (0, g.m9)(i), s = (0, rc.Kj)(i); return a.createElement(rc.Zg, { className: r, rtFullDate: i, stylesmodule: Qs() }, a.createElement("div", { className: Qs().FutureDateText }, (0, g.Xx)("#EventCalendar_WillStartAtDateTime", l, s))) } })), Ec = (0, Q.Pi)((e => { const t = e.calendarEvent.GetSource(), n = [], r = (0, ns.vY)().m_visibilityStore; t & Zs.ZT.k_eLibrary && r.BIsGameSourceAllowed(as.Gf.k_ELibrary) ? n.push({ id: Zs.ZT.k_eLibrary, name: "#EventCalendar_GameSource_inLibrary", ttip: "#EventCalendar_GameSource_EventExplanation_ttip_library", styles: Qs().LibrarySource }) : t & Zs.ZT.k_eWishlist && r.BIsGameSourceAllowed(as.Gf.k_EWishlist) ? n.push({ id: Zs.ZT.k_eWishlist, name: "#EventCalendar_GameSource_onWishlist", ttip: "#EventCalendar_GameSource_EventExplanation_ttip_wishlist", styles: Qs().WishlistSource }) : t & Zs.ZT.k_eRecommended && r.BIsGameSourceAllowed(as.Gf.k_ERecommended) ? n.push({ id: Zs.ZT.k_eRecommended, name: "#EventCalendar_GameSource_recommended_Verbose", ttip: "#EventCalendar_GameSource_EventExplanation_ttip_recommended", styles: Qs().RecommendedSource }) : t & Zs.ZT.k_eFeatured && r.BIsGameSourceAllowed(as.Gf.k_EFeatured) && n.push({ id: Zs.ZT.k_eFeatured, name: "#EventCalendar_GameSource_featured", ttip: "#EventCalendar_GameSource_ttip_featured", styles: Qs().FeaturedSource }), t & Zs.ZT.k_eFollowing && r.BIsGameSourceAllowed(as.Gf.k_EFollowing) && n.push({ id: Zs.ZT.k_eFollowing, name: "#EventCalendar_GameSource_followed", ttip: "#EventCalendar_GameSource_EventExplanation_ttip_following", styles: Qs().FollowingSource }); const o = n.map(((t, a) => { const r = e.calendarEvent.unique_id; return bc(`item-source-${r}-${t.id}`, t.name, t.ttip, t.styles, a + 1 < n.length) })); return a.createElement("div", { className: Qs().SourceList }, o) })), bc = (e, t, n, r, o) => a.createElement(cs.HP, { key: e, className: (0, k.Z)(Qs().Source, r), toolTipContent: (0, g.Xx)(n) }, (0, g.Xx)(t) + (o ? ", " : "")); let Cc = class extends a.Component { OnPerformVoteUp() { const { eventModel: e } = this.props, t = Fs.cb.Get(); !0 !== t.GetPreviouslyLoadedVote(this.props.eventModel) && (0, Ks.QK)(e, t) && (t.Vote(e, !0, Ql().CancelToken.source()), qs.Y.RecordAppInteractionEvent(e.appid, qs.g.k_eThumbsUp)) } OnDiscussionClicked() { const { eventModel: e } = this.props; qs.Y.RecordAppInteractionEvent(e.appid, qs.g.k_eDiscussions) } render() { const e = Fs.cb.Get(), { eventModel: t } = this.props, n = Math.max(0, t.nVotesUp - t.nVotesDown), r = e.GetPreviouslyLoadedVote(this.props.eventModel), o = function (e, t) { return e.BIsUserLoggedIn() ? ue.L7.is_limited ? Qs().Vote_LimitedUser : !0 === t ? Qs().Vote_Positive : !1 === t ? Qs().Vote_Negative : Qs().Vote_Ready : Qs().Vote_NotLoggedIn }(e, r), i = t.GetForumTopicURL(), l = ue.De.EREALM !== s.IN.k_ESteamRealmChina && i, c = t.live_stream_viewer_count > 0 ? t.live_stream_viewer_count : void 0; return a.createElement("div", { className: Qs().Footer }, a.createElement("div", { className: Qs().FooterRightSide }, Boolean(c) && a.createElement("div", { className: Qs().TileViewerCount }, (0, lo.AV)(c)), a.createElement("div", { className: (0, k.Z)(Qs().FooterStat, Qs().Vote, o), onClick: this.OnPerformVoteUp }, a.createElement(al.KJh, { className: Qs().RateIcon }), a.createElement("span", null, Number(n).toLocaleString())), l && a.createElement("div", { className: Qs().FooterStat }, a.createElement("a", { href: i, className: Qs().CommentIconCtn, target: "_blank", onClick: this.OnDiscussionClicked }, a.createElement(al.xg, { className: Qs().CommentIcon }), a.createElement("span", null, Number(t.nCommentCount).toLocaleString()))), a.createElement($s, Object.assign({}, this.props)))) } }; (0, r.gn)([m.ak], Cc.prototype, "OnPerformVoteUp", null), (0, r.gn)([m.ak], Cc.prototype, "OnDiscussionClicked", null), Cc = (0, r.gn)([Q.Pi], Cc); const yc = { include_assets: !0, include_release: !0, include_screenshots: !0 }; const fc = (0, Q.Pi)((e => { const { calendarEvent: t, partnerEventStore: n, mode: r, forceParentUpdate: o } = e, i = "-500px", l = Qs()[`EventType${t.event_type}`], s = (0, k.Z)(Qs().TileContainer, l), c = "carousel" === r; return a.createElement(zs.h, { onEnter: () => { !function (e, t, n) { const a = Array(); a.push(t.QueueLoadPartnerEvent(e.clanid, e.unique_id)), e.appid && a.push(ol.Z.Get().QueueAppRequest(e.appid, yc)), e.clanInfo && a.push(ts.sV.LoadClanInfoForClanAccountID(e.clanInfo.clanid)), Promise.all(a).then((() => { const a = t.GetClanEventModel(e.unique_id); a.appid && a.appid != e.appid && !ol.Z.Get().BHasApp(a.appid, yc) ? ol.Z.Get().QueueAppRequest(a.appid, yc).then(n) : n() })) }(t, n, o) }, topOffset: i, bottomOffset: i }, a.createElement("div", { className: s }, a.createElement("div", { className: (0, k.Z)(Qs().Tile, Qs().LoadingTile) }, c && a.createElement(zi.V, null)), a.createElement("div", { className: Qs().Footer }))) })), Ac = (0, Q.Pi)((e => { const { partnerEventStore: t, calendarEvent: n } = e, o = (0, r._T)(e, ["partnerEventStore", "calendarEvent"]), i = t.GetClanEventModel(n.unique_id), l = function (e, t) { const n = t.GetClanEventModel(e.unique_id); return !(!n || e.appid && !ol.Z.Get().BHasApp(e.appid, yc) || n.appid && n.appid != e.appid && !ol.Z.Get().BHasApp(n.appid, yc) || e.clanInfo && !ts.sV.HasLoadedClanAccountID(e.clanInfo.clanid)) }(n, t), s = (0, m.NW)(); return l ? a.createElement(gc, Object.assign({ eventModel: i, calendarEvent: n }, o)) : a.createElement(fc, Object.assign({ calendarEvent: n, partnerEventStore: t }, o, { forceParentUpdate: s })) })); var Ic = n(87478), kc = n(92143), wc = n.n(kc), Nc = n(9614), Tc = n(4883), xc = n.n(Tc); class Dc extends a.Component { constructor() { super(...arguments), this.state = { rgCuratorList: null, nNumToDisplay: 0, bHasBeenDismissed: this.HasBeenDismissed() }, this.m_ref = a.createRef(), this.m_cancelSignal = Ql().CancelToken.source() } componentDidMount() { return (0, r.mG)(this, void 0, void 0, (function* () { this.state.rgCuratorList || (yield ms.Get().WaitForInitialLoad(), this.m_cancelSignal.token.reason || this.setState({ rgCuratorList: this.GenerateNewsCuratorList() })), window.addEventListener("resize", this.OnResize), this.OnResize() })) } componentWillUnmount() { this.m_cancelSignal.cancel("CuratorFeedSuggestRow to unload"), window.removeEventListener("resize", this.OnResize) } GetMaxCapsulesPerRow() { if (!this.m_ref.current) return 0; const e = Math.floor(Math.min(this.m_ref.current.clientWidth, window.innerWidth) / 118); return Math.max(e - 1, 0) } OnResize() { this.m_cancelSignal.token.reason || this.setState({ nNumToDisplay: this.GetMaxCapsulesPerRow() }) } HasBeenDismissed() { const e = JSON.parse(localStorage.getItem(Dc.s_strLocalStorageKey)); return e && e.bDismissed } OnCommitDismiss() { localStorage.setItem(Dc.s_strLocalStorageKey, JSON.stringify({ bDismissed: !0 })), this.m_cancelSignal.token.reason || this.setState({ bHasBeenDismissed: !0 }) } OnDismissButton(e) { (0, _e.AM)(a.createElement(de.uH, { strTitle: (0, g.Xx)("#EventCurator_DismissTitle"), strDescription: (0, g.Xx)("#EventCurator_DismissBody"), onOK: this.OnCommitDismiss }), (0, gt.RA)(e)) } GenerateNewsCuratorList() { const e = g.Yt.GetELanguageFallbackOrder(); void 0 === e.find((e => 0 === e)) && e.push(0); const t = new Array; for (const n of e) { const e = ms.Get().GetCuratorsForLang(n); if (!e) continue; const a = e.filter((e => !ml.jg.Get().BIsIgnoringCurator(e.clanAccountID))); (0, dr.LQ)(a), t.push(...a) } return t } GenerateCurator(e) { const t = ts.sV.GetClanInfoByClanAccountID(e.clanAccountID); return t ? a.createElement("div", { className: xc().ClanInfo, key: t.clanAccountID }, a.createElement(Ws, { clanInfo: t, layout: "icon" })) : null } render() { const { bCanDismiss: e } = this.props, { bHasBeenDismissed: t, rgCuratorList: n } = this.state; if (t || !n || 0 === n.length) return null; let r = null; return r = n.slice(0, this.state.nNumToDisplay).map((e => this.GenerateCurator(e))), a.createElement(mt.S, null, a.createElement("div", { className: xc().FeedSuggestContainerBG }, a.createElement("div", { className: xc().FeedSuggestContainer }, a.createElement("div", { className: xc().FeedSuggestCaption }, (0, g.Xx)("#EventCurator_FeedCaption_Long")), e && a.createElement("div", { className: xc().DismissButton, onClick: this.OnDismissButton }, a.createElement(al.XBH, null)), a.createElement("div", { className: xc().RowContainer, ref: this.m_ref }, r || a.createElement(zi.V, null), a.createElement("div", { className: xc().BrowseMore, onClick: Mm.Get().ShowBrowseCurator }, (0, g.Xx)("#EventCurator_BrowseMore")))))) } } Dc.s_strLocalStorageKey = "SteamNewsHub_SuggestCuratorsDismissed", (0, r.gn)([m.ak], Dc.prototype, "OnResize", null), (0, r.gn)([m.ak], Dc.prototype, "OnCommitDismiss", null), (0, r.gn)([m.ak], Dc.prototype, "OnDismissButton", null); var Fc = n(53990), Gc = n.n(Fc), Bc = n(25382), Lc = n.n(Bc); const Rc = e => { const { titleToken: t, subtitleToken: n, backgroundImg: r, headerImg: o, headerURL: i } = e, l = r ? { backgroundImage: r } : {}; return a.createElement("div", { className: (0, k.Z)(Lc().CommonHeaderStyles, Lc().SimpleTitleHeaderCtn, e.largeHeader && Lc().LargeHeader), style: l }, a.createElement("div", { className: (0, k.Z)(Lc().CollectionBannerGroup, o ? Lc().HeaderImg : Lc().NoHeaderImg) }, Boolean(i && o) && a.createElement("a", { href: i, className: Lc().AppBannerLogoCtn }, a.createElement("img", { className: Lc().AppBannerLogo, src: o })), Boolean(o && !i) && a.createElement("div", { className: Lc().AppBannerLogoCtn }, a.createElement("img", { className: Lc().AppBannerLogo, src: o })), a.createElement("div", { className: Lc().SimpleTitleCtn }, a.createElement("div", { className: Lc().Title }, t.startsWith("#") ? (0, g.Xx)(t) : t), n && a.createElement("div", { className: Lc().Subtitle }, n.startsWith("#") ? (0, g.Xx)(n) : n)))) }; function Pc(e) { const t = (0, rs.W)(e); return (0, vi.X)(!!t, "Must define collection " + e), { collection: e, smallHeight: Number(Lc().simpleTitleSmallHeight), largeHeight: Number(Lc().simpleTitleLargeHeight), component: (e, n, r) => a.createElement(Rc, { largeHeader: e, titleToken: t.strHeaderTitle, subtitleToken: t.strHeaderSubtitle, headerImg: n, headerURL: r }) } } let Oc = null; function Mc() { return Oc || (Oc = new Array, Oc.push(Pc(rs.B.Press)), Oc.push(Pc(rs.B.Halloween))), Oc } var Hc = n(28777); var Uc = n(10659), Xc = n(9336); class Vc extends a.Component { render() { const { showArrows: e } = this.props, t = this.props.visibleSlides, n = this.props.totalSlides, r = this.props.currentSlide; if (t >= n) return null; const o = 100 * r / n, i = 100 * (1 - Math.min(r + t, n) / n), l = o + 50 * t / n, s = 100 - l; return a.createElement("div", { className: Uc.pipScrollerContainer }, e && a.createElement(Hc.jp, { className: (0, k.Z)(Uc.pipScrollButton, Uc.left, Uc.carouselNavButton) }, a.createElement(al.thP, null)), a.createElement("div", { className: Uc.pipScroller }, a.createElement("div", { className: Uc.scrollBackground }), a.createElement("div", { className: Uc.scrollForeground, style: { left: o + "%", right: i + "%" } }), a.createElement("div", { className: Uc.scrollNavDiv, style: { left: "0%", width: l + "%" } }, a.createElement(Hc.jp, { className: (0, k.Z)(Uc.carouselNavButton, Uc.scrollNavButton) }, a.createElement("div", null))), a.createElement("div", { className: Uc.scrollNavDiv, style: { right: "0%", width: s + "%" } }, a.createElement(Hc.P1, { className: (0, k.Z)(Uc.carouselNavButton, Uc.scrollNavButton) }, a.createElement("div", null)))), e && a.createElement(Hc.P1, { className: (0, k.Z)(Uc.pipScrollButton, Uc.right, Uc.carouselNavButton) }, a.createElement(al.thP, null))) } } const Wc = (0, Hc.Rq)(Vc, (e => ({ currentSlide: e.currentSlide, totalSlides: e.totalSlides, visibleSlides: e.visibleSlides }))); function Zc(e) { const t = () => a.Children.count(e.children), n = t(), r = Math.min(t(), e.visibleElements); if (!n || !r) return null; const o = r < n, i = e.hideArrows || !o, l = !o || e.hidePips; let s = 4 / 3, c = !0; e.slideAspectRatio && (s = e.slideAspectRatio, c = !1); const m = `items_in_row_${e.visibleElements}`; return a.createElement(Y.s, { "flow-children": "row", className: (0, k.Z)(Uc.carouselBody, e.className, m) }, a.createElement(Hc.sj, { visibleSlides: e.visibleElements, totalSlides: t(), naturalSlideWidth: 100 * s, naturalSlideHeight: 100, step: e.visibleElements, infinite: !e.disableEdgeWrap, isIntrinsicHeight: c, touchEnabled: !0, lockOnWindowScroll: !0, orientation: "horizontal", disableKeyboard: !0 }, a.createElement(qc, { bHideArrows: i, bAutoAdvance: e.bAutoAdvance && !ue.De.IN_GAMEPADUI, onSlide: e.onSlide }, a.Children.map(e.children, ((t, n) => { const r = e.bLazyRenderChildren ? a.createElement(Ic.Y, { rootMargin: "0px 100% 0px 100%", bHorizontal: !0, placeholderWidth: 1, placeholderHeight: 1 }, t) : t; return a.createElement(Hc.Mi, { className: Uc.innerSlide, key: "slide_" + n, index: n }, r) }))), !l && (e.useTestScrollbar ? a.createElement(Wc, { showArrows: i, carouselStore: null }) : a.createElement("div", { className: Uc.breadcrumbContainer }, (t => a.Children.map(e.children, ((e, n) => n % t != 0 ? null : a.createElement(Hc.oT, { slide: n, className: Uc.pip }, a.createElement("img", { src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQ5NEMwOTYzRDc4MTFFQUExREZEODRBMDBCNjdENTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQ5NEMwOTczRDc4MTFFQUExREZEODRBMDBCNjdENTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDk0QzA5NDNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDk0QzA5NTNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po/TXacAAABMSURBVHjaYvz//z8DNQHjyDMQDICGJgDx3f/kA5DeBJhh8f+pB+JBXr4DNFeZSp69CzLwP7UjZdTAkWAgVdMh1XMK1fPyCCwPAQIMAKf/Y+3dveJlAAAAAElFTkSuQmCC" })))))(r))))) } function zc(e) { e && (window.clearTimeout(e.current), e.current = null) } function qc(e) { const { bHideArrows: t, bAutoAdvance: n, children: r, onSlide: o } = e, i = a.useContext(Hc.ro), l = a.useRef(i.state.currentSlide), [s, c] = a.useState(null), [m, u] = a.useState(!!n), d = a.useRef(null), p = a.useRef(null); a.useEffect((() => { const e = () => { d.current = window.setTimeout((() => { if (d.current) { zc(d); const e = (i.state.currentSlide + 1) % i.state.totalSlides; i.setStoreState({ currentSlide: e }) } }), 8e3) }; m && e(); const t = () => { const t = l.current, n = i.state.currentSlide; o && o(n), c(n > t ? "Right" : n < t ? "Left" : null), zc(p); p.current = window.setTimeout((() => { p.current && (c(null), zc(p)) }), 1e3), l.current = n, d.current ? (zc(d), u(!1)) : m && e() }; return i.subscribe(t), () => { i.unsubscribe(t), zc(d), zc(p) } }), [i, m]); const _ = !!s && "CarouselSliding" + s; return a.createElement("div", { className: (0, k.Z)(Uc.sliderBody, "SliderBody", _) }, !t && a.createElement(Hc.jp, { className: (0, k.Z)(Uc.carouselBtnCtn, Uc.left, Uc.carouselNavButton, "CarouselBtnLeft") }, a.createElement(al.thP, null)), a.createElement(Hc.iR, { className: Xc.U.GetScrollableClassname(), classNameTray: Uc.slideTrayCustomize, classNameAnimation: Uc.DisableSliderMotion }, r), !t && a.createElement(Hc.P1, { className: (0, k.Z)(Uc.carouselBtnCtn, Uc.right, Uc.carouselNavButton, "CarouselBtnRight") }, a.createElement(al.thP, null))) } var Kc, jc = n(99791), Qc = n.n(jc); let Yc = class extends a.Component { render() { const { rgCalendarItems: e, bSuppressHoverEffects: t, strMultipleSourceTitle: n } = this.props; if (!e || 0 == e.length) return null; const r = e[0]; if (!e.every((e => e.appid === r.appid && e.clanid === r.clanid))) return n ? a.createElement("div", { className: Qc().EventTileCarouselTitleContainer }, a.createElement("div", { className: Qc().EventTileCarouselTextTitle }, n)) : null; const o = Boolean(0 === r.appid && ue.L7.accountid); return a.createElement("div", { className: Qc().EventTileCarouselTitleContainer }, a.createElement("div", { className: Qc().EventTileCarouselTitle }, a.createElement(Em, { calendarItem: r, bSuppressHoverEffects: t })), o && a.createElement("div", { className: Qc().EventTileCarouselFollow }, a.createElement(ws.C4, { clanAccountID: r.clanid }))) } }; Yc = (0, r.gn)([Q.Pi], Yc); let Jc = Kc = class extends a.Component { constructor() { super(...arguments), this.state = { bScreenIsWide: Kc.IsWideScreen(), nMaxCapsulesPerRow: this.GetMaxCapsulesPerRow() } } componentDidMount() { window.addEventListener("resize", this.OnResize) } componentWillUnmount() { window.removeEventListener("resize", this.OnResize) } static IsWideScreen() { return window.innerWidth >= 910 } GetMaxCapsulesPerRow() { return Kc.IsWideScreen() ? 3 : window.innerWidth > 700 ? 2 : 1 } OnResize() { this.setState({ bScreenIsWide: Kc.IsWideScreen(), nMaxCapsulesPerRow: this.GetMaxCapsulesPerRow() }) } render() { const { rgCalendarItems: e, fnOnEventClick: t, bSuppressHoverEffects: n, bHideGameTitle: r, strMultipleSourceTitle: o } = this.props; if (!e || 0 == e.length) return null; const i = e.map((o => a.createElement(Ac, { key: "ht-" + o.unique_id, calendarEvent: o, partnerEventStore: vs.j1, fnOnClicked: t, bSuppressHoverEffects: n, mode: e.length > 1 ? "carousel" : "wide", bHideGameTitle: r }))); return a.createElement("div", { className: Qc().CalendarRow }, a.createElement(Yc, { rgCalendarItems: e, bSuppressHoverEffects: n, strMultipleSourceTitle: o }), a.createElement("div", { className: (0, k.Z)(Qc().EventTileCarousel, "EventTileCarouselCtn") }, a.createElement(Zc, { hideArrows: !0, visibleElements: Math.min(this.state.nMaxCapsulesPerRow, this.props.rgCalendarItems.length), className: Qc().HorizontalTiles, useTestScrollbar: !0, bLazyRenderChildren: !0, disableEdgeWrap: !0 }, i))) } }; function $c(e, t) { const n = "location" in e ? e.location : e, a = "search" in n ? n.search : n, r = new URLSearchParams(a.substring(1)); if (r.has(t)) { const e = r.getAll(t); return e[e.length - 1] } } (0, r.gn)([m.ak], Jc.prototype, "OnResize", null), Jc = Kc = (0, r.gn)([Q.Pi], Jc); const em = e => null != e; function tm(e, t, n) { const a = new URLSearchParams(e.location.search.substring(1)); a.delete(t), em(n) && a.append(t, n), e.push(`?${a.toString()}`) } function nm(e, t) { const n = new URLSearchParams(e.location.search.substring(1)); for (const e in t) if (t.hasOwnProperty(e)) { const a = t[e]; n.delete(e), em(a) && n.append(e, a) } e.push(`?${n.toString()}`) } var am = n(78546), rm = n.n(am); const om = e => { var t; let n = new Array; return (null === (t = ue.De.SUPPORTED_LANGUAGES) || void 0 === t ? void 0 : t.length) ? n = ue.De.SUPPORTED_LANGUAGES.map((e => e.localizedName)) : n.push((0, g.Xx)("#Language_" + ue.De.LANGUAGE)), a.createElement("div", { className: rm().LanguageList }, n.join(", ")) }, im = e => { const t = "SteamNewsHub_LanguageDismissed", [n, r] = a.useState((() => { const e = JSON.parse(localStorage.getItem(t)); return e && e.bDismissed })()); if (n) return null; if (ue.De.EREALM === s.IN.k_ESteamRealmChina) return null; const o = ue.De.STORE_BASE_URL + "account/languagepreferences/"; return a.createElement("div", { className: rm().LanguageFeedNoteBucket }, a.createElement("div", { className: rm().LanguageFeedNoteCtn }, a.createElement("div", { className: rm().DismissButton, onClick: () => { r(!0), localStorage.setItem(t, JSON.stringify({ bDismissed: !0 })) } }, a.createElement(al.XBH, null)), a.createElement("div", { className: rm().BodyFlow }, a.createElement("div", { className: rm().LeftColumn }, a.createElement(al.P7E, null)), a.createElement("div", { className: rm().RightColumn }, a.createElement("div", { className: rm().Title }, (0, g.Xx)("#EventCalendar_NewsLanguage_Title")), a.createElement(om, null), a.createElement("div", { className: rm().Text }, (0, g.kQ)("#EventCalendar_NewsLanguage_Text", a.createElement("a", { href: o }, (0, g.Xx)("#EventCalendar_NewsLanguage_TextInHyperlink")))))))) }; var lm, sm, cm = n(4737); const mm = "global_header"; function um() { const e = document.getElementById(mm); if (e && "none" != getComputedStyle(e).display) return e; const t = document.getElementsByClassName("responsive_header"); if ((0, vi.X)(t.length <= 1, "Must have at most one responsive_header"), 1 == t.length) { return t[0] } return null } function dm() { const e = um(); return e && e.id != mm || ue.De.IN_MOBILE_WEBVIEW } function pm() { return dm() || window.innerWidth < parseInt(Gc().strDesktopControlBarWidth) + parseInt(Gc().strMaxMobileWidth) } let _m = lm = class extends a.Component { constructor() { super(...arguments), this.state = { bUserIsLoggedIn: ue.L7.logged_in, nVisibleHeight: 0, nScrollTop: 0, bControlBarIsCollapsed: pm(), bControlBarWasOpenedByUser: !1, nDisappearingHeaderTop: 0, nSteamNavHeaderHeight: 0, nMobileNavBannerHeight: 0, nHubBannerHeight: 0, nGroupHeaderHeight: 0, nLogInBannerHeight: 0, nAccumScrollUp: 0, nAccumScrollDown: 0 }, this.m_refControlBar = a.createRef(), this.m_cancelSignal = Ql().CancelToken.source() } componentDidMount() { this.InitEventCalendarStore(), this.UpdateDocumentUI(), window.addEventListener("resize", this.OnResize), window.addEventListener("scroll", this.OnScroll), this.setState({ nVisibleHeight: window.innerHeight }), window.scrollTo(0, 0), this.UpdateEventControlLocationAndVisibility(), ue.De.IN_MOBILE_WEBVIEW && this.props.location && 0 == this.props.history.length && this.props.history.push(this.props.location) } componentDidUpdate(e, t) { t.bUserIsLoggedIn == this.state.bUserIsLoggedIn && JSON.stringify(e.filter_to_appids) == JSON.stringify(this.props.filter_to_appids) && JSON.stringify(e.filter_to_clanids) == JSON.stringify(this.props.filter_to_clanids) && e.filter_to_collection === this.props.filter_to_collection && e.filter_to_saleid === this.props.filter_to_saleid && e.filter_to_contenthub_hubtype === this.props.filter_to_contenthub_hubtype && e.filter_to_contenthub_category_or_language === this.props.filter_to_contenthub_category_or_language && e.filter_to_contenthub_tag_name === this.props.filter_to_contenthub_tag_name && e.section_by_day === this.props.section_by_day || (window.scrollTo(0, 0), this.InitEventCalendarStore()), this.UpdateDocumentUI(), this.LoadEventToShowAsModal(), this.UpdateEventControlLocationAndVisibility() } UpdateEventControlLocationAndVisibility() { if (this.props.location) { const e = Mm.Get().UpdateLocation((() => this.props.history), this.props.location); ("desktop_navigation" != e && this.state.bControlBarIsCollapsed || "desktop_navigation" == e && !this.state.bControlBarIsCollapsed && dm()) && this.ToggleControlBarCollapsed() } } componentWillUnmount() { this.m_cancelSignal.cancel("component unmounted"), window.removeEventListener("resize", this.OnResize), window.removeEventListener("scroll", this.OnScroll), this.UpdateBodyScrollState(!0); const e = um(); e && (e.style.transform = "") } GetCurrentHubBannerHeight(e) { const t = e && !lc(); return (0, ns.vY)().GetCollectionID() ? function (e, t) { if (!e) return 0; const n = Mc().find((t => t.collection === e)); return n ? t ? n.largeHeight : n.smallHeight : 0 }((0, ns.vY)().GetCollectionID(), t) : (0, ns.vY)().BIsSaleCalendar() ? (n = (0, ns.vY)().GetSaleID(), a = t, n && vs.j1.GetClanEventModel(n) ? Number(a ? Lc().simpleTitleLargeHeight : Lc().simpleTitleSmallHeight) : 0) : (0, ns.vY)().BIsSingleSourceCalendar() ? parseInt(t ? Gc().strJumboHubBannerHeight : Gc().strDesktopHubBannerHeight) - 1 : 0; var n, a } BShowLogInBanner() { return Boolean(!this.state.bUserIsLoggedIn && (0, ns.vY)().BIsGlobalCalendar()) } GetCurrentHeaderHeights(e) { const t = dm(), n = lc(); let a = 0; um() && (a = parseInt(t ? Gc().strMobileGlobalHeaderHeight : Gc().strDesktopGlobalHeaderHeight), a -= 1); const r = parseInt(n ? Gc().strMobileGroupHeaderHeight : Gc().strDesktopGroupHeaderHeight) - 1, o = (t ? parseInt(Gc().strMobileNavBannerHeight) : 0) - 1, i = this.GetCurrentHubBannerHeight(e); let l = 0; return this.BShowLogInBanner() && (l = e && !n ? parseInt(Gc().strLogInBannerLargeHeight) : parseInt(Gc().strLogInBannerSmallHeight)), { nSteamNavHeaderHeight: a, nMobileNavBannerHeight: o, nHubBannerHeight: i, nGroupHeaderHeight: r, nLogInBannerHeight: l } } LoadEventToShowAsModal() { return (0, r.mG)(this, void 0, void 0, (function* () { const e = $c(this.props.location, "megaphone"); if (!!e && "0" !== e && "false" !== e) { tm(this.props.history, "megaphone", null); const e = { exclude_tags: ["patchnotes", "skip_megaphone"] }, t = yield vs.j1.LoadAdjacentPartnerEvents(null, null, qi.dn, 0, 1, e); if (1 == (null == t ? void 0 : t.length)) { const e = t[0]; nm(this.props.history, { emclan: e.clanSteamID.ConvertTo64BitString(), emgid: e.GID }) } else console.error("Could not find the most recent Steam Blog post.") } const t = $c(this.props.location, "emclan"), n = $c(this.props.location, "emgid"); if (t && n) { const e = new j.K(t); if (this.state.modalEvent && this.state.modalEvent.clanSteamID.ConvertTo64BitString() == e.ConvertTo64BitString() && this.state.modalEvent.GID == n) return; const a = yield vs.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(e, n, 0); this.setState({ modalEvent: a }) } else this.state.modalEvent && this.setState({ modalEvent: null }) })) } BShowFutureView() { const e = $c(this.props.location, "upcoming"); return e && "false" != e } BShowUpdatesOnly() { return !(!this.props.filter_to_appids || 1 != this.props.filter_to_appids.length || "true" != $c(this.props.location, "updates")) } UpdateDocumentUI() { var e, t, n, a, r; let o, i; const l = (0, ns.vY)(); if (l.BIsGlobalCalendar()) { const t = (0, rs.W)(this.BShowFutureView() ? rs.B.Upcoming : rs.B.Default); o = null !== (e = null == t ? void 0 : t.strHeaderTitle) && void 0 !== e ? e : null == t ? void 0 : t.strName } else if (l.BIsSingleAppCalendar()) { const e = l.GetSingleAppID(); o = null === (t = ol.Z.Get().GetApp(e)) || void 0 === t ? void 0 : t.GetName() } else if (l.BIsSingleGroupCalendar()) { const e = l.GetSingleGroupID(), t = e && ts.sV.GetClanInfoByClanAccountID(e); o = t && t.group_name } else if (l.BIsCollectionCalendar()) { const e = l.GetCollectionID(), t = (0, rs.W)(e); o = null !== (n = null == t ? void 0 : t.strHeaderTitle) && void 0 !== n ? n : null == t ? void 0 : t.strName } else if (l.BIsSaleCalendar()) { const e = vs.j1.GetClanEventModel(l.GetSaleID()); if (e) { if (e.appid) o = null === (a = ol.Z.Get().GetApp(e.appid)) || void 0 === a ? void 0 : a.GetName(); else { const t = null === (r = e.clanSteamID) || void 0 === r ? void 0 : r.GetAccountID(), n = t && ts.sV.GetClanInfoByClanAccountID(t); o = n && n.group_name } i = e && e.GetNameWithFallback((0, wt.jM)(ue.De.LANGUAGE)) } } let s = (0, g.Xx)("#EventCalendar_TabTitle_Global"); o && (s = i ? (0, g.Xx)("#EventCalendar_TabTitle_GroupNameAndEventDetail", o, i) : (0, g.Xx)("#EventCalendar_TabTitle_GroupHub", o)), document.title != s && (document.title = s), document.body.classList.contains("events_hub") || document.body.classList.add("events_hub") } OnResize() { this.setState((e => { const t = window.innerHeight, n = !e.bControlBarWasOpenedByUser && pm(), a = this.GetCurrentHeaderHeights(this.state.nScrollTop <= 0); return this.UpdateBodyScrollState(n), Object.assign({ nVisibleHeight: t, bControlBarIsCollapsed: n }, a) })) } OnScroll() { const e = Math.round(window.scrollY); this.setState((t => { const n = t.nScrollTop <= 0, a = e <= 0; let { nHubBannerHeight: r, nLogInBannerHeight: o } = t; if (n != a) { const e = this.GetCurrentHeaderHeights(a); r = e.nHubBannerHeight, o = e.nLogInBannerHeight } const i = e - t.nScrollTop; let l = Math.max(0, t.nAccumScrollUp - i), s = Math.max(0, t.nAccumScrollDown + i), c = t.nDisappearingHeaderTop; let m = t.nDisappearingHeaderTop < 0; s > 80 && (l = 0, s = 0, m = !0), (l > 100 || a) && (l = 0, s = 0, m = !1), this.state.bControlBarIsCollapsed || (m = !1), t.modalEvent && (m = !0); const u = t.nSteamNavHeaderHeight + r + t.nMobileNavBannerHeight; if (c = m ? -1 * u : 0, c !== t.nDisappearingHeaderTop) { const e = um(); e && (e.style.transform = `translateY(${c}px)`) } return { nScrollTop: e, nAccumScrollUp: l, nAccumScrollDown: s, nDisappearingHeaderTop: c, nHubBannerHeight: r, nLogInBannerHeight: o } })) } InitEventCalendarStore() { return (0, r.mG)(this, void 0, void 0, (function* () { const e = { appids: this.props.filter_to_appids, clanaccountids: this.props.filter_to_clanids, collectionid: this.props.filter_to_collection, saleid: this.props.filter_to_saleid, hubtype: this.props.filter_to_contenthub_hubtype, category_or_language: this.props.filter_to_contenthub_category_or_language, tag_name: this.props.filter_to_contenthub_tag_name, bSectionByDay: this.props.section_by_day }, t = (0, ns.PC)(e), n = (0, ns.vY)(), a = (is.m.Get(), Boolean(this.state.bUserIsLoggedIn && ue.L7.accountid)), r = n.BIsGlobalCalendar() && a ? "local" : "session", o = n.BIsGlobalCalendar() ? "U" + ue.L7.accountid : t; n.m_visibilityStore.Init(a, this.BShowUpdatesOnly(), n.BIsShowingFeaturedFeed(), o, r); const i = !n.BIsCollectionCalendar(); if (n.SetFilteredView((e => n.m_visibilityStore.BShouldDisplayEvent(e)), i), lm.m_bInitialLoad) { const e = (0, ue.kQ)("metadatainfo", "application_config"); n.SetCollectionMetaData(n.ValidateCollectionMetadata(e) ? e : null) } const l = lm.m_bInitialLoad && (0, ue.kQ)("initialEvents", "application_config"); l ? (yield n.RegisterCalendarEventsAndModels(l), lm.m_bInitialLoad = !1) : yield n.RegisterCalendarEventsAndModels({ success: 1 }), n.BIsSingleSourceCalendar() && (n.BIsSingleAppCalendar() ? ol.Z.Get().QueueAppRequest(n.GetSingleAppID(), { include_assets: !0, include_platforms: !0, include_basic_info: !0, include_release: !0 }) : ts.sV.LoadClanInfoForClanSteamID(j.K.InitFromClanID(n.GetSingleGroupID()))), this.OnResize() })) } UpdateBodyScrollState(e) { const t = !e && dm(), n = document.body; n && (t ? n.classList.add(Gc().BodyNoScroll) : n.classList.remove(Gc().BodyNoScroll)) } MobileNavOpenSettings() { this.ToggleControlBarCollapsed(), this.m_refControlBar.current && this.m_refControlBar.current.OpenFilterSettings(!0) } ToggleControlBarCollapsed() { this.setState((e => { const t = !e.bControlBarIsCollapsed, n = e.bControlBarIsCollapsed, a = t ? e.nDisappearingHeaderTop : 0, r = um(); return r && (r.style.transform = `translateY(${a}px)`), this.UpdateBodyScrollState(t), { bControlBarIsCollapsed: t, bControlBarWasOpenedByUser: n, nDisappearingHeaderTop: a } })) } OnControlBarChange() { window.scrollTo(0, 0) } CloseEventModal() { const e = um(); e && (e.style.transform = `translateY(${this.state.nDisappearingHeaderTop}px)`), "PUSH" === this.props.history.action ? this.props.history.goBack() : nm(this.props.history, { emclan: void 0, emgid: void 0 }) } OnEventClicked(e) { Fs.cb.Get().RecordEventRead(e, 8); const t = this.state.nSteamNavHeaderHeight + this.state.nHubBannerHeight + this.state.nMobileNavBannerHeight, n = um(); if (n && (n.style.transform = `translateY(${-1 * t}px)`), os.JW.bOpenEventLandingPage) { const t = (0, Ys.q)(e, Ys.Ue.k_eStoreView, "allowRelative"); this.props.history.push(t) } else nm(this.props.history, { emclan: e.clanSteamID.ConvertTo64BitString(), emgid: e.GID }) } ToggleFutureView() { tm(this.props.history, "upcoming", this.BShowFutureView() ? "false" : "true") } ResetAllFilters() { tm(this.props.history, "updates", void 0), (0, ns.vY)().m_visibilityStore.InitDefaultCheckboxes(this.state.bUserIsLoggedIn, !1) } render() { const e = this.state.nSteamNavHeaderHeight + this.state.nHubBannerHeight + this.state.nMobileNavBannerHeight + this.state.nLogInBannerHeight, t = this.state.nDisappearingHeaderTop + this.state.nSteamNavHeaderHeight, n = t + this.state.nMobileNavBannerHeight, r = n + this.state.nLogInBannerHeight, o = this.state.nVisibleHeight <= parseInt(Gc().strMinMobileHeight), i = o ? 0 : this.state.nDisappearingHeaderTop + this.state.nSteamNavHeaderHeight, l = o ? 0 : this.state.nDisappearingHeaderTop + e, s = (0, ns.vY)().m_visibilityStore.BAreAnyEventsFiltered(this.state.bUserIsLoggedIn) ? this.ResetAllFilters : null; return a.createElement(a.Fragment, null, a.createElement("div", { className: Gc().EventCalendarContainer }, a.createElement(mt.S, null, this.state.modalEvent ? a.createElement(Os, { appid: this.state.modalEvent.appid, trackingLocation: 8, announcementGID: this.state.modalEvent.GetAnnouncementGID(), partnerEventStore: vs.j1, eventModel: this.state.modalEvent, showAppHeader: !0, closeModal: this.CloseEventModal }) : null), a.createElement(mt.S, null, a.createElement(Xm, { ref: this.m_refControlBar, bUserIsLoggedIn: this.state.bUserIsLoggedIn, nDisappearingHeaderVisibleHeight: i, bIsCollapsed: this.state.bControlBarIsCollapsed, bShowUpcoming: this.BShowFutureView(), bShouldIncludeLegalFooter: !dm(), fnToggleCollapsed: this.ToggleControlBarCollapsed, fnOnFilterChange: this.OnControlBarChange })), a.createElement(mt.S, null, a.createElement("div", { className: (0, k.Z)(Gc().ReserveControlSpace, !this.state.bControlBarIsCollapsed && Gc().WideLeftGutter) }, a.createElement(mt.S, null, this.state.nLogInBannerHeight > 0 && a.createElement(fm, { nTopOffset: n, bLargeMode: this.state.nScrollTop <= 0 && !lc() })), a.createElement(mt.S, null, this.state.nMobileNavBannerHeight > 0 && a.createElement(Ym, { bIsUpcoming: this.BShowFutureView(), nTopOffset: t, fnToggleCollapsed: this.MobileNavOpenSettings }), a.createElement(gm, { nTopOffset: r, bLargeMode: this.state.nScrollTop <= 0 && !lc() })), a.createElement(mt.S, null, a.createElement(hm, { bShowFutureViewOnly: this.BShowFutureView(), bShowUpdatesOnly: this.BShowUpdatesOnly(), fnOnEventClick: this.OnEventClicked, fnToggleSeeFuture: this.ToggleFutureView, fnResetFilters: s, nVisibleHeight: this.state.nVisibleHeight, nScrollTop: this.state.nScrollTop, nDisappearingHeaderVisibleHeight: l, bUserIsLoggedIn: Boolean(this.state.bUserIsLoggedIn && ue.L7.accountid) })))))) } }; _m.m_bInitialLoad = !0, (0, r.gn)([m.ak], _m.prototype, "OnResize", null), (0, r.gn)([m.ak], _m.prototype, "OnScroll", null), (0, r.gn)([m.ak], _m.prototype, "MobileNavOpenSettings", null), (0, r.gn)([m.ak], _m.prototype, "ToggleControlBarCollapsed", null), (0, r.gn)([m.ak], _m.prototype, "OnControlBarChange", null), (0, r.gn)([m.ak], _m.prototype, "CloseEventModal", null), (0, r.gn)([m.ak], _m.prototype, "OnEventClicked", null), (0, r.gn)([m.ak], _m.prototype, "ToggleFutureView", null), (0, r.gn)([m.ak], _m.prototype, "ResetAllFilters", null), _m = lm = (0, r.gn)([Q.Pi], _m); (0, oe.EN)(_m); function gm(e) { const t = (0, d.SZ)((() => (0, ns.vY)())), [n, o, i, l, s, c, m, u] = (0, d.SZ)((() => { var e; return [(null === (e = t.GetCollectionMetaData()) || void 0 === e ? void 0 : e.clan_event_gid) || void 0, t.GetCollectionID(), t.BHasCollectionMetaData(), t.BIsSaleCalendar(), t.GetSaleID(), t.BIsSingleSourceCalendar(), t.BIsSingleAppCalendar() ? t.GetSingleAppID() : void 0, t.BIsSingleGroupCalendar() ? t.GetSingleGroupID() : void 0] })), [p, _] = a.useState(!1), g = (0, wt.jM)(ue.De.LANGUAGE); if (a.useEffect((() => { if (i && n && !vs.j1.GetClanEventModel(n)) { _(!0); (() => (0, r.mG)(this, void 0, void 0, (function* () { const e = t.GetCollectionMetaData(), n = j.K.InitFromClanID(e.clanid); yield vs.j1.LoadPartnerEventFromClanEventGIDAndClanSteamID(n, e.clan_event_gid, 0), _(!1) })))() } }), [t, i, n]), o) { let t, r; if (i && !p) { const e = vs.j1.GetClanEventModel(n); e && (t = e.GetImageURLWithFallback("capsule", g, Zi.FN.capsule_main), r = e.GetSaleURL()) } const l = function (e, t, n, a) { if (!e) return null; const r = Mc().find((t => t.collection === e)); return r ? r.component(t, n, a) : null }(o, e.bLargeMode, t, r); if (!l) return null; const s = (0, k.Z)(Gc().HubBanner, wc().WideBanner); return a.createElement("div", { style: { transform: `translateY(${e.nTopOffset}px)` }, className: s }, l) } if (l) { const t = function (e, t) { if (!e) return null; let n = vs.j1.GetClanEventModel(e); if (!n) return null; let r = (0, wt.jM)(ue.De.LANGUAGE); return a.createElement(Rc, { largeHeader: t, titleToken: n.GetNameWithFallback(r), subtitleToken: n.GetSubTitleWithSummaryFallback(r), headerImg: n.GetImageURLWithFallback("capsule", r, Zi.FN.capsule_main) }) }(s, e.bLargeMode); if (!t) return null; const n = (0, k.Z)(Gc().HubBanner, wc().WideBanner); return a.createElement("div", { style: { transform: `translateY(${e.nTopOffset}px)` }, className: n }, t) } if (c) { const t = (0, k.Z)(Gc().HubBanner, wc().WideBanner, e.bLargeMode && Gc().LargeMode, e.bLargeMode && wc().TallBanner); return a.createElement("div", { style: { transform: `translateY(${e.nTopOffset}px)` }, className: t }, a.createElement(Nc.n, { appId: m, clanId: u, bShowRSSFeed: !0 })) } return null } let hm = class extends a.Component { GetCurrentSectionLayout() { let e = 0; return (0, ns.vY)().GetCalendarSections(this.props.bShowFutureViewOnly).map((t => { const n = Math.max(e, t.nTopOffset), a = n + t.nRenderedHeight; return e = a, { section: t, nTopOfSection: n } })) } GetMergeEventsType() { const e = (0, ns.vY)(), t = e.GetCollectionID(); return e.BIsSingleSourceCalendar() || t === rs.B.Steam ? "none" : e.BIsShowingFeaturedFeed() ? "full" : t ? "samesource" : "full" } GetCuratorSuggestionSettings(e) { if (ue.L7.accountid && os.JW.bIsCuratorsEnabled) if (e.BIsGlobalCalendar() && !this.props.bShowFutureViewOnly) { if (e.m_visibilityStore.BIsGameSourceAllowed(as.Gf.k_ECurator)) return { nInlineOffset: 1e3, bInlineDismissable: !0, bShowAtEnd: !0 } } else if (e.GetCollectionID() === rs.B.Press) return { nInlineOffset: 1e3, bInlineDismissable: !1, bShowAtEnd: !1 }; return { nInlineOffset: void 0, bInlineDismissable: !1, bShowAtEnd: !1 } } render() { const e = (0, ns.vY)(), { bShowFutureViewOnly: t, bShowUpdatesOnly: n, fnOnEventClick: r, fnToggleSeeFuture: o, fnResetFilters: i, nScrollTop: l, nDisappearingHeaderVisibleHeight: s } = this.props, c = e.GetCalendarSections(t); if (0 == c.length) return null; const m = lc(), u = e.m_visibilityStore.BAreAllEventsHidden(), d = l; let p = !0; const _ = this.GetCuratorSuggestionSettings(e); let h; const v = u ? [] : this.GetCurrentSectionLayout().map((({ section: e, nTopOfSection: n }, i) => { const { strId: l, strSectionLabel: s, rtSectionStart: c, rtSectionEnd: u, bIsFutureSection: g, nRenderedHeight: v } = e, S = n < d, E = (0, k.Z)(Gc().PastSection, p && Gc().DarkerBackground); v > 0 && (p = !p, void 0 !== _.nInlineOffset && n >= _.nInlineOffset && void 0 === h && (h = i)); const b = !t && g; return a.createElement(Ic.Y, { key: l, className: Gc().LazyCalendarSectionCtn, placeholderHeight: v, rootMargin: "100% 0px 100% 0px" }, a.createElement(Cm, { bRenderStickyHeader: S, strSectionLabel: s, rtSectionStart: c, rtSectionEnd: u, strSectionClassname: E, bUseHorizontalLayout: b, fnOnSeeFutureClick: o, bShowEarliestFirst: t || b, section: e, fnOnEventClick: r, bSuppressHoverEffects: m, strMergeEvents: this.GetMergeEventsType() })) })); void 0 !== h && v.splice(h, 0, a.createElement(Dc, { key: "CuratorSuggestions", bCanDismiss: _.bInlineDismissable })), e.GetCollectionID() === rs.B.Press && v.splice(0, 0, a.createElement(im, { key: "LanguageFeedRow" })); const S = c[0].rtSectionStart, E = (0, ns.vY)().GetCurrentlyLoadedEventCount(0, S), b = (0, ns.vY)().GetCurrentlyLoadedEventCount(S); let C = E && (E.nCount ? "#EventCalendar_NoMorePastEvents" : "#EventCalendar_NoPastEvents"), y = i && a.createElement(cs.HP, { key: "link-back", toolTipContent: (0, g.Xx)("#EventCalendar_ResetFilters_ttip"), className: (0, k.Z)(Gc().BackToThePast, Gc().NoCount), onClick: i }, (0, g.Xx)("#EventCalendar_ResetFiltersButton")); u && this.props.fnResetFilters ? C = "#EventCalendar_EmptyCalendar" : t ? (C = b && (b.nCount ? "#EventCalendar_NoMoreFutureEvents" : "#EventCalendar_NoFutureEvents"), y = E && a.createElement("div", { key: "link-back", className: Gc().BackToThePast, onClick: o }, (0, g.Xx)("#EventCalendar_PastEventsLink"), a.createElement("span", { className: Gc().SeeAllCount }, E.nCount + (E.bIsComplete ? "" : "+")))) : n && (C = E && (E.nCount ? "#EventCalendar_NoMorePastUpdates" : "#EventCalendar_NoPastUpdates")); let f = null; return (u || e.BHitEventHorizon(t ? "forward" : "backward")) && (f = a.createElement(a.Fragment, null, a.createElement("div", { key: "no-more-events", className: (0, k.Z)(Gc().EndOfRows, Gc().CalendarRow) }, a.createElement("div", { className: Gc().NoMoreRows }, " ", (0, g.Xx)(C), " ")), _.bShowAtEnd && a.createElement(Dc, { key: "CuratorSuggestions", bCanDismiss: !1 }), y)), a.createElement("div", { className: Gc().RowContainer, style: { transform: `translateY(${s - 1}px)` } }, a.createElement("div", { className: Gc().Rows }, n && a.createElement("div", { className: Gc().UpdatePageBanner }, (0, g.Xx)("#EventCalendar_UpdatesViewHeader")), v, f)) } }; hm = (0, r.gn)([Q.Pi], hm); let vm = class extends a.Component { render() { const e = this.props.rgCalendarItems[0].start_time, t = (0, ns.vY)().GetCurrentlyLoadedEventCount(e); return this.props.rgCalendarItems.length <= 1 ? null : a.createElement("div", { key: "see-all-link", className: Gc().MobileSeeAllink, onClick: this.props.fnOnSeeFutureClick }, (0, g.Xx)("#EventCalendar_FutureEventsLink"), a.createElement("span", { className: Gc().SeeAllCount }, t.nCount + (t.bIsComplete ? "" : "+"))) } }; vm = (0, r.gn)([Q.Pi], vm); let Sm = class extends a.Component { render() { const { rgCalendarItems: e, fnOnEventClick: t, fnOnSeeFutureClick: n, bSuppressHoverEffects: r } = this.props; return e && 0 != e.length ? a.createElement("div", { className: Gc().CalendarRow }, a.createElement("div", { className: (0, k.Z)(Gc().HorizontalTileContainer, "HorizontalTileCtn") }, a.createElement("div", { className: Gc().HorizontalTiles }, e.map((n => a.createElement(Ac, { key: "ht-" + n.unique_id, calendarEvent: n, partnerEventStore: vs.j1, fnOnClicked: t, bSuppressHoverEffects: r, mode: e.length > 1 ? "upcoming" : "wide", bHideGameTitle: (0, ns.vY)().BIsSingleSourceCalendar() && (0, ns.vY)().BEventMatchCalendarSingleSource(n) })))), a.createElement(vm, { rgCalendarItems: e, fnOnSeeFutureClick: n }))) : null } }; Sm = (0, r.gn)([Q.Pi], Sm); const Em = (0, Q.Pi)((e => { const { calendarItem: t, bSuppressHoverEffects: n } = e, r = vs.j1.GetClanEventModel(t.unique_id); return r ? a.createElement("div", { className: Gc().EventListTitle }, a.createElement(vc, { eventModel: r, calendarEvent: t, bSuppressHoverEffects: n })) : null })); var bm; !function (e) { e[e.eCurators = 1] = "eCurators" }(bm || (bm = {})); let Cm = sm = class extends a.Component { constructor() { super(...arguments), this.m_ref = a.createRef() } componentDidMount() { this.UpdatePositioning() } componentDidUpdate() { this.UpdatePositioning() } UpdatePositioning() { this.m_ref.current && (0, u.z)((() => { const { section: e } = this.props, t = this.m_ref.current.getBoundingClientRect().height; e.nRenderedHeight != t && (e.nRenderedHeight = t); const n = this.m_ref.current.offsetTop; e.nTopOffset != n && (e.nTopOffset = n) })) } get cachedCalendarItems() { return (0, ns.vY)().GetCalendarItemsInTimeRange((0, X.YN)((() => this.props.rtSectionStart)), (0, X.YN)((() => this.props.rtSectionEnd))) } GetCarouselGroupTitle(e) { return e.BIsShowingFeaturedFeed() ? (0, g.Xx)("#EventCalendar_GroupTitle_FeaturedCurators") : e.BIsGlobalCalendar() ? (0, g.Xx)("#EventCalendar_GroupTitle_Curators") : "" } GenerateKeyFromItem(e, t) { return t.GetSource() & Zs.ZT.k_eSteam || t.appid || "full" !== e ? t.clanid : bm.eCurators } static IsTimestampInRange(e, t, n) { return Boolean(e) && t < e && e <= n } GetTimestampEvents(e) { const t = new Array; return t } AddTimestampEventsInInterval(e, t, n, a) { for (const r of e) sm.IsTimestampInRange(r.rtTime, t, n) && a.push(r.component) } RenderEventList(e) { const { fnOnEventClick: t, bSuppressHoverEffects: n, strMergeEvents: r } = this.props, o = (0, ns.vY)(); let i = null; if ("none" !== r) { i = new Map; for (const t of e) { const e = this.GenerateKeyFromItem(r, t), n = i.get(e); if (n) n.push(t); else { const n = new Array; n.push(t), i.set(e, n) } } } const l = new Array, s = new Array, c = "full" === r ? s : l, m = this.GetTimestampEvents(o); let u = this.props.bShowEarliestFirst ? this.props.rtSectionStart : this.props.rtSectionEnd; for (const s of e) { let e = l; if (i) { const l = this.GenerateKeyFromItem(r, s), m = i.get(l); if (!m) continue; if (l === bm.eCurators && (e = c), m.length >= 3) { const r = l === bm.eCurators ? this.GetCarouselGroupTitle(o) : "", c = !m.find((e => e.clanid != s.clanid)); m.sort(((e, t) => t.score != e.score ? t.score - e.score : t.start_time - e.start_time)), e.push(a.createElement("div", { key: s.unique_id, className: Gc().CalendarEventListRow }, a.createElement("div", { className: Gc().CalendarEventListContainer }, a.createElement(Jc, { key: s.unique_id, rgCalendarItems: m, bSuppressHoverEffects: n, fnOnEventClick: t, bHideGameTitle: c, strMultipleSourceTitle: r })))), i.delete(l); continue } } e === l && (this.AddTimestampEventsInInterval(m, Math.min(u, s.start_time), Math.max(u, s.start_time), l), u = s.start_time), e.push(a.createElement("div", { key: s.unique_id, className: Gc().CalendarRow }, a.createElement(Ac, { calendarEvent: s, partnerEventStore: vs.j1, mode: "wide", fnOnClicked: t, bSuppressHoverEffects: n, bHideGameTitle: o.BIsSingleSourceCalendar() && o.BEventMatchCalendarSingleSource(s) }))) } return this.props.bShowEarliestFirst ? this.AddTimestampEventsInInterval(m, u, this.props.rtSectionEnd, l) : this.AddTimestampEventsInInterval(m, this.props.rtSectionStart, u, l), l.push(...s), l } render() { const { bRenderStickyHeader: e, strSectionLabel: t, strSectionClassname: n, bUseHorizontalLayout: r, fnOnSeeFutureClick: o, bShowEarliestFirst: i, fnOnEventClick: l, bSuppressHoverEffects: s } = this.props; let { rgCalendarItems: c, bIsComplete: m } = this.cachedCalendarItems; if (0 == c.length && m) return a.createElement("div", { ref: this.m_ref, className: n }); c.length && i && (c = c.slice().reverse()); let u = null; c.length > 0 && (u = a.createElement("div", { className: (0, k.Z)(Gc().GroupHeader, Gc().CalendarRow, e && Gc().HeaderAtTop) }, a.createElement("div", { className: Gc().GroupHeaderTitle }, a.createElement("span", null, t), a.createElement("div", { className: Gc().GroupHeaderLine }), r && c.length > 3 && a.createElement("div", { className: Gc().SeeAllLink, onClick: o }, (0, g.Xx)("#EventCalendar_FutureEventsLink"), a.createElement("span", { className: Gc().SeeAllCount }, c.length + (m ? "" : "+")))))); let d = null; return (!os.JW.bRequireAllEventsLoadedInTimeBlock || m || r && c.length >= 3) && (d = r ? a.createElement(Sm, { rgCalendarItems: c.slice(0, 3), fnOnEventClick: l, fnOnSeeFutureClick: o, bSuppressHoverEffects: s }) : this.RenderEventList(c)), a.createElement("div", { ref: this.m_ref, className: n }, u, d, !m && !r && a.createElement(ym, { bShowEarliestFirst: this.props.bShowEarliestFirst })) } }; (0, r.gn)([u.Fl], Cm.prototype, "cachedCalendarItems", null), Cm = sm = (0, r.gn)([Q.Pi], Cm); const ym = e => { const t = (0, ns.vY)().GetTimeEdgeForDirection(e.bShowEarliestFirst ? "forward" : "backward", void 0); return a.createElement("div", { className: Gc().Loading }, a.createElement(zi.V, { size: "xlarge", position: "center" }), t && a.createElement(a.Fragment, null, a.createElement("div", { className: Gc().LoadingProgress }, (0, g.Xx)("#EventCalendar_LoadEventsProgress", Number((0, ns.vY)().GetNumEventsLoaded()).toLocaleString(), (0, g.jr)(t))), a.createElement("div", { className: Gc().AdjustFiltersText }, (0, g.Xx)("#EventCalendar_LoadEventsFilters")))) }, fm = e => a.createElement("div", { className: (0, k.Z)(Gc().LogInFeedRow, !e.bLargeMode && Gc().LogInSmallMode), style: { transform: `translateY(${e.nTopOffset}px)` } }, a.createElement("div", { className: Gc().PromptCtn }, a.createElement("div", { className: Gc().LogInFeedTitle }, (0, g.Xx)("#EventCalendar_SignIn_Title")), a.createElement("button", { onClick: cm.Xt, className: Gc().LogInButton }, (0, g.Xx)("#Login_SignIn")), a.createElement("div", { className: Gc().LogInFeedText }, (0, g.Xx)("#EventCalendar_SignIn_Text")))); var Am = n(30381), Im = n.n(Am); class km { constructor() { this.m_dateLoadTime = os.JW.GetTimeNowWithOverrideAsDate() } IsCurrentlyVisible(e) { return (!e.startVisible || e.startVisible <= this.m_dateLoadTime) && (!e.endVisible || e.endVisible >= this.m_dateLoadTime) } static IsCurrentlyActive(e) { const t = os.JW.GetTimeNowWithOverrideAsDate(); return (!e.startEvent || e.startEvent <= t) && (!e.endEvent || e.endEvent >= t) } static LocalizeDateString(e) { if (!e.startEvent) return null; const t = e.startEvent.toLocaleDateString(g.Yt.GetPreferredLocales(), { month: "long", day: "numeric" }); if (!e.endEvent) return t; const n = { month: e.startEvent.getMonth() != e.endEvent.getMonth() ? "long" : void 0, day: "numeric" }; return `${t} - ${e.endEvent.toLocaleDateString(g.Yt.GetPreferredLocales(), n)}` } GetVisibleSpecialEvents() { return [{ sLocToken: "#NewsHubSpecialEvent_GameFestival", startVisible: new Date(1e3 * Im()("2020-06-16T14:00:00-07:00").unix()), endVisible: new Date(1e3 * Im()("2020-06-22T10:00:00-07:00").unix()), startEvent: new Date(1e3 * Im()("2020-06-16T10:00:00-07:00").unix()), endEvent: new Date(1e3 * Im()("2020-06-22T10:00:00-07:00").unix()), newshubUrl: "news/collection/GameFestival2020" }].filter((e => this.IsCurrentlyVisible(e))) } } const wm = new km; class Nm extends a.Component { render() { const { specialEvent: e } = this.props, t = window.location.href === ue.De.STORE_BASE_URL + e.newshubUrl, n = km.IsCurrentlyActive(e), r = km.LocalizeDateString(e); return a.createElement(es.rU, { to: "/" + e.newshubUrl }, a.createElement("div", { className: (0, k.Z)(Gc().SpecialEvent, t && Gc().SpecialEventOnPage, n && Gc().SpecialEventActive) }, a.createElement("div", { className: Gc().SpecialEventTitle }, (0, g.Xx)(e.sLocToken)), r && a.createElement("div", { className: Gc().SpecialEventTime }, r))) } } class Tm extends a.Component { render() { const e = wm.GetVisibleSpecialEvents(); return 0 === e.length ? null : a.createElement("div", { className: Gc().SpecialEventListGroup }, a.createElement("div", { className: Gc().SpecialEventListTitle }, (0, g.Xx)("#Events_SpecialEvents")), a.createElement("div", { className: Gc().SpecialEventList }, e.map((e => a.createElement(Nm, { key: e.sLocToken, specialEvent: e }))))) } } var xm = n(90058), Dm = n.n(xm); class Fm extends a.Component { constructor() { super(...arguments), this.state = { bInScroll: !1, nStartXPos: 0, nStartScrollLeft: 0 }, this.m_hSlider = a.createRef() } OnPointerDown(e) { const t = this.m_hSlider.current; t && (t.scrollWidth <= t.clientWidth || (this.setState({ bInScroll: !1, nStartXPos: e.pageX - t.offsetLeft, nStartScrollLeft: t.scrollLeft }), t.addEventListener("pointerup", this.OnPointerUp), t.addEventListener("pointerleave", this.OnPointerUp), t.addEventListener("pointercapturelost", this.OnPointerUp), t.addEventListener("pointermove", this.OnPointerMove))) } OnPointerUp(e) { const t = this.m_hSlider.current; t && (this.state.bInScroll && (t.releasePointerCapture(e.pointerId), document.body.classList.remove(Dm().HorizontalScrollInDragForceCursor), this.props.dragClassName && t.classList.remove(this.props.dragClassName)), t.removeEventListener("pointerup", this.OnPointerUp), t.removeEventListener("pointerleave", this.OnPointerUp), t.removeEventListener("pointercapturelost", this.OnPointerUp), t.removeEventListener("pointermove", this.OnPointerMove)) } OnPointerMove(e) { const t = this.m_hSlider.current; if (!t) return; e.preventDefault(); const n = (e.pageX - t.offsetLeft - this.state.nStartXPos) * (this.props.scrollMultiplier || Fm.knDefaultScrollMultiplier), a = this.state.nStartScrollLeft - n, r = Math.abs(a - this.state.nStartScrollLeft), o = this.props.minDragPixels || Fm.knDefaultMinDragPixels; !this.state.bInScroll && r >= o && (t.scrollLeft = a, this.setState({ bInScroll: !0 }), document.body.classList.add(Dm().HorizontalScrollInDragForceCursor), this.props.dragClassName && t.classList.add(this.props.dragClassName), t.setPointerCapture(e.pointerId)), this.state.bInScroll && (t.scrollLeft = a) } render() { return a.createElement(Y.s, { ref: this.m_hSlider, className: this.props.className, onPointerDown: this.OnPointerDown }, this.props.children) } } Fm.knDefaultScrollMultiplier = 1, Fm.knDefaultMinDragPixels = 20, (0, r.gn)([m.ak], Fm.prototype, "OnPointerDown", null), (0, r.gn)([m.ak], Fm.prototype, "OnPointerUp", null), (0, r.gn)([m.ak], Fm.prototype, "OnPointerMove", null); var Gm = n(37846), Bm = n.n(Gm); function Lm() { return (0, g.Np)(new Date) } const Rm = e => { const t = ue.De.PUBLIC_SHARED_URL + "images/"; return a.createElement("div", { className: Bm().LegalFooter }, a.createElement("div", { className: Bm().mainmenu_links_china }, a.createElement("a", { href: ue.De.STORE_BASE_URL + "about" }, "关于蒸汽平台"), "  |  ", a.createElement("a", { href: ue.De.STORE_BASE_URL + "steam_refunds" }, "退款政策"), "  |  ", a.createElement("a", { href: ue.De.STORE_BASE_URL + "subscriber_agreement" }, "软件许可服务协议"), "  |  ", a.createElement("br", null), a.createElement("a", { href: ue.De.STORE_BASE_URL + "privacy_agreement" }, "个人信息保护政策"), "  |  ", a.createElement("a", { href: "https://about.steamchina.com/content_report.html", target: "_blank", rel: "noreferrer" }, "不良内容举报投诉"), "  |  ", a.createElement("a", { href: "https://about.steamchina.com/infringement_report.html", target: "_blank", rel: "noreferrer" }, "侵权投诉"), "  |  ", a.createElement("a", { href: "https://about.steamchina.com/parentguardianship_agreement.html", target: "_blank", rel: "noreferrer" }, "家长监护")), a.createElement("div", { className: Bm().mainmenu_line }), a.createElement("div", { className: Bm().mainmenu_logos_china }, a.createElement("a", { href: "https://www.wanmei.com/", target: "_blank", rel: "noreferrer" }, a.createElement("img", { className: Bm().mainmenu_china_pw_logo, src: t + "footer/pw_logo_gy.svg?v=1" })), a.createElement("a", { href: "https://valvesoftware.com", target: "_blank", rel: "noreferrer" }, a.createElement("img", { className: Bm().mainmenu_china_valve_logo, src: t + "footer/valve_logo_gy.svg?v=1" }))), a.createElement("div", { className: Bm().mainmenu_legal_china }, a.createElement("div", { className: Bm().mainmenu_legal_valvelegal }, `© ${Lm()} Valve Corporation 版权所有，完美世界已获授权`, a.createElement("br", null), "所有商标均属于其在美国或其他国家的拥有者。"), a.createElement("div", { className: Bm().mainmenu_legal_pwlegal }, "© 完美世界征奇(上海)多媒体科技有限公司 版权所有。", a.createElement("br", null), "增值电信业务经营许可证沪B2-20180406"))) }, Pm = e => a.createElement("div", { className: Bm().LegalFooter }, a.createElement("img", { src: ue.De.STORE_CDN_URL + "public/images/footerLogo_valve_new.png" }), a.createElement("div", { className: Bm().FooterLegal }, (0, g.Xx)("#Legal_Footer_WithYear", Lm()))), Om = e => ue.De.EREALM === s.IN.k_ESteamRealmChina ? a.createElement(Rm, null) : a.createElement(Pm, null); class Mm { constructor() { this.m_curDisplay = "desktop_navigation", this.m_fnGetRouterHistory = void 0 } static Get() { return Mm.s_GlobalStore || (Mm.s_GlobalStore = new Mm), Mm.s_GlobalStore } UpdateLocation(e, t) { this.m_fnGetRouterHistory = e; const n = $c(t, "optionpane"); if (n) switch (n) { case "event_filter": case "browse_curator": case "desktop_navigation": this.m_curDisplay != n && (this.m_curDisplay = n) } else "desktop_navigation" != this.m_curDisplay && (this.m_curDisplay = "desktop_navigation"); return this.m_curDisplay } SetDisplay(e) { this.m_curDisplay = e, this.m_fnGetRouterHistory && tm(this.m_fnGetRouterHistory(), "optionpane", "desktop_navigation" == this.m_curDisplay ? void 0 : this.m_curDisplay) } GetDisplay() { return this.m_curDisplay } ShowBrowseCurator(e) { dm() ? Mm.Get().SetDisplay("browse_curator") : (0, _e.AM)(a.createElement(Ms, null), (0, gt.RA)(e)) } } (0, r.gn)([u.LO], Mm.prototype, "m_curDisplay", void 0); let Hm = class extends a.Component { GetVisibilityStore() { return (0, ns.vY)().m_visibilityStore } OnEventTypeChange(e, t) { this.GetVisibilityStore().SetEventTypeGroupAllowed(e, t), this.props.fnOnFilterChange() } RenderEventTypeCheckbox(e) { const t = this.GetVisibilityStore().BIsEventTypeGroupAllowed(e); return a.createElement(cs.HP, { key: `group-${e}`, toolTipContent: (0, g.Xx)("#EventCalendar_EventTypeGroup_ttip_" + e), direction: "top" }, a.createElement("div", { className: (0, k.Z)(Gc().FilterOption, Gc().FilterEventType) }, a.createElement(i.ji, { label: (0, g.Xx)("#EventCalendar_EventTypeGroup_" + e), checked: t, onChange: t => this.OnEventTypeChange(e, t) }))) } OnGameSourceChange(e, t) { this.GetVisibilityStore().SetGameSourceAllowed(e, t), this.props.fnOnFilterChange() } RenderGameSourceCheckbox(e, t) { const n = this.GetVisibilityStore().BIsGameSourceAllowed(e) || e == as.Gf.k_ELibrary && this.GetVisibilityStore().BIsGameSourceAllowed(as.Gf.k_ERecent); return a.createElement(cs.HP, { key: `gs-${e}`, direction: "top", toolTipContent: t ? (0, g.Xx)("#EventCalendar_DisabledFilter_LoginPrompt") : (0, g.Xx)("#EventCalendar_GameSource_ttip_" + e) }, a.createElement("div", { className: (0, k.Z)(Gc().FilterOption, Gc().FilterGameSource) }, a.createElement(i.ji, { label: (0, g.Xx)("#EventCalendar_GameSource_" + e), checked: n, disabled: t, onChange: t => this.OnGameSourceChange(e, t) }))) } render() { const { bUserIsLoggedIn: e } = this.props, t = (0, ns.vY)(); let n = !0; if (t.BIsSingleGroupCalendar()) { let e = ts.sV.GetClanInfoByClanAccountID(t.GetSingleGroupID()); e && e.has_rss_feed && (n = !1) } else !t.BIsCollectionCalendar() || t.GetKey().collectionid != rs.B.Press && t.GetKey().collectionid != rs.B.Dev_Sales && t.GetKey().collectionid != rs.B.Dev_AssociatedPress || (n = !1); const r = is.m.Get().GetMutedSourceCount(), o = t.BIsSingleSourceMuted() || !t.BIsSingleSourceCalendar() && r > 0; return a.createElement(Um, { title: (0, g.Xx)("#EventCalendar_FiltersTitle"), description: (0, g.Xx)(t.BIsGlobalCalendar() ? "#EventCalendar_FiltersDescription" : "#EventCalendar_FiltersDescription_NonPersonalized") }, a.createElement("div", { className: Gc().FilterSection }, n && a.createElement("div", { className: Gc().FilterSubSection }, a.createElement("div", { className: Gc().FilterSubSectionTitle }, (0, g.Xx)("#EventCalendar_FilterSubSection_EventTypeGroups")), this.RenderEventTypeCheckbox(as.Ar.k_EEvents), this.RenderEventTypeCheckbox(as.Ar.k_EStreaming), this.RenderEventTypeCheckbox(as.Ar.k_EUpdates), this.RenderEventTypeCheckbox(as.Ar.k_EReleases), this.RenderEventTypeCheckbox(as.Ar.k_ESales), this.RenderEventTypeCheckbox(as.Ar.k_ENews)), Boolean(t.BIsGlobalCalendar()) && a.createElement("div", { className: Gc().FilterSubSection }, a.createElement("div", { className: Gc().FilterSubSectionTitle }, (0, g.Xx)("#EventCalendar_FilterSubSection_GameSources")), this.RenderGameSourceCheckbox(as.Gf.k_ELibrary, !e), a.createElement("div", { className: Gc().FilterSubOption }, this.RenderGameSourceCheckbox(as.Gf.k_ERecent, !e)), this.RenderGameSourceCheckbox(as.Gf.k_EWishlist, !e), os.JW.bIsFollowingEnabled && this.RenderGameSourceCheckbox(as.Gf.k_EFollowing, !e), this.RenderGameSourceCheckbox(as.Gf.k_ERecommended, !e), this.RenderGameSourceCheckbox(as.Gf.k_ESteam), os.JW.bIncludeFeaturedAsGameSource && this.RenderGameSourceCheckbox(as.Gf.k_EFeatured)), Boolean(os.JW.bIsCuratorsEnabled && (t.BIsGlobalCalendar() || t.BIsSingleAppCalendar())) && a.createElement("div", { className: Gc().FilterSubSection }, a.createElement("div", { className: Gc().FilterSubSectionTitle }, (0, g.Xx)("#EventCalendar_FilterSubSection_CuratorSources")), this.RenderGameSourceCheckbox(as.Gf.k_ECurator, !e), a.createElement("div", { className: Gc().FilterLink, onClick: Mm.Get().ShowBrowseCurator }, (0, g.Xx)("#EventCalendar_BrowseCurators"))), Boolean(t.BIsSingleSourceMuted()) && a.createElement("div", null, (0, g.Xx)(t.BIsSingleGroupCalendar() ? "#EventCalendar_SingleGroupIsMuted" : "#EventCalendar_SingleAppIsMuted"))), a.createElement("div", { className: Gc().SideBarFilterNavLinks }, o && a.createElement(p.ns, { className: Gc().MutedSourcesGroup, href: ue.De.STORE_BASE_URL + "account/emailoptout/app", bDisableContextMenu: !0 }, a.createElement("div", { className: Gc().FilterLink }, a.createElement(al.ffh, { muted: !0 }), (0, g.Xx)("#EventCalendar_ManageMutedSources"), a.createElement("div", { className: Gc().NumberDisplay }, r))), a.createElement(p.ns, { href: ue.De.STORE_BASE_URL + "account/preferences", bDisableContextMenu: !0 }, a.createElement("div", { className: Gc().FilterLink }, a.createElement(al.ZJH, null), (0, g.Xx)("#EventCalendar_ManageStorePref"))))) } }; Hm = (0, r.gn)([Q.Pi], Hm); const Um = e => a.createElement("div", { className: Gc().FilterControlPage }, a.createElement("div", { className: Gc().FiltersTitle }, e.title), Boolean(e.description) && a.createElement("div", { className: Gc().FiltersDescription }, e.description), e.children); let Xm = class extends a.Component { OpenFilterSettings(e) { Mm.Get().SetDisplay(e ? "event_filter" : "desktop_navigation") } render() { const { bUserIsLoggedIn: e, nDisappearingHeaderVisibleHeight: t, bIsCollapsed: n, fnToggleCollapsed: r, fnOnFilterChange: o } = this.props, i = dm(), l = a.createElement("div", { className: Gc().MobileCloseButton, onClick: () => { this.OpenFilterSettings(!1), r() } }, a.createElement(al.XBH, null)), s = n ? Math.max(0, t) : 0, c = i ? null : a.createElement("div", { onClick: r, className: Gc().CollapseButton }, a.createElement("div", { style: { marginTop: `${s}px` }, className: Gc().DesktopButton }, a.createElement(al.NP6, { angle: n ? 180 : 0 }))), m = i ? null : a.createElement("div", { onClick: () => this.OpenFilterSettings(!1), className: Gc().CollapseButton }, a.createElement("div", { style: { marginTop: `${s}px` }, className: Gc().DesktopButton }, a.createElement(al.XBH, null))), u = "desktop_navigation" != Mm.Get().GetDisplay() ? m : c, d = n ? null : { top: `${t}px` }; (0, ns.vY)(); let p; switch (Mm.Get().GetDisplay()) { case "event_filter": p = a.createElement(Hm, { bUserIsLoggedIn: e, fnOnFilterChange: o }); break; case "browse_curator": p = a.createElement(Hs, null); break; case "desktop_navigation": p = a.createElement(Vm, Object.assign({}, this.props, { fnOpenFilterSettings: this.OpenFilterSettings })) }return a.createElement(a.Fragment, null, a.createElement("div", { className: (0, k.Z)(Gc().SidebarContainer, n && Gc().SidebarCollapsed), style: d }, n ? u : a.createElement("div", { className: Gc().Sidebar }, l, u, a.createElement("div", { className: Gc().ControlPageContainer }, p)))) } }; (0, r.gn)([m.ak], Xm.prototype, "OpenFilterSettings", null), Xm = (0, r.gn)([Q.Pi], Xm); const Vm = (0, Q.Pi)((e => { const { bShouldIncludeLegalFooter: t, bShowUpcoming: n } = e, r = "Responsive_RequestMobileView" in window && window.Responsive_RequestMobileView; return a.createElement(a.Fragment, null, a.createElement("div", { className: Gc().SidebarBackground }, a.createElement(al.ui7, null)), a.createElement("div", { className: Gc().SidebarTitle }, (0, g.kQ)("#EventCalendar_Title", a.createElement("br", null))), a.createElement($m, { bIsUpcoming: n }), a.createElement(Tm, null), a.createElement("div", { className: Gc().SidePanelGameSearch }, a.createElement(Wm, { label: (0, g.Xx)("#EventCalendar_UniversalSearch") })), a.createElement(eu, { bIsUpcoming: n }), a.createElement("div", { className: Gc().FilterSettingsCtn }, a.createElement("div", { className: (0, k.Z)(Gc().FilterLink, Gc().OpenFilterSettings), onClick: () => e.fnOpenFilterSettings(!0) }, a.createElement(al.Zrf, null), (0, g.Xx)("#EventCalendar_EditFilters"))), r && a.createElement("div", { className: (0, k.Z)(Gc().SidebarLink, Gc().ForceResponsiveLink), onClick: r }, (0, g.Xx)("#EventCalendar_ShowResponsiveView")), t && a.createElement(Om, null)) })); let Wm = class extends a.Component { DecorateSearchSuggestion(e, t) { if (e && e.id) { let n = ""; return "curators" == e.corpus ? n = "group/" + e.id : "games" == e.corpus && ((0, vi.X)((0, s.mU)(e.type), "Unexpected app type " + e.type), n = "app/" + e.id), a.createElement(es.rU, { key: `suggestion-${e.id}`, to: `/${(0, Ys.x3)()}/${n}/` }, t) } return t } render() { return a.createElement(gs, { strLabel: this.props.label, fnOnSelected: () => { }, fnDecorateSuggestion: this.DecorateSearchSuggestion, rgCorporaToSearch: ["games", "curators"], focusOnMount: this.props.focusOnMount }) } }; Wm = (0, r.gn)([Q.Pi], Wm); const Zm = e => { const { strLabNumber: t, strForumURL: n } = e, r = ue.De.STORE_BASE_URL + "labs"; return a.createElement("div", { className: Gc().SideSteamLabsBannerCtn }, a.createElement("div", { className: Gc().SteamLabsIdentifiers }, a.createElement("a", { className: Gc().SteamLabsName, href: r, target: ue.De.IN_CLIENT ? void 0 : "_blank" }, (0, g.Xx)("#SteamLabs")), a.createElement("div", { className: Gc().SteamLabsNumber }, (0, g.Xx)("#SteamLabs_ExperimentNumber", t))), a.createElement("a", { className: Gc().SteamLabsButton, href: n, target: ue.De.IN_CLIENT ? void 0 : "_blank" }, a.createElement(al.IWH, null))) }; function zm(e, t) { const n = (0, rs.W)(e); if ((0, vi.X)(!!n, "Must define collection " + e), !n) return null; let a, r = (0, ns.vY)().GetCollectionID() == e; switch (e) { case rs.B.Default: r = (0, ns.vY)().BIsGlobalCalendar() && !t; break; case rs.B.Upcoming: r = (0, ns.vY)().BIsGlobalCalendar() && t, a = function () { if (!(0, ns.vY)().BIsGlobalCalendar()) return; if (!ue.L7.logged_in) return; const e = (0, ns.vY)().GetStoreInitializationTimestamp().getTime() / 1e3, t = (0, ns.vY)().GetCurrentlyLoadedEventCount(e); if (!t) return; return (0, ns.vY)().BHitEventHorizon("forward") ? String(t.nCount) : t.nCount + "+" }() }return { name: n.strName, shortName: n.strShortName, key: e, url: n.strUrl, subtitle: n.strSubtitle, onPage: r, count: a, bValveOnly: n.bIsValveOnly } } function qm(e, t) { const n = new Array; return n.push(zm(rs.B.Default, e)), n.push(zm(rs.B.Upcoming, e)), n } function Km(e, t) { const n = new Array; return n.push(zm(rs.B.Featured, e)), n.push(zm(rs.B.Steam, e)), os.JW.GetTimeNowWithOverride() < 1636653600 && n.push(zm(rs.B.Halloween, e)), n } function jm(e, t) { (0, ns.vY)().BIsCollectionCalendar(), (0, Ys.x3)(); const n = new Array; if (os.JW.bIsCuratorsEnabled && n.push(zm(rs.B.Press, e)), t) for (const e of wm.GetVisibleSpecialEvents()) { const t = !1; n.push({ name: (0, g.Xx)(e.sLocToken), url: e.newshubUrl, onPage: t, key: "event_" + e.sLocToken }) } return ue.L7.is_support && (n.push(zm(rs.B.Dev_All, e)), n.push(zm(rs.B.Dev_Sales, e)), n.push(zm(rs.B.Dev_AssociatedPress, e))), n } const Qm = e => { const { shortName: t, name: n, url: r, onPage: o, count: i, bValveOnly: l } = e.element; return !ue.L7.is_support && l ? null : a.createElement(es.rU, { to: "/" + r }, a.createElement("div", { className: (0, k.Z)(Gc().MobileNavButton, o && Gc().MobileNavButtonActive) }, t || n, i && a.createElement("div", { className: Gc().MobileNavCount }, i))) }; let Ym = class extends a.Component { constructor() { super(...arguments), this.state = { bSearchExpanded: !1 } } onExpandSearch(e) { this.setState({ bSearchExpanded: e }) } render() { const { bSearchExpanded: e } = this.state, t = [...qm(this.props.bIsUpcoming), ...Km(this.props.bIsUpcoming), ...jm(this.props.bIsUpcoming, !1)]; return a.createElement("div", { style: { transform: `translateY(${this.props.nTopOffset}px)` }, className: Gc().MobileNavBannerCtn }, a.createElement("div", { className: Gc().SettingsPanel, onClick: this.props.fnToggleCollapsed }, a.createElement(al.Zrf, null)), a.createElement("div", { className: (0, k.Z)(Gc().SettingsPanel, e && Gc().SearchExpanded), onClick: () => this.onExpandSearch(!e) }, a.createElement(al.YtI, null)), e && a.createElement(a.Fragment, null, a.createElement("div", { className: Gc().SearchDismiss, onClick: () => this.onExpandSearch(!1) }), a.createElement("div", { className: (0, k.Z)(Gc().SearchBox, e && Gc().SearchExpanded) }, a.createElement(Wm, { focusOnMount: !0 }))), a.createElement(Fm, { className: Gc().MobileNavHScroll }, a.createElement("div", { className: Gc().MobileNavBannerList }, t.map((e => a.createElement(Qm, { key: e.key, element: e })))))) } }; (0, r.gn)([m.ak], Ym.prototype, "onExpandSearch", null), Ym = (0, r.gn)([Q.Pi], Ym); const Jm = e => { const { key: t, name: n, subtitle: r, url: o, onPage: i, count: l, bValveOnly: s, icon: c } = e.element; return !ue.L7.is_support && s ? null : a.createElement(es.rU, { to: "/" + o }, a.createElement("div", { className: (0, k.Z)(Gc().NewsChannel, i && Gc().NewsChannelOnPage, s && ss().ValveOnlyBackground) }, Boolean(c) && a.createElement("img", { className: (0, k.Z)(Gc().NewsChannelIcon), src: c }), a.createElement("div", { className: Gc().NewsChannelText }, a.createElement("div", { className: Gc().NewsChannelTitle }, s && "(VO) ", n), r && a.createElement("div", { className: Gc().NewsChannelSubtitle }, r)), Boolean(void 0 !== l) && a.createElement("div", { className: Gc().NewsChannelCount }, l))) }; let $m = class extends a.Component { render() { const e = qm(this.props.bIsUpcoming), t = Km(this.props.bIsUpcoming); return a.createElement("div", { className: Gc().NewsChannelGroup }, a.createElement("div", { className: Gc().NewsChannelListTitle }, (0, g.Xx)("#EventCalendar_NewsChannels")), a.createElement("div", { className: Gc().NewsChannelList }, e.map((e => a.createElement(Jm, { key: e.key, element: e })))), a.createElement("div", { className: Gc().NewsChannelListTitle }, (0, g.Xx)("#EventCalendar_NewsChannels_Global")), a.createElement("div", { className: Gc().NewsChannelList }, t.map((e => a.createElement(Jm, { key: e.key, element: e }))))) } }; $m = (0, r.gn)([Q.Pi], $m); class eu extends a.Component { render() { const e = jm(this.props.bIsUpcoming, !1); return e && e.length > 0 ? a.createElement("div", { className: (0, k.Z)(Gc().NewsChannelGroup, Gc().DiscoverGroup) }, a.createElement("div", { className: Gc().NewsChannelListTitle }, (0, g.Xx)("#EventCalendar_NewsChannels_Discover")), a.createElement("div", { className: Gc().NewsChannelList }, e.map((e => a.createElement(Jm, { key: e.key, element: e }))))) : null } } var tu = n(53398); function nu(e, t) { const n = new Set(e); return t.forEach((e => { n.add(e) })), n } function au(e, t) { const n = new Set; return e.forEach((e => { t.has(e) && n.add(e) })), n } function ru(e, t) { const n = new Set(e); return t.forEach((t => { e.delete(t) })), n } function ou(e, t) { const n = e.values(); let a = n.next(); for (; !a.done;) { if (!t.has(a.value)) return !1; a = n.next() } return !0 } function iu(e) { const t = Object.assign({}, e); if (!t) return t; if (t.type === qi.PJ.k_EStoreFilterClauseTypeOr || t.type === qi.PJ.k_EStoreFilterClauseTypeAnd) { if (!t.rgSubexpressions || 0 === t.rgSubexpressions.length) return null; if (t.rgSubexpressions = t.rgSubexpressions.map((e => iu(e))), !t.bNegated && 1 === t.rgSubexpressions.length) return t.rgSubexpressions[0]; if (!t.bNegated) { let e = []; for (const n of t.rgSubexpressions) n.bNegated || n.type !== t.type ? e.push(n) : e = e.concat(n.rgSubexpressions); t.rgSubexpressions = e } } return t } class lu { constructor(e, t, n, a, r, o) { this.m_bServerSideFiltering = !1, this.m_bUnboundedScope = !1, this.m_nMinMatches = 1, this.m_facetSortKey = qi.bS.k_ESortFacetsByMatchCount, this.m_language = -1, this.m_nMinMatches = t, this.m_facetSortKey = n, this.m_language = a, this.m_bServerSideFiltering = r, this.m_bUnboundedScope = o, this.LoadPriceStops(), this.m_facets = [], e.forEach((e => { const t = []; e.facetValues.forEach((e => { t.push({ facetValue: e, bEnabled: Boolean(e.bEnabledByDefault), nPriceStopIndex: Boolean(this.m_priceStopInfo) ? this.m_priceStopInfo.length - 1 : void 0, matchingCapsulesSet: Boolean(e.matchingCapsules) ? new Set(e.matchingCapsules.map(vu)) : void 0, bDeactivated: !1, nMatchingFilteredCapsules: null, bHiddenBySearch: !1 }) })), this.m_facets.push({ facet: e, facetValues: t, matchingCapsules: null, matchingCapsulesInOtherFacets: null }) })), this.PruneFacets(), this.UpdateFilter(), this.m_bHasHideIgnoredItemsFacetValue = e.some((e => e.facetValues.some((e => e.type === qi.HL.k_EUserPreference && e.userPreference === qi.oL.k_EHideIgnoredItems)))), this.SortFacets() } BHasHideIgnoredItemsFacetValue() { return this.m_bHasHideIgnoredItemsFacetValue } GetFacets() { return this.m_facets } GetQuery() { return this.m_strQuery } GetURLParam() { return this.m_strURLParam } GetSelectedOptionsCount() { return this.m_nSelectedOptions } BIsUserPreferenceEnabled(e) { return this.m_userPreferences.has(e) } BIsAnyUserPreferenceEnabled() { return this.m_userPreferences.size > 0 } GetSortedFacets() { return this.m_sortedFacets } GetPriceStops() { return this.m_priceStopInfo } GetMatchCount() { return this.m_nFilteredCapsuleCount } Reset() { this.m_facets.forEach((e => { e.facetValues.forEach((e => { e.bEnabled = Boolean(e.facetValue.bEnabledByDefault) })) })), this.UpdateFilter() } SetFromURLParam(e) { if (e === this.m_strURLParam) return; this.m_facets.forEach((e => { e.facetValues.forEach((e => { e.bEnabled = Boolean(e.facetValue.bEnabledByDefault) })) })); ((null == e ? void 0 : e.split(",")) || []).forEach((e => { const t = e.split(":"), n = Number(t[0]); t[1].split("|").forEach((e => { if (e.includes("_")) { const t = e.split("_"); this.m_facets[n].facetValues[Number(t[0])].bEnabled = !0, this.m_facets[n].facetValues[Number(t[0])].nPriceStopIndex = Number(t[1]) } else this.m_facets[n].facetValues[Number(e)].bEnabled = !this.m_facets[n].facetValues[Number(e)].facetValue.bEnabledByDefault })) })), this.UpdateFilter() } SetPotentiallyVisibleCapsules(e) { this.m_potentiallyVisibleCapsules = new Set(e.map(vu)), this.PruneFacets() } SetFacetCounts(e) { if (this.m_facetCounts = new Map, e) for (const t of Object.keys(e)) this.m_facetCounts.set(Number(t), Number(e[t])) } SetMultiFacetCounts(e) { if (this.m_mapMultiFacetCounts = new Map, e) for (const t of Object.keys(e)) { const n = e[t], a = new Map; if ("discounted" === t) { let e = 0; for (const t of Object.keys(n)) e += Number(n[t]); a.set("true", e) } else for (const e of Object.keys(n)) a.set(e, Number(n[e])); this.m_mapMultiFacetCounts.set(t, a) } } FilterCapsules(e) { return null == this.m_matchingReferencedCapsules ? e : e.filter((e => this.m_matchingReferencedCapsules.has(vu(e)))) } SetSolrMatchCount(e) { this.m_nSolrMatchCount = e } SetFacetValueSearchString(e, t) { var n; for (const e of this.m_facets) for (const t of e.facetValues) t.bHiddenBySearch = !1; if (!e) return; const a = e.toLocaleLowerCase().trim(); if (0 !== a.length) for (const e of this.m_facets) for (const r of e.facetValues) { ((null === (n = du(r.facetValue, t)) || void 0 === n ? void 0 : n.toLocaleLowerCase().trim()) || "").includes(a) || (r.bHiddenBySearch = !0) } } UpdateFilter() { this.UpdateMatchingReferencedCapsules(), this.UpdateQuery(), this.UpdateURLParam(), this.UpdateSelectedOptionsCount(), this.UpdateUserPreferenceFilters() } UpdateMatchingReferencedCapsules() { this.m_facets.forEach((e => { e.matchingCapsules = null, e.facetValues.some((e => null == e.matchingCapsulesSet)) || e.facetValues.forEach((t => { if (t.bEnabled) if (null == e.matchingCapsules) e.matchingCapsules = t.matchingCapsulesSet; else { const n = e.facet.logical_and ? au : nu; e.matchingCapsules = n(e.matchingCapsules, t.matchingCapsulesSet) } })) })), this.m_facets.forEach((e => { const t = this.m_facets.filter((t => t !== e && null != t.matchingCapsules)); e.matchingCapsulesInOtherFacets = null, t.forEach((t => { null == e.matchingCapsulesInOtherFacets ? e.matchingCapsulesInOtherFacets = t.matchingCapsules : e.matchingCapsulesInOtherFacets = au(e.matchingCapsulesInOtherFacets, t.matchingCapsules) })) })), this.m_matchingReferencedCapsules = null, this.m_facets.forEach((e => { null != e.matchingCapsules && (null == this.m_matchingReferencedCapsules ? this.m_matchingReferencedCapsules = e.matchingCapsules : this.m_matchingReferencedCapsules = au(this.m_matchingReferencedCapsules, e.matchingCapsules)) })) } static BFacetHasEnabledOptTags(e) { for (const t of e.facetValues) if (t.bEnabled && null != t.facetValue.filter) for (const e of t.facetValue.filter.clauses) for (const t of e.or_tags) if (t.startsWith("[Opt]")) return !0; return !1 } UpdateQuery() { let e = { type: qi.PJ.k_EStoreFilterClauseTypeAnd, rgSubexpressions: new Array }; this.m_facets.forEach((t => { if (lu.BFacetHasEnabledOptTags(t)) return; const n = { type: t.facet.logical_and ? qi.PJ.k_EStoreFilterClauseTypeAnd : qi.PJ.k_EStoreFilterClauseTypeOr, rgSubexpressions: new Array }; t.facetValues.forEach((e => { if (e.bEnabled && Boolean(e.facetValue.rgStoreTagFilter)) { if (e.facetValue.type === qi.HL.k_EUserPreference) return; const t = Object.assign({}, e.facetValue.rgStoreTagFilter); e.facetValue.type === qi.HL.k_EPrice && (t.value = Boolean(this.m_priceStopInfo) ? this.m_priceStopInfo[e.nPriceStopIndex].price : void 0), (e.facetValue.type !== qi.HL.k_EPrice || Boolean(this.m_priceStopInfo)) && n.rgSubexpressions.push(t) } })), 0 !== n.rgSubexpressions.length && e.rgSubexpressions.push(n) })), e = iu(e), this.m_strQuery = Boolean(e) ? JSON.stringify(e) : "" } UpdateURLParam() { const e = []; this.m_facets.forEach(((t, n) => { const a = []; if (t.facetValues.forEach(((e, t) => { e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) && (e.facetValue.type === qi.HL.k_EPrice ? a.push(t + "_" + e.nPriceStopIndex) : a.push(t.toString())) })), 0 === a.length) return; const r = a.join("|"); e.push(n + ":" + r) })), this.m_strURLParam = e.length > 0 ? e.join(",") : void 0 } UpdateSelectedOptionsCount() { this.m_nSelectedOptions = 0, this.m_facets.forEach((e => { e.facetValues.forEach((e => { e.bEnabled !== Boolean(e.facetValue.bEnabledByDefault) && ++this.m_nSelectedOptions })) })) } UpdateUserPreferenceFilters() { this.m_userPreferences = new Set, this.m_facets.forEach((e => { e.facetValues.forEach((e => { e.facetValue.type === qi.HL.k_EUserPreference && e.bEnabled && this.m_userPreferences.add(e.facetValue.userPreference) })) })) } PruneFacets() { this.m_prunedFacets = [], this.m_bServerSideFiltering || !this.m_potentiallyVisibleCapsules ? this.m_facets.forEach((e => { e.facetValues.forEach((e => { e.bDeactivated = !1, e.nMatchingFilteredCapsules = null })), this.m_prunedFacets.push({ facet: e, facetValues: e.facetValues }) })) : this.m_facets.forEach((e => { let t = []; e.facetValues.forEach((e => { let n = !1; if (null != e.matchingCapsulesSet) { const t = au(e.matchingCapsulesSet, this.m_potentiallyVisibleCapsules); (t.size < this.m_nMinMatches || this.m_potentiallyVisibleCapsules.size <= t.size) && (n = !0) } n || (e.bDeactivated = !1, e.nMatchingFilteredCapsules = null, t.push(e)) })), t.length > 0 && this.m_prunedFacets.push({ facet: e, facetValues: t }) })), this.PruneFacetsForCurrentUser() } PruneFacetsForCurrentUser() { this.m_prunedFacets.forEach((e => { e.facetValues = e.facetValues.filter((e => e.facetValue.type === qi.HL.k_EContentDescriptor ? !ml.jg.Get().BIsLoaded() || ml.jg.Get().BIncludesContentDescriptor(e.facetValue.contentDescriptor) : e.facetValue.type === qi.HL.k_ELanguage ? !ml.jg.Get().BIsLoaded() || 0 !== ml.jg.Get().GetSecondaryLanguages().size && (ml.jg.Get().GetPrimaryLanguage() === e.facetValue.language || ml.jg.Get().GetSecondaryLanguages().has(e.facetValue.language)) : e.facetValue.type !== qi.HL.k_EUserPreference || ue.L7.logged_in && ml.jg.Get().BIsLoaded())) })), this.m_prunedFacets = this.m_prunedFacets.filter((e => e.facetValues.length > 0)) } UpdateMatchingFilteredCapsuleCounts() { this.m_bServerSideFiltering ? this.m_prunedFacets.forEach((e => { e.facetValues.forEach((e => { e.nMatchingFilteredCapsules = this.GetMatchCountForFacetValue(e) })) })) : this.m_prunedFacets.forEach((e => { e.facetValues.forEach((e => { this.m_filteredCapsules && e.matchingCapsulesSet ? e.nMatchingFilteredCapsules = au(this.m_filteredCapsules, e.matchingCapsulesSet).size : e.nMatchingFilteredCapsules = null })) })) } GetMatchCountForFacetValue(e) { var t, n, a, r, o, i, l, c, m, u, d, p, _, g, h, v, S, E, b, C; if (this.m_mapMultiFacetCounts) { const C = "402", y = "401", f = "9", A = "28", I = "41", k = "42", w = "43", N = "44", T = "37"; switch (e.facetValue.type) { case qi.HL.k_ESaleTagFilter: case void 0: if ((null === (t = e.facetValue.rgStoreTagFilter) || void 0 === t ? void 0 : t.type) === qi.PJ.k_EStoreFilterClauseTypeStoreTag && e.facetValue.nAtomicStoreTagID) return null === (n = this.m_mapMultiFacetCounts.get("tagidset")) || void 0 === n ? void 0 : n.get(e.facetValue.nAtomicStoreTagID.toString()); if ((null === (a = e.facetValue.rgStoreTagFilter) || void 0 === a ? void 0 : a.type) === qi.PJ.k_EStoreFilterClauseTypeFeatureTag) switch (e.facetValue.rgStoreTagFilter.value) { case "linux": return null === (r = this.m_mapMultiFacetCounts.get("platform_linux")) || void 0 === r ? void 0 : r.get("true"); case "mac": return null === (o = this.m_mapMultiFacetCounts.get("platform_mac")) || void 0 === o ? void 0 : o.get("true"); case "vr": return null === (i = this.m_mapMultiFacetCounts.get("vrsupport")) || void 0 === i ? void 0 : i.get(C); case "vr only": return null === (l = this.m_mapMultiFacetCounts.get("vrsupport")) || void 0 === l ? void 0 : l.get(y); case "full controller": return null === (c = this.m_mapMultiFacetCounts.get("category")) || void 0 === c ? void 0 : c.get(A); case "remote play": return Math.max(null === (m = this.m_mapMultiFacetCounts.get("category")) || void 0 === m ? void 0 : m.get(I), null === (u = this.m_mapMultiFacetCounts.get("category")) || void 0 === u ? void 0 : u.get(k), null === (d = this.m_mapMultiFacetCounts.get("category")) || void 0 === d ? void 0 : d.get(w), null === (p = this.m_mapMultiFacetCounts.get("category")) || void 0 === p ? void 0 : p.get(N)); case "remote play together": return null === (_ = this.m_mapMultiFacetCounts.get("category")) || void 0 === _ ? void 0 : _.get(N); case "free": return null === (g = this.m_mapMultiFacetCounts.get("genre")) || void 0 === g ? void 0 : g.get(T); case "discounted": return null === (h = this.m_mapMultiFacetCounts.get("discounted")) || void 0 === h ? void 0 : h.get("true"); case "coop": return null === (v = this.m_mapMultiFacetCounts.get("category")) || void 0 === v ? void 0 : v.get(f) }break; case qi.HL.k_EAppType: return null === (S = this.m_mapMultiFacetCounts.get("type")) || void 0 === S ? void 0 : S.get(e.facetValue.appType); case qi.HL.k_ELanguage: const x = (0, s.j_)(e.facetValue.language); return null === (E = this.m_mapMultiFacetCounts.get("supportedlang_" + x)) || void 0 === E ? void 0 : E.get("true"); case qi.HL.k_EContentDescriptor: return null === (b = this.m_mapMultiFacetCounts.get("descids")) || void 0 === b ? void 0 : b.get(e.facetValue.contentDescriptor.toString()) } } else if (this.m_facetCounts) return null === (C = this.m_facetCounts) || void 0 === C ? void 0 : C.get(e.facetValue.nAtomicStoreTagID); return null } DeactivateFacetValues() { this.m_prunedFacets.forEach((e => { e.facetValues.forEach((e => { e.bDeactivated = !1 })) })), this.m_bServerSideFiltering ? this.m_prunedFacets.forEach((e => { e.facetValues.forEach((e => { let t = e.nMatchingFilteredCapsules; e.bDeactivated = !(e.bEnabled || t || e.facetValue.type === qi.HL.k_EUserPreference) })) })) : this.m_prunedFacets.forEach((e => { e.facetValues.forEach((t => { if (null != t.matchingCapsulesSet && !t.bEnabled) if (null != e.facet.matchingCapsules) { let n = t.matchingCapsulesSet; null != e.facet.matchingCapsulesInOtherFacets && (n = au(n, e.facet.matchingCapsulesInOtherFacets)), Boolean(this.m_filteredCapsules) && ou(n, this.m_filteredCapsules) && (t.bDeactivated = !0) } else Boolean(this.m_filteredCapsules) && (!function (e, t) { if (!Boolean(e) && Boolean(t) || Boolean(e) && !Boolean(t)) return !0; if (!Boolean(e) && !Boolean(t)) return !1; const n = e.values(); let a = n.next(); for (; !a.done;) { if (t.has(a.value)) return !1; a = n.next() } return !0 }(t.matchingCapsulesSet, this.m_filteredCapsules) ? ou(this.m_filteredCapsules, t.matchingCapsulesSet) && (t.bDeactivated = !0) : t.bDeactivated = !0) })) })) } SortFacets() { this.UpdateMatchingFilteredCapsuleCounts(), this.DeactivateFacetValues(), this.m_sortedFacets = [], this.m_prunedFacets.forEach((e => { const t = e.facetValues.slice(); t.sort(((e, t) => { if (e.facetValue.type === qi.HL.k_EPrice && t.facetValue.type !== qi.HL.k_EPrice) return 1; if (e.facetValue.type !== qi.HL.k_EPrice && t.facetValue.type == qi.HL.k_EPrice) return -1; if (e.bEnabled !== t.bEnabled) return t.bEnabled ? 1 : -1; if (e.bDeactivated !== t.bDeactivated) return e.bDeactivated ? 1 : -1; if (!e.bEnabled && !e.bDeactivated) { if (e.facetValue.type === qi.HL.k_ELanguage && t.facetValue.type === qi.HL.k_ELanguage) return t.facetValue.language === ml.jg.Get().GetPrimaryLanguage() ? 1 : -1; const n = e.nMatchingFilteredCapsules || 0, a = t.nMatchingFilteredCapsules || 0; if (this.m_facetSortKey === qi.bS.k_ESortFacetsByMatchCount && n !== a) return a - n } if (this.m_facetSortKey === qi.bS.k_ESortFacetsByName) { const n = g.LZ.GetWithFallback(e.facetValue.name, this.m_language), a = g.LZ.GetWithFallback(t.facetValue.name, this.m_language); return n.localeCompare(a) } return 0 })), this.m_sortedFacets.push(Object.assign(Object.assign({}, e), { facetValues: t })) })) } LoadPriceStops() { var e, t, n; return (0, r.mG)(this, void 0, void 0, (function* () { const a = (0, ue.ip)("pricestops", "application_config"); if (a) this.m_priceStopInfo = a; else { const a = ue.De.STORE_BASE_URL + "saleaction/ajaxgetpricestops"; let r; try { if (r = yield Ql().get(a), 1 !== (null === (e = null == r ? void 0 : r.data) || void 0 === e ? void 0 : e.success)) return console.error("Unable to load price stop data: ", null === (t = null == r ? void 0 : r.data) || void 0 === t ? void 0 : t.success), null } catch (e) { return console.error("Unable to load price stop data: ", null === (n = null == r ? void 0 : r.data) || void 0 === n ? void 0 : n.success), null } this.m_priceStopInfo = r.data.rgPriceStops } this.m_priceStopInfo[0].price = 0 })) } ApplyOptInFilters(e) { if (this.m_setCapsulesRemovedByOptInFilters = new Set, !this.m_bServerSideFiltering) return e; if (this.m_bUnboundedScope) return e; let t; for (const e of this.m_facets) lu.BFacetHasEnabledOptTags(e) && (t = null == t ? e.matchingCapsules : au(t, e.matchingCapsules)); if (null == t) return e; const n = []; for (const a of e) { const e = vu(a); t.has(e) ? n.push(a) : this.m_setCapsulesRemovedByOptInFilters.add(e) } return n } ApplyPriceFilters(e) { if (this.m_setCapsulesRemovedByPriceFilters = new Set, this.m_bServerSideFiltering) return e; let t; for (const e of this.m_facets) { for (const n of e.facetValues) if (n.facetValue.type === qi.HL.k_EPrice) { t = n; break } if (null != t) break } if (null == t) return e; if (null == this.m_priceStopInfo) return e; const n = null != t.nPriceStopIndex ? t.nPriceStopIndex : this.m_priceStopInfo.length - 1; if (n === this.m_priceStopInfo.length - 1) return e; const a = this.m_priceStopInfo[n].price, r = []; for (const t of e) { let e = !1, n = 0; const o = ol.Z.Get().GetStoreItem(t.id, (0, Yl.TM)(t.type)); o && (n = o.GetBestPurchasePriceInCents()), e ? n <= 100 * a ? r.push(t) : this.m_setCapsulesRemovedByPriceFilters.add(vu(t)) : r.push(t) } return r } ApplyUserPreferenceFilters(e, t, n) { return (0, r.mG)(this, void 0, void 0, (function* () { const a = this.BHasHideIgnoredItemsFacetValue(), r = this.BIsUserPreferenceEnabled(qi.oL.k_EHideOwnedItems), o = this.BIsUserPreferenceEnabled(qi.oL.k_EHideWishlistedItems), i = this.BIsUserPreferenceEnabled(qi.oL.k_EHideIgnoredItems); let l = []; const s = yield (0, $l.MN)(e, t, r, o, a, i, l); if (this.m_setCapsulesRemovedByUserPreferenceFilters = new Set(l.map(vu)), n) for (const e of l) n.push(e); return s })) } UpdateMatchCount(e, t) { this.m_bServerSideFiltering || (this.m_filteredCapsules = null, null != this.m_potentiallyVisibleCapsules && (this.m_filteredCapsules = this.m_potentiallyVisibleCapsules, null != this.m_matchingReferencedCapsules && (this.m_filteredCapsules = au(this.m_filteredCapsules, this.m_matchingReferencedCapsules)), null != this.m_setCapsulesRemovedByPriceFilters && (this.m_filteredCapsules = ru(this.m_filteredCapsules, this.m_setCapsulesRemovedByPriceFilters)), null != this.m_setCapsulesRemovedByUserPreferenceFilters && (this.m_filteredCapsules = ru(this.m_filteredCapsules, this.m_setCapsulesRemovedByUserPreferenceFilters)))), e ? this.m_bServerSideFiltering ? (this.m_nFilteredCapsuleCount = this.m_nSolrMatchCount, this.m_nFilteredCapsuleCount -= this.m_setCapsulesRemovedByOptInFilters.size, this.m_nFilteredCapsuleCount -= this.m_setCapsulesRemovedByUserPreferenceFilters.size) : this.m_nFilteredCapsuleCount = this.m_filteredCapsules.size : this.m_nFilteredCapsuleCount = t, this.SortFacets() } } (0, r.gn)([u.LO], lu.prototype, "m_facets", void 0), (0, r.gn)([u.LO], lu.prototype, "m_priceStopInfo", void 0), (0, r.gn)([u.LO], lu.prototype, "m_sortedFacets", void 0), (0, r.gn)([u.aD], lu.prototype, "Reset", null), (0, r.gn)([u.aD], lu.prototype, "SetFromURLParam", null), (0, r.gn)([u.aD], lu.prototype, "SetPotentiallyVisibleCapsules", null), (0, r.gn)([u.aD], lu.prototype, "SetFacetCounts", null), (0, r.gn)([u.aD], lu.prototype, "SetMultiFacetCounts", null), (0, r.gn)([u.aD], lu.prototype, "SetSolrMatchCount", null), (0, r.gn)([u.aD], lu.prototype, "SetFacetValueSearchString", null), (0, r.gn)([u.aD], lu.prototype, "UpdateMatchCount", null); const su = (0, Q.Pi)((e => { var t; const { language: n, linkColor: r, headingColor: o, background: l, styleOverrides: s, facetFilterState: c, fnOnUpdateFilter: m } = e, [d, p] = (0, a.useState)(""), _ = function (e) { const [t, n] = (0, a.useState)(); return (0, a.useEffect)((() => { var t, a; const r = []; for (const n of e) for (const e of n.facet.facetValues) if ((null === (t = e.name) || void 0 === t ? void 0 : t.length) > 0 && (null === (a = e.name[0]) || void 0 === a ? void 0 : a.startsWith("#tagid_"))) { const t = parseInt(e.name[0].substring(7)); t > 0 && r.push(t) } Jl.OT.Get().QueueMultipleTagLoads(r).then(n) }), [e]), t }(c.GetFacets()); let h, v; (null == s ? void 0 : s.menu) || (h = { background: l, color: r || "white" }), (null == s ? void 0 : s.menuTitle) || (v = { borderBottom: "0px solid " + (r || "white"), color: o || "white" }); const S = (0, a.useRef)(null), E = () => { c.UpdateFilter(), m() }; return 1 !== _ ? null : a.createElement("div", { ref: S, className: (null == s ? void 0 : s.menu) || tu.FacetedBrowseControls, style: h }, a.createElement("div", { className: (null == s ? void 0 : s.menuTitle) || tu.FacetMenuTitle, style: v }, (0, g.Xx)("#FacetedBrowse_Heading")), Boolean(c) && a.createElement("div", { className: (null == s ? void 0 : s.matchCount) || tu.FacetedBrowseMatchCount }, null != c.GetMatchCount() && (0, g.kb)("#FacetedBrowse_MatchCount", c.GetMatchCount())), a.createElement("div", { className: tu.FacetValueSearch }, a.createElement(i.II, { type: "text", value: d, placeholder: (0, g.Xx)("#FacetedBrowse_SearchFacetValues"), onChange: e => { p(e.target.value), c.SetFacetValueSearchString(e.target.value, n) }, bShowClearAction: !0 })), a.createElement(cu, Object.assign({ facets: null == c ? void 0 : c.GetSortedFacets(), onUpdateFilter: E }, e)), a.createElement("div", { className: (null == s ? void 0 : s.reset) || tu.FacetedBrowseReset }, a.createElement("a", { onClick: e => { e.preventDefault(), (0, u.z)((() => { c.Reset(), m() })) } }, (0, g.Xx)("#FacetedBrowse_Reset"))), null === (t = null == c ? void 0 : c.GetSortedFacets()) || void 0 === t ? void 0 : t.map(((t, r) => a.createElement(uu, { key: "facet_" + g.LZ.GetWithFallback(t.facet.facet.name, n) + "_" + r, facet: t, facetFilterState: c, nFacetIndex: r, language: n, nMaxFacetValues: e.nMaxFacetValues, highlightedFacetColor: e.highlightedFacetColor, linkColor: e.linkColor, headingColor: e.headingColor, fnOnUpdateFilter: E, styleOverrides: s, bSearching: (null == d ? void 0 : d.length) > 0 }))), a.createElement("div", { className: (null == s ? void 0 : s.reset) || tu.FacetedBrowseReset }, a.createElement("a", { onClick: e => { e.preventDefault(); const t = S.current.getBoundingClientRect().top + window.scrollY; window.scrollTo(0, t) } }, (0, g.Xx)("#FacetedBrowse_ReturnToTop"))), a.createElement("div", { className: tu.FacetedBrowseFeedbackLink }, a.createElement(Zm, { strLabNumber: "012", strForumURL: ue.De.COMMUNITY_BASE_URL + "groups/SteamLabs/discussions/14/" }))) })), cu = (0, Q.Pi)((e => { const { facets: t } = e, [n, r] = (0, a.useState)([]); return (0, a.useEffect)((() => { const e = []; if (t) for (const n of t) for (const t of n.facetValues) t.bEnabled && t.facetValue.type !== qi.HL.k_EPrice && e.push(t); r(e) }), [t]), n ? a.createElement(a.Fragment, null, a.createElement("div", { className: tu.SelectedFacetValuesTitle }, (0, g.Xx)("#FacetedBrowse_SelectedFacetValues")), a.createElement("div", { className: tu.SelectedFacetValuesList }, n.map((t => a.createElement(mu, Object.assign({ key: t.facetValue.unique_id, facetValue: t }, e)))))) : null })), mu = (0, Q.Pi)((e => { const { facetValue: t, language: n, onUpdateFilter: r } = e; return a.createElement("a", { className: tu.SelectedFacetValueCtn, onClick: e => { e.preventDefault(), t.bEnabled = !1, r && r() } }, a.createElement(al.XBH, null), a.createElement("span", { className: tu.SelectedFacetValue }, du(t.facetValue, n))) })), uu = (0, Q.Pi)((e => { const { language: t, linkColor: n, headingColor: r, facet: o, nFacetIndex: i, styleOverrides: l, bSearching: s } = e, [c, m] = (0, a.useState)(Boolean(0 !== i)), [u, d] = (0, a.useState)(!1); if (o.facetValues.every((e => e.bHiddenBySearch))) return null; let p; (null == l ? void 0 : l.facetName) || (p = { borderBottom: "0px solid " + (n || "white"), color: r || "white" }); const _ = (0, g.Xx)(g.LZ.GetWithFallback(o.facet.facet.name, t)); let h = e.nMaxFacetValues; const v = o.facetValues.reduce(((e, t) => e + (t.bDeactivated ? 1 : 0)), 0); h = Math.min(h, o.facetValues.length - v); const S = o.facetValues.reduce(((e, t) => e + (t.bEnabled || t.facetValue.type === qi.HL.k_EPrice ? 1 : 0)), 0), E = o.facetValues.some((e => !e.bEnabled && !e.bDeactivated)); h = Math.max(h, S + (E ? 1 : 0)); const b = o.facetValues.length > h; let C = !b || u || s ? o.facetValues : o.facetValues.slice(0, h); c && !s && (C = C.filter((e => e.bEnabled))); const y = C.every((e => { var n; return !Boolean(e.facetValue.subtitle) || (null === (n = g.LZ.GetWithFallback(e.facetValue.subtitle, t)) || void 0 === n ? void 0 : n.length) <= 0 })); return a.createElement("div", { className: tu.Facet }, a.createElement("div", { className: tu.FacetTitleCtn, onClick: () => m(!c) }, a.createElement("div", { className: (null == l ? void 0 : l.facetName) || tu.FacetTitle, style: p }, _), a.createElement(al.ret, { angle: c ? 270 : 0 })), C.map(((t, n) => a.createElement(pu, Object.assign({ key: "facet_" + _ + "_value_" + n, facetValue: t, styleOverrides: l, showMatchCounts: y }, e)))), !c && b && !s && a.createElement("div", { className: (null == l ? void 0 : l.showMore) || tu.FacetValueShowMore, onClick: () => d(!u) }, u ? (0, g.Xx)("#Bbcode_Expand_ShowMore_Expanded") : (0, g.Xx)("#Bbcode_Expand_ShowMore_Collapsed"))) })); function du(e, t) { var n, a; const r = e.name; if ((null == r ? void 0 : r.length) > 0 && (null === (n = r[0]) || void 0 === n ? void 0 : n.startsWith("#tagid_"))) { const e = parseInt(r[0].substring(7)); if (e > 0) return null === (a = Jl.OT.Get().GetTagID(e)) || void 0 === a ? void 0 : a.name } return (0, g.Xx)(g.LZ.GetWithFallback(r, t)) } const pu = (0, Q.Pi)((e => { const { language: t, highlightedFacetColor: n, linkColor: r, facetValue: o, facetFilterState: l, styleOverrides: s, fnOnUpdateFilter: c, showMatchCounts: m } = e, d = du(o.facetValue, t); if (o.facetValue.type === qi.HL.k_EPrice && null == l.m_priceStopInfo) return null; if (o.bHiddenBySearch) return null; const p = o.bEnabled, _ = o.bDeactivated, h = { color: n || "darkorange", borderLeft: "4px solid " + (n || "darkorange") }; let v, S; (null == s ? void 0 : s.facetValue) || (v = p ? h : {}), (null == s ? void 0 : s.facetValueName) || (S = { color: r || "white" }); const E = e => { e.preventDefault(), (0, u.z)((() => { _ || (o.bEnabled = !o.bEnabled, c()) })) }, b = e => { (0, u.z)((() => { o.nPriceStopIndex = Math.floor(e) })) }, C = () => { (0, u.z)((() => { o.bEnabled = Boolean(o.nPriceStopIndex !== l.m_priceStopInfo.length - 1), c() })) }, y = d, f = Boolean(o.facetValue.subtitle) ? g.LZ.GetWithFallback(o.facetValue.subtitle, t) : null; if (o.facetValue.type === qi.HL.k_EPrice) { const e = null != o.nPriceStopIndex ? o.nPriceStopIndex : l.m_priceStopInfo.length - 1; return a.createElement(i.DS, { className: tu.FacetValuePriceSlider, min: 0, max: l.m_priceStopInfo.length - 1, value: e, label: l.m_priceStopInfo[e].label, onChange: b, onChangeComplete: C }) } { const e = (null == s ? void 0 : s.facetValue) || tu.FacetValue, t = (null == s ? void 0 : s.facetValueEnabled) || tu.FacetValueEnabled, n = (null == s ? void 0 : s.facetValueDeactivated) || tu.FacetValueDeactivated, r = (null == s ? void 0 : s.facetValueName) || tu.FacetValueName; return a.createElement("div", { className: p ? t : _ ? n : e, style: v }, a.createElement("a", { className: r, style: S, onClick: E, href: "" }, y), m && !o.bDeactivated && Boolean(o.nMatchingFilteredCapsules) && a.createElement("div", { className: (null == s ? void 0 : s.facetValueDesc) || tu.FacetValueDescription }, o.nMatchingFilteredCapsules), Boolean(f) && a.createElement("div", { className: (null == s ? void 0 : s.facetValueDesc) || tu.FacetValueDescription }, f)) } })), _u = (0, Q.Pi)((e => { const { background: t, labelColor: n, headingColor: r, buttonColor: o, highlightedFacetColor: i } = e, [l, s] = (0, a.useState)(!1); return a.createElement("div", { className: tu.FacetedBrowseCtn }, hu() && a.createElement(gu, { buttonColor: o, bShowControls: l, fnOnToggleControls: () => { s(!l) } }), a.createElement("div", { className: tu.FacetedBrowseInnerCtn }, l || !hu() ? a.createElement(su, Object.assign({ highlightedFacetColor: i, linkColor: n, headingColor: r, background: t }, e)) : null, a.createElement("div", { className: tu.FacetedBrowseItems }, e.children))) })), gu = (0, Q.Pi)((e => { const { buttonColor: t, bShowControls: n, fnOnToggleControls: r } = e, o = { color: t || "white" }; return a.createElement("div", { className: tu.FacetedBrowsePopupCtn, onClick: () => r() }, n ? a.createElement(a.Fragment, null, a.createElement("div", { className: tu.FacetedBrowsePopup, style: o }, a.createElement(al.XBH, null)), a.createElement("div", { className: tu.FacetedBrowsePopupLabel }, (0, g.Xx)("#Button_Close"))) : a.createElement(a.Fragment, null, a.createElement("div", { className: tu.FacetedBrowsePopup, style: o }, a.createElement(al.wn$, null)), a.createElement("div", { className: tu.FacetedBrowsePopupLabel }, (0, g.Xx)("#FacetedBrowse_Heading")))) })), hu = () => window.innerWidth < parseInt(tu.strWidescreenWidth); (0, Q.Pi)((e => { const { section: t } = e; return a.createElement(_u, Object.assign({ labelColor: t.label_color, headingColor: t.heading_color, buttonColor: t.label_color, highlightedFacetColor: t.highlighted_facet_color }, e)) })); function vu(e) { return e.type + e.id } class Su { constructor() { this.m_rgMyWishlistOnSale = null, this.m_rgMyDLCForGamesInLibraryOnSale = null, this.m_rgMySoundtracksForGamesInLibraryOnSale = null, this.m_rgMyInteractiveRecOnSale = null, this.m_rgMySaleTags = null, this.m_rgMyTagRecommendation = null, this.m_mapSaleGameListsByFlavor = new Map, this.m_mapPromisesByFlavor = new Map, this.m_rgTopN = null, this.m_rgAllDiscounted = null, this.m_mapMyWishlistInContentHub = new Map } GetDiscounts(e) { return (0, r.mG)(this, void 0, void 0, (function* () { try { let t = "discount"; t += e.tagid ? "_tag" + e.tagid : "", t += e.categoryid ? "_categoryid" + e.categoryid : "", t += e.top_n_sellers ? "_ntop" + e.top_n_sellers : "", t += e.max_results ? "_max" + e.max_results : "", t += e.random_across_set ? "_rand" : ""; let n = (0, ue.ip)(t, "application_config"); if (!n) { n = (yield Ql().get(ue.De.STORE_BASE_URL + "actions/ajaxgetdiscounts", { params: Object.assign(Object.assign({}, e), { cc: ue.De.COUNTRY }) })).data } return { rgAppIDs: n, rgSolrFacetCounts: null } } catch (e) { const t = (0, Cs.l)(e); console.error("GetDiscounts hit error: " + t.strErrorMsg, t) } return { rgAppIDs: [], rgSolrFacetCounts: null } })) } GetTopN(e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgTopN && (this.m_rgTopN = (0, ue.ip)("top_n", "application_config"), !this.m_rgTopN)) { const n = 500, a = (yield this.GetDiscounts({ top_n_sellers: n, max_results: t, feature: e })).rgAppIDs; this.m_rgTopN = a.map((e => Number(e))) } return this.m_rgTopN })) } GetAllDiscounted(e, t, n = null, a = null) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = (null == n ? void 0 : n.GetQuery()) || ""; if (!(this.m_rgAllDiscounted && this.m_rgAllDiscounted.has(r) || (this.m_rgAllDiscounted = (0, ue.ip)("all_discounted", "application_config"), this.m_rgAllDiscounted && this.m_rgAllDiscounted.has(r)))) { const n = yield this.GetDiscounts({ sort_by_sales_rank: !0, facet_filter: r, pre_filter: a ? JSON.stringify(a) : null, max_results: t, feature: e }); this.m_rgAllDiscounted || (this.m_rgAllDiscounted = new Map), this.m_rgAllDiscounted.set(r, Object.assign({ rgAppIDs: n.rgAppIDs.map((e => Number(e))) }, n)) } return this.m_rgAllDiscounted.get(r) })) } GetWishlistOnSale() { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgMyWishlistOnSale && (this.m_rgMyWishlistOnSale = (0, ue.ip)("wishlist_onsale", "application_config"), !this.m_rgMyWishlistOnSale)) { const e = yield Ql().get(ue.De.STORE_BASE_URL + "saleaction/ajaxgetwishlistonsale", { withCredentials: !0 }); this.m_rgMyWishlistOnSale = e.data.appids } return this.m_rgMyWishlistOnSale })) } GetDLCForGamesInMyLibraryOnSale() { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgMyDLCForGamesInLibraryOnSale && (this.m_rgMyDLCForGamesInLibraryOnSale = (0, ue.ip)("dlc_onsale", "application_config"), !this.m_rgMyDLCForGamesInLibraryOnSale)) { const e = yield Ql().get(ue.De.STORE_BASE_URL + "saleaction/ajaxgetdlconsale", { withCredentials: !0 }); this.m_rgMyDLCForGamesInLibraryOnSale = e.data.appids } return this.m_rgMyDLCForGamesInLibraryOnSale })) } GetSoundtracksForGamesInMyLibraryOnSale() { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgMySoundtracksForGamesInLibraryOnSale && (this.m_rgMySoundtracksForGamesInLibraryOnSale = (0, ue.ip)("dlc_music_onsale", "application_config"), !this.m_rgMySoundtracksForGamesInLibraryOnSale)) { const e = yield Ql().get(ue.De.STORE_BASE_URL + "saleaction/ajaxgetsoundtracksonsale", { withCredentials: !0 }); this.m_rgMySoundtracksForGamesInLibraryOnSale = e.data.appids } return this.m_rgMySoundtracksForGamesInLibraryOnSale })) } GetInteractiveRecommendationsOnSale() { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgMyInteractiveRecOnSale && (this.m_rgMyInteractiveRecOnSale = (0, ue.ip)("ir_onsale", "application_config"), !this.m_rgMyInteractiveRecOnSale)) { const e = yield Ql().get(ue.De.STORE_BASE_URL + "saleaction/ajaxgetironsale", { withCredentials: !0 }); this.m_rgMyInteractiveRecOnSale = e.data.appids } return this.m_rgMyInteractiveRecOnSale })) } GetSaleTags() { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgMySaleTags && (this.m_rgMySaleTags = (0, ue.ip)("saletags", "application_config"), !this.m_rgMySaleTags)) { const e = yield Ql().get(ue.De.STORE_BASE_URL + "saleaction/ajaxgetsaletags", { withCredentials: !1 }); this.m_rgMySaleTags = e.data } return this.m_rgMySaleTags })) } GetTagRecommendorForThisSale(e, t, n, a, o, i) { return (0, r.mG)(this, void 0, void 0, (function* () { if (!this.m_rgMyTagRecommendation && (null == a && null == o && (this.m_rgMyTagRecommendation = (0, ue.ip)("tag_recommender", "application_config")), !this.m_rgMyTagRecommendation)) { const r = ue.De.STORE_BASE_URL + "saleaction/ajaxgetsaletagsrecommendation"; let l = { origin: self.origin, cc: ue.De.COUNTRY, l: ue.De.LANGUAGE, clanAccountID: null == e ? void 0 : e.clanSteamID.GetAccountID(), clanAnnouncementGID: null == e ? void 0 : e.AnnouncementGID, count: t, nocache: n, hubtype: null == a ? void 0 : a.type, category: null == a ? void 0 : a.category, tagid: null == a ? void 0 : a.tagid, tabfilter: o, bPrioritizeDiscounts: i }; const s = yield Ql().get(r, { params: l, withCredentials: !0 }); 200 == s.status && s.data && s.data.tag_recommender ? this.m_rgMyTagRecommendation = s.data.tag_recommender : this.m_rgMyTagRecommendation = [] } return this.m_rgMyTagRecommendation })) } GetFlavorCacheKey(e, t, n, a, r, o, i, l, s, c, m) { let u = ""; return o && (u += o.type, "category" === o.type ? u += "-" + o.category : "tags" === o.type && (u += "-" + o.tagid)), `key-${e}-${(null == t ? void 0 : t.GetQuery()) || ""}-${m || "*"}-${s}-${n || "*"}-${l}-${a || ""}-${r}-${u}-${i}-${c}` } ValidateDataGameByFlavor(e) { const t = e; return t && "object" == typeof t && t.solr_index && "number" == typeof t.solr_index && t.appids && Array.isArray(t.appids) } GetJSONDataKey(e, t, n, a, r) { return t ? "section_" + t + "_" + (n || "*") : "browser_" + e + "_" + ((null == a ? void 0 : a.GetQuery()) || "") + "_" + (n || "*") + (r || "") } InternalGetSaleGamesByFlavor(e, t, n, a, o, i, l, s, c = 0, m, u, d, p, _, g, h, v, S) { var E, b, C, y, f; return (0, r.mG)(this, void 0, void 0, (function* () { let r = this.m_mapSaleGameListsByFlavor.get(e); if (!r) { const t = this.GetJSONDataKey(i, h, a, l, m), n = (0, ue.ip)(t, "application_config"); this.ValidateDataGameByFlavor(n) ? (r = n, r.setAppIDs = new Set(r.appids), r.setStoreItemKeys = new Set(r.store_item_keys), this.m_mapSaleGameListsByFlavor.set(e, n)) : (r = { appids: [], store_item_keys: [], setAppIDs: new Set, setStoreItemKeys: new Set, solr_index: 0, possible_has_more: !0 }, this.m_mapSaleGameListsByFlavor.set(e, r)) } const A = r.appids.length, I = c + s - A; if (I > 0 && r.possible_has_more) { const e = ue.De.STORE_BASE_URL + (n ? "saleaction/ajaxpreviewsaledynamicappquery" : "saleaction/ajaxgetsaledynamicappquery"); let s = null; const c = { cc: ue.De.COUNTRY, l: ue.De.LANGUAGE, clanAccountID: (null == o ? void 0 : o.clanSteamID.GetAccountID()) || null, clanAnnouncementGID: (null == o ? void 0 : o.AnnouncementGID) || null, flavor: i, strFacetFilter: null == l ? void 0 : l.GetQuery(), start: r.solr_index, count: Math.max(I, 50), tabuniqueid: a, sectionuniqueid: h, return_capsules: !0, search: t ? m : void 0, origin: self.origin, bForceUseSaleTag: !0, strContentHubType: null == u ? void 0 : u.type, strContentHubCategory: null == u ? void 0 : u.category, nContentHubTagID: null == u ? void 0 : u.tagid, bContentHubDiscountedOnly: d, strTabFilter: p, strSectionFilter: _, bPrioritizeDiscounts: g, bRequestFacetCounts: v, prune_list_optin_name: (null == o ? void 0 : o.jsondata.prune_list_optin_name) || void 0, optin_tagid: (null === (E = null == o ? void 0 : o.jsondata) || void 0 === E ? void 0 : E.optin_tagid) || void 0, optin_prune_tagid: (null === (b = null == o ? void 0 : o.jsondata) || void 0 === b ? void 0 : b.optin_prune_tagid) || void 0 }; if (s = yield Ql().get(e, { params: c, withCredentials: n, cancelToken: null == S ? void 0 : S.token }), 200 != (null == s ? void 0 : s.status) || 1 != (null === (C = s.data) || void 0 === C ? void 0 : C.success) || !(null === (y = s.data) || void 0 === y ? void 0 : y.appids)) throw new Error("query failed, status=" + (null == s ? void 0 : s.status) + " success: " + (null === (f = null == s ? void 0 : s.data) || void 0 === f ? void 0 : f.success)); for (const e of s.data.appids) r.setAppIDs.has(e) || (r.appids.push(e), r.setAppIDs.add(e)); for (const e of s.data.store_item_keys) r.setStoreItemKeys.has(e) || (r.store_item_keys.push(e), r.setStoreItemKeys.add(e)); r.faceting = s.data.faceting, r.multifaceting = s.data.multifaceting, r.possible_has_more = s.data.possible_has_more, r.solr_index = s.data.solr_index, r.match_count = s.data.match_count } this.m_mapSaleGameListsByFlavor.set(e, r); const k = r.possible_has_more || c + s < r.appids.length; return { appids: r.appids.slice(c, s), rgStoreItemKeys: r.store_item_keys, facetCounts: r.faceting, multifaceting: r.multifaceting, nMatchCount: r.match_count, bHasPossibleMoreResults: k } })) } GetSaleGamesByFlavor(e, t, n, a, o, i = 0, l) { return (0, r.mG)(this, void 0, void 0, (function* () { let { strSectionFilter: s, nTabUniqueID: c, strTabFilter: m, facetFilter: u, contentHub: d, bContentHubDiscountedOnly: p, strSearch: _, bPrioritizeDiscounts: g, nSectionUniqueID: h, bRequestFacetCounts: v } = a; _ = null == _ ? void 0 : _.trim(); const S = Boolean(_); S && (n = "search", c = void 0); const E = this.GetFlavorCacheKey(n, u, c, _, (null == t ? void 0 : t.AnnouncementGID) || "0", d, p, m, s, g, h); for (; this.m_mapPromisesByFlavor.has(E);)try { yield this.m_mapPromisesByFlavor.get(E) } catch (e) { } const b = this.InternalGetSaleGamesByFlavor(E, S, e, c, t, n, u, o, i, _, d, p, m, s, g, h, v, l); this.m_mapPromisesByFlavor.set(E, b); return (() => { (0, r.mG)(this, void 0, void 0, (function* () { try { yield b } catch (e) { } finally { this.m_mapPromisesByFlavor.delete(E) } })) })(), b })) } GetWishlistedInContentHub(e, t, n, a) { var o; return (0, r.mG)(this, void 0, void 0, (function* () { const r = e.type + "_" + e.category + "_" + e.tagid + "_" + (null == t ? void 0 : t.GetActiveTabUniqueID()); if (this.m_mapMyWishlistInContentHub.has(r)) return this.m_mapMyWishlistInContentHub.get(r); try { let i = (0, ue.ip)("hubitems_" + ((null == t ? void 0 : t.GetActiveTabUniqueID()) || "*"), "application_config"); if (!i || 0 === i.appids.length) { const r = ue.De.STORE_BASE_URL + "saleaction/ajaxgetitemsincontenthub", l = { origin: self.origin, cc: ue.De.COUNTRY, hubtype: e.type, category: e.category, tagid: e.tagid, tabuniqueid: null == t ? void 0 : t.GetActiveTabUniqueID(), tabfilter: null == t ? void 0 : t.GetStoreFilter(), bPrioritizeDiscounts: n }, s = yield Ql().get(r, { params: l, cancelToken: null == a ? void 0 : a.token }); 1 === (null === (o = null == s ? void 0 : s.data) || void 0 === o ? void 0 : o.success) && (i = s.data) } if (!i) return []; const l = new Set; for (const e of i.appids) l.add(Number(e)); const s = ml.jg.Get().GetWishlistGamesInUserOrder(), c = []; for (const e of s) l.has(e) && !ml.jg.Get().BOwnsApp(e) && ml.jg.Get().BIsGameWishlisted(e) && c.push(e); return this.m_mapMyWishlistInContentHub.set(r, c), c } catch (e) { return [] } })) } static Get() { return Su.s_globalSingletonStore || (Su.s_globalSingletonStore = new Su, "dev" == ue.De.WEB_UNIVERSE && (window.g_DiscountStore = Su.s_globalSingletonStore)), Su.s_globalSingletonStore } } function Eu(e, t, n, r) { const [o, i] = a.useState([]); return a.useEffect((() => { const a = (0, wt.jM)(ue.De.LANGUAGE), o = { nTabUniqueID: void 0, contentHub: { type: "greatondeck" }, facetFilter: new lu([], t, qi.bS.k_ESortFacetsByMatchCount, a, !0, !0) }; Su.Get().GetSaleGamesByFlavor(!1, null, e, o, t, n, r).then((e => { const t = e.appids.map((e => ({ id: e, type: "game" }))); (0, $l.qr)(t, { include_assets: !0 }).then((() => { (0, $l.A$)(t, !1).then((e => { let t = e.map((e => e.id)); i(t) })) })) })) }), [e, t, n, r]), o } var bu = n(78595); n(30174); var Cu, yu, fu = n(96905); !function (e) { e[e.k_EStatusString = 0] = "k_EStatusString", e[e.k_ECreator = 1] = "k_ECreator", e[e.k_ECurator = 2] = "k_ECurator", e[e.k_ETags = 3] = "k_ETags", e[e.k_EDisplayList = 4] = "k_EDisplayList" }(Cu || (Cu = {})), function (e) { e[e.k_EUnknown = 0] = "k_EUnknown", e[e.k_EPublisher = 1] = "k_EPublisher", e[e.k_EDeveloper = 2] = "k_EDeveloper", e[e.k_EPublisherDeveloper = 3] = "k_EPublisherDeveloper", e[e.k_EMacPortDeveloper = 4] = "k_EMacPortDeveloper", e[e.k_ELinuxPortDeveloper = 5] = "k_ELinuxPortDeveloper", e[e.k_EFranchise = 6] = "k_EFranchise" }(yu || (yu = {})); function Au(e, t, n, a) { let r = e; return "category" === e && (r += "_" + t), "tags" === e && (r += "_" + n), a && (r += "_" + a), r } class Iu { constructor() { this.m_mapDefinition = new Map, this.m_mapTitle = new Map, this.m_mapMainCarousel = new Map, this.m_mapSections = new Map, this.m_mapPartnerTakeover = new Map, this.m_mapBroadcasts = new Map, this.m_mapPromiseForHub = new Map, this.m_searchPreferences = (0, ue.kQ)("search_preferences", "application_config"); const e = (0, ue.kQ)("ch_hub_data", "application_config"); if (e) { const t = e.strHubType || void 0, n = "category" === t ? e.strCategory || "" : void 0, a = "tags" === t && Number(e.nTagID) || void 0; this.LoadContentHubDataFromConfig(t, n, a) } } BHasDefinition(e, t, n) { return this.m_mapDefinition.has(Au(e, t, n)) } BHasTitle(e, t, n) { return this.m_mapTitle.has(Au(e, t, n)) } BHasMainCarousel(e, t, n) { var a; return Boolean(null === (a = this.m_mapMainCarousel.get(Au(e, t, n))) || void 0 === a ? void 0 : a.rgMainCapsule) } BHasSections(e, t, n, a) { var r; return Boolean(null === (r = this.m_mapSections.get(Au(e, t, n, a))) || void 0 === r ? void 0 : r.mapOtherCarousels) } BHasPartnerTakeover(e, t, n) { return this.m_mapPartnerTakeover.has(Au(e, t, n)) } BHasBroadcasts(e, t, n, a) { return this.m_mapBroadcasts.has(Au(e, t, n, a)) } GetDefinition(e, t, n) { return this.m_mapDefinition.get(Au(e, t, n)) } GetTitle(e, t, n) { return this.m_mapTitle.get(Au(e, t, n)) } GetMainCarousel(e, t, n) { return this.m_mapMainCarousel.get(Au(e, t, n)) } GetSections(e, t, n, a) { return this.m_mapSections.get(Au(e, t, n, a)) } GetPartnerTakeover(e, t, n) { return this.m_mapPartnerTakeover.get(Au(e, t, n)) } GetBroadcasts(e, t, n, a) { return this.m_mapBroadcasts.get(Au(e, t, n, a)) } LoadDefinition(e, t, n, a, o, i, l) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n); if (!this.BHasDefinition(e, t, n)) return this.m_mapPromiseForHub.has(r) || this.m_mapPromiseForHub.set(r, this.InternalLoadContentHubData(e, t, n, a, o, i, l)), this.m_mapPromiseForHub.get(r) })) } LoadTitle(e, t, n, a, o, i, l) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n); if (!this.BHasTitle(e, t, n)) return this.m_mapPromiseForHub.has(r) || this.m_mapPromiseForHub.set(r, this.InternalLoadContentHubData(e, t, n, a, o, i, l)), this.m_mapPromiseForHub.get(r) })) } LoadMainCarousel(e, t, n, a, o, i, l) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n); if (!this.BHasMainCarousel(e, t, n)) return this.m_mapPromiseForHub.has(r) || this.m_mapPromiseForHub.set(r, this.InternalLoadContentHubData(e, t, n, a, o, i, l)), this.m_mapPromiseForHub.get(r) })) } LoadSections(e, t, n, a, o, i, l, s, c) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n, a); if (!this.BHasSections(e, t, n, a)) return this.m_mapPromiseForHub.has(r) || this.m_mapPromiseForHub.set(r, this.InternalLoadContentHubData(e, t, n, i, l, s, c, a, o)), this.m_mapPromiseForHub.get(r) })) } LoadPartnerTakeover(e, t, n, a, o, i, l) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n); if (!this.BHasPartnerTakeover(e, t, n)) return this.m_mapPromiseForHub.has(r) || this.m_mapPromiseForHub.set(r, this.InternalLoadContentHubData(e, t, n, a, o, i, l)), this.m_mapPromiseForHub.get(r) })) } LoadBroadcasts(e, t, n, a, o, i, l, s, c) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n, a); if (!this.BHasBroadcasts(e, t, n, a)) return this.m_mapPromiseForHub.has(r) || this.m_mapPromiseForHub.set(r, this.InternalLoadContentHubData(e, t, n, i, l, s, c, a, o)), this.m_mapPromiseForHub.get(r) })) } BIsPartnerTakeoverActive(e, t, n) { var a; return this.BHasPartnerTakeover(e, t, n) && Boolean(null === (a = this.GetPartnerTakeover(e, t, n)) || void 0 === a ? void 0 : a.strPageBackgroundURL) } InternalLoadContentHubData(e, t, n, a, o, i, l, s, c) { var m, u; return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(e, t, n), d = Au(e, t, n, s); if (this.LoadContentHubDataFromConfig(e, t, n, s), !(this.m_mapTitle.has(r) && this.m_mapMainCarousel.has(r) && this.m_mapSections.has(d) && this.m_mapPartnerTakeover.has(r) && this.m_mapBroadcasts.has(d))) { const a = ue.De.STORE_BASE_URL + "contenthub/ajaxgetcontenthubdata", p = { hubtype: e, category: t, tagid: n, prune_list_optin_name: o || void 0, optin_tagid: i || void 0, optin_prune_tagid: l || void 0, tabuniqueid: s, tabfilter: c }, _ = yield Ql().get(a, { params: p, withCredentials: !0 }); if (1 === (null === (m = null == _ ? void 0 : _.data) || void 0 === m ? void 0 : m.success)) { if (fu.Q.Get().SetHomeViewSetting(_.data.homeViewSetting), fu.Q.Get().SetHomeViewSettingOverride(_.data.homeViewSettingOverride), this.m_searchPreferences = _.data.searchPreferences, !this.m_mapTitle.has(r)) { const e = { strTitle: _.data.title, strSubtitle: _.data.subtitle }; this.m_mapTitle.set(r, e) } if (!this.m_mapMainCarousel.has(r)) { const e = { mapAppLists: new Map }; this.SetAppListData(e.mapAppLists, _.data.mainListData), this.m_mapMainCarousel.set(r, e) } if (!this.m_mapSections.has(d)) { const e = { mapAppLists: new Map, rgSections: _.data.sectionData, mapSectionsID: new Map }; this.SetAppListData(e.mapAppLists, _.data.sectionListData), this.SetSectionData(e.mapSectionsID, _.data.sectionData), this.m_mapSections.set(d, e) } this.m_mapPartnerTakeover.has(r) || this.m_mapPartnerTakeover.set(r, _.data.partnerTakeover), this.m_mapBroadcasts.has(d) || this.m_mapBroadcasts.set(d, null === (u = _.data.broadcasts) || void 0 === u ? void 0 : u.filtered) } } const p = []; for (const e of Array.from(this.m_mapMainCarousel.get(r).mapAppLists.keys())) for (const t of this.m_mapMainCarousel.get(r).mapAppLists.get(e).apps) p.push(Iu.SaleCapsuleFromContentHubCapsule(t)); for (const e of Array.from(this.m_mapSections.get(d).mapAppLists.keys())) for (const t of this.m_mapSections.get(d).mapAppLists.get(e).apps) p.push(Iu.SaleCapsuleFromContentHubCapsule(t)); yield (0, $l.qr)(p, bu.bk), this.ReplaceSingleAppPackagesWithApps(r, d), yield this.ApplyUserAndHomeViewFilters(r, d, a), yield this.UpdateRecommendationReasons(r) })) } ApplyUserAndHomeViewFilters(e, t, n) { return (0, r.mG)(this, void 0, void 0, (function* () { const a = new bu.q2, r = Object.assign(Object.assign({}, fu.Q.Get().GetHomeView()), { only_current_platform: !0, games_already_in_library: this.m_searchPreferences.hide_owned, enforce_minimum: !1 }); yield this.BuildFeaturedCarouselContent(e, a, r, n), yield this.BuildAllOtherCarouselContent(t, a, r) })) } ReplaceSingleAppPackagesWithApps(e, t) { this.m_mapMainCarousel.get(e).mapAppLists.forEach(((t, n) => { this.m_mapMainCarousel.get(e).mapAppLists.set(n, this.ReplaceSingleAppPackagesWithAppsForList(t)) })), this.m_mapSections.get(t).mapAppLists.forEach(((e, n) => { this.m_mapSections.get(t).mapAppLists.set(n, this.ReplaceSingleAppPackagesWithAppsForList(e)) })) } ReplaceSingleAppPackagesWithAppsForList(e) { const t = e.apps.map((e => { var t; if ("sub" === e.item_type) { const n = ol.Z.Get().GetPackage(e.id); if (1 === (null === (t = null == n ? void 0 : n.GetIncludedAppIDs()) || void 0 === t ? void 0 : t.length)) { return Object.assign(Object.assign({}, e), { item_type: "app", id: n.GetIncludedAppIDs()[0] }) } } return e })); return Object.assign(Object.assign({}, e), { apps: t }) } UpdateRecommendationReasons(e, t, n) { return (0, r.mG)(this, void 0, void 0, (function* () { const a = Au(e, t, n), r = this.m_mapMainCarousel.get(a).rgMainCapsule.map((a => this.UpdateRecommendationReasonForCapsule(a, e, t, n))); yield Promise.all(r) })) } BuildAllOtherCarouselContent(e, t, n) { var a; return (0, r.mG)(this, void 0, void 0, (function* () { const r = Object.assign(Object.assign({}, n), { games_already_in_library: !0 }); this.m_mapSections.get(e).mapOtherCarousels = new Map; for (const n of this.m_mapSections.get(e).rgSections) { const o = this.m_mapSections.get(e).mapAppLists.get(n.id); if ((null === (a = null == o ? void 0 : o.apps) || void 0 === a ? void 0 : a.length) > 0) { let a = (0, bu.ml)(o.apps, r, t, 40, 4); this.m_mapSections.get(e).mapOtherCarousels.set(n.id, a) } } })) } static ZipperMerge(e, t) { for (const t of e) (0, dr.LQ)(t); const n = new Array; e.forEach((e => n.push(0))); const a = []; let r = 1; for (; a.length < 12 && r <= bu.$U;) { let o = !1; for (let i = 0; i < e.length; ++i) { const l = e[i], s = n[i]; if (s < l.length && l[s].priority <= r) { o = !0, n[i] += 1; const e = l[s]; if (t.BHasStoreItemKey(e) || (a.push(e), t.AddStoreItemKey(e)), a.length >= 12) break } } o || (r += 1) } return a } BuildFeaturedCarouselContent(e, t, n, a) { var o, i; return (0, r.mG)(this, void 0, void 0, (function* () { const r = Object.assign(Object.assign({}, n), { games_already_in_library: !0 }); let l = (0, bu.ml)(null === (o = this.m_mapMainCarousel.get(e).mapAppLists.get("featured")) || void 0 === o ? void 0 : o.apps, r, t, 12, 4); l = null == l ? void 0 : l.filter((e => "bundle" !== e.item_type && "sub" !== e.item_type)), this.m_mapMainCarousel.get(e).rgMainCapsule = Iu.ZipperMerge([l], t); let s = ["featured_recommended", "top_sellers", "specials", "concurrent"]; s = s.filter((t => this.m_mapMainCarousel.get(e).mapAppLists.has(t))); const c = s.map((t => this.m_mapMainCarousel.get(e).mapAppLists.get(t))); for (const e of c) e && (e.apps = null === (i = e.apps) || void 0 === i ? void 0 : i.filter((e => "bundle" !== e.item_type && "sub" !== e.item_type)), e.apps = (0, bu.ml)(e.apps || [], r, t, 12, 4)); if (this.m_mapMainCarousel.get(e).rgMainCapsule = this.m_mapMainCarousel.get(e).rgMainCapsule.concat(Iu.ZipperMerge(c.map((e => e.apps)), t)), (0, dr.LQ)(this.m_mapMainCarousel.get(e).rgMainCapsule), a) { const t = [], n = []; for (const a of this.m_mapMainCarousel.get(e).rgMainCapsule) (0, $l.kD)(Iu.SaleCapsuleFromContentHubCapsule(a)) ? t.push(a) : n.push(a); this.m_mapMainCarousel.get(e).rgMainCapsule = t.concat(n) } })) } UpdateRecommendationReasonForCapsule(e, t, n, a) { return (0, r.mG)(this, void 0, void 0, (function* () { const r = Au(t, n, a), o = yield (0, $l.qr)([Iu.SaleCapsuleFromContentHubCapsule(e)], bu.bk), i = ol.Z.Get().GetStoreItem(e.id, (0, Yl.TM)(e.item_type)), l = null == i ? void 0 : i.GetCapsuleHeadline(); if (l) return void (e.recommendation = { reason: Cu.k_EStatusString, statusString: l }); let s = new Array, c = "game"; for (const e of o) { const t = ol.Z.Get().GetApp(e); if (t) { s = s.concat(t.GetTagIDs()); const e = (0, Yl.Ds)(t.GetStoreItemType(), t.GetAppType()); "software" !== e && "video" !== e || (c = e) } } yield Jl.OT.Get().QueueMultipleTagLoads(s); let m = s.map((e => Jl.OT.Get().GetTagID(e))).filter(Boolean).map((e => ({ tagid: e.tagid, name: e.name }))); const u = []; for (const e of m) { if (u.length > Iu.k_nMaxMatchingRecommendedTags) break; "tags" === t && a === e.tagid || ml.jg.Get().GetRecommendedTags().has(e.tagid) && u.push(e) } if (u.length < Iu.k_nMaxMatchingRecommendedTags) { const t = function (e) { const t = new Map, n = e.GetAllDeveloperCreatorClans(), a = e.GetAllPublisherCreatorClans(), r = e.GetAllFranchiseCreatorClans(); for (const e of r) t.set(e, yu.k_EFranchise); for (const e of a) t.set(e, yu.k_EPublisher); for (const e of n) t.set(e, yu.k_EDeveloper); return t }(i); if (t) for (const n of t.keys()) if (ml.jg.Get().BIsFollowingCurator(n)) return void (e.recommendation = { reason: Cu.k_ECreator, creator: { creator: n, relationship: t.get(n) } }); if ("app" === e.item_type && e.id && ml.jg.Get().BIsAppRecommendedBySomeCurator(e.id)) { const t = ml.jg.Get().GetRecommendingCuratorsForApp(e.id); return void (e.recommendation = { reason: Cu.k_ECurator, curator: t[Math.floor(Math.random() * t.length)] }) } } if (u.length > 0) return void (e.recommendation = { reason: Cu.k_ETags, tags: u, appType: c }); let d = ["top_sellers", "popular_new", "specials", "concurrent", "featured"]; d = d.filter((e => this.m_mapMainCarousel.get(r).mapAppLists.has(e))); const p = new Map; d.forEach((e => { p.set(e, this.m_mapMainCarousel.get(r).mapAppLists.get(e).apps || []) })); for (const t of d) for (const n of p.get(t)) if (e.item_type === n.item_type && e.id === n.id) return void (e.recommendation = { reason: Cu.k_EDisplayList, displayListName: t }); e.recommendation = { reason: Cu.k_EStatusString, statusString: "" } })) } static SaleCapsuleFromContentHubCapsule(e) { let t, n = e.id; return t = "bundle" === e.item_type ? "bundle" : "sub" === e.item_type ? "sub" : "game", { id: n, type: t } } static Get() { return Iu.s_globalSingletonStore || (Iu.s_globalSingletonStore = new Iu, "dev" == ue.De.WEB_UNIVERSE && (window.g_ContentHubStore = Iu.s_globalSingletonStore)), Iu.s_globalSingletonStore } LoadContentHubDataFromConfig(e, t, n, a) { const r = Au(e, t, n), o = null != a ? Au(e, t, n, a) : r, i = "_" + (null != a ? a : "*"); if (!this.m_mapDefinition.has(r)) { const e = (0, ue.kQ)("ch_static_data", "application_config"); e && this.m_mapDefinition.set(r, e) } if (!this.m_mapTitle.has(r)) { const e = (0, ue.kQ)("ch_title_data", "application_config"); e && this.m_mapTitle.set(r, e) } if (!this.m_mapMainCarousel.has(r)) { const e = (0, ue.kQ)("ch_main_list_data", "application_config"); if (this.ValidateAppListData(e)) { const t = { mapAppLists: new Map }; this.SetAppListData(t.mapAppLists, e), this.m_mapMainCarousel.set(r, t) } } if (!this.m_mapSections.has(o)) { const e = (0, ue.kQ)("ch_section_list_data" + i, "application_config"), t = (0, ue.kQ)("ch_section_data" + i, "application_config"); if (this.ValidateAppListData(e) && this.ValidateSectionData(t)) { const n = { mapAppLists: new Map, rgSections: t, mapSectionsID: new Map }; this.SetAppListData(n.mapAppLists, e), this.SetSectionData(n.mapSectionsID, t), this.m_mapSections.set(o, n) } } if (!this.m_mapPartnerTakeover.has(r)) { const e = (0, ue.kQ)("ch_partner_takeover_data", "application_config"); e && this.m_mapPartnerTakeover.set(r, e) } if (!this.m_mapBroadcasts.has(o)) { const e = (0, ue.kQ)("ch_broadcasts_data" + i, "application_config"); e && this.m_mapBroadcasts.set(o, e) } } ValidateSectionData(e) { const t = e; return !!(t && Array.isArray(t) && t.length > 0 && "object" == typeof t[0]) && ("string" == typeof t[0].title && "string" == typeof t[0].id && "string" == typeof t[0].type) } SetSectionData(e, t) { t.forEach((t => e.set(t.id, t))) } ValidateAppListData(e) { const t = e; return !!(t && Array.isArray(t) && t.length > 0 && "object" == typeof t[0]) && ("string" == typeof t[0].id && Array.isArray(t[0].apps)) } SetAppListData(e, t) { t.forEach((t => { e.set(t.id, t) })) } } Iu.k_nMaxMatchingRecommendedTags = 4; n(13583); var ku = n(11556), wu = n(18728), Nu = n(94437), Tu = n(21775), xu = n(49418), Du = n(38440); class Fu { constructor() { this.m_webAPIInterface = null, this.m_mapPlayerSummaries = new Map } static Init(e) { Fu.Get().m_webAPIInterface = e } static BHasWebAPIKey() { var e; return Boolean(null === (e = Fu.Get().m_webAPIInterface) || void 0 === e ? void 0 : e.GetWebAPIAccessToken()) } static Get() { return this.s_PlayerStoreStore || (this.s_PlayerStoreStore = new Fu), this.s_PlayerStoreStore } FillInPersonaState(e) { let t = new ae.Pv(e.steamid); return t.m_bInitialized = !0, t.m_ePersonaState = e.personastate, t.m_strAvatarHash = e.avatarhash, t.m_strPlayerName = e.personaname, t.m_strAccountName = e.accountname, e.personastateflags && (t.m_unPersonaStateFlags = e.personastateflags), e.gameid && (t.m_gameid = e.gameid), e.gameserverip && (t.m_unGameServerIP = e.gameserverip), e.lobbysteamid && (t.m_game_lobby_id = e.mlobbysteamid), e.gameextrainfo && (t.m_strGameExtraInfo = e.gameextrainfo), t } FetchPlayerSummaries(e) { return (0, r.mG)(this, void 0, void 0, (function* () { let t = { access_token: this.m_webAPIInterface.GetWebAPIAccessToken(), steamids: e.map((e => j.K.InitFromAccountID(e).ConvertTo64BitString())).join(",") }; return e.forEach((e => this.m_mapPlayerSummaries.set(e, null))), Ql().get(`${ue.De.WEBAPI_BASE_URL}ISteamUserOAuth/GetUserSummaries/v2/`, { params: t }).then((e => { e && e.data && e.data.players && 0 != e.data.players.length && e.data.players.forEach((e => { const t = new j.K(e.steamid); this.m_mapPlayerSummaries.set(t.GetAccountID(), this.FillInPersonaState(e)) })) })) })) } BIsAccountIDLoaded(e) { return this.m_mapPlayerSummaries.has(e) && Boolean(this.m_mapPlayerSummaries.get(e)) } BatchLoadPlayerSummaries(e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { if (t) return this.FetchPlayerSummaries(e); { let t = []; if (e.forEach((e => { this.BIsAccountIDLoaded(e) || t.push(e) })), t.length > 0) return this.FetchPlayerSummaries(t) } })) } GetPlayerSummary(e) { const t = "string" == typeof e ? new j.K(e).GetAccountID() : e; return this.BIsAccountIDLoaded(t) || this.FetchPlayerSummaries([t]), this.m_mapPlayerSummaries.get(t) } } Fu.s_PlayerStoreStore = null, (0, r.gn)([u.LO], Fu.prototype, "m_mapPlayerSummaries", void 0); var Gu = n(77341), Bu = n(54008), Lu = n.n(Bu), Ru = n(18673), Pu = n(47605), Ou = n.n(Pu), Mu = n(75215); const Hu = "bGameHighlightAutoplayDisabled"; function Uu(e) { const { storeItem: t, bCurrentlyActive: n, bMainCapOnly: r } = e, o = a.useRef(), l = a.useRef(), s = a.useRef(), [c, m] = a.useState(!0), [u, d] = a.useState(!1), [p, _] = a.useState(!1); a.useEffect((() => { if (n) { const e = (0, Mu.bG)(Hu), t = !(!e || "true" !== e.toLowerCase()); m(t), d(!0) } return () => d(!1) }), [n]), a.useEffect((() => { u && n && !r && !c && o.current && h(), n || v() }), [n, r, c, u]); const h = a.useCallback((() => { s.current.style.opacity = "0", o.current && (o.current.play(), o.current.style.opacity = "1", o.current.onended = S), _(!0) }), []), v = a.useCallback((() => { var e; s.current.style.opacity = "1", o.current && (null === (e = o.current) || void 0 === e || e.pause(), o.current.currentTime = 0, o.current.style.opacity = "0"), l.current && (l.current.pause(), l.current.currentTime = 0, l.current.style.opacity = "0") }), []), S = a.useCallback((e => { o.current.style.opacity = "0", l.current.play(), l.current.style.opacity = "1" }), []), E = a.useCallback((e => { (0, Mu.I1)(Hu, String(!e), 3650), m(!e), e || (v(), _(!1)) }), [c]); if (!t.BIsVisible()) return null; const b = t.GetMicroTrailer(); let C = null; t.GetAllTrailers().BHasTrailers() && (C = t.GetAllTrailers().GetHighlightTrailers()[0]); const y = { [e.autoplayCheckboxPosition || "top"]: 0 }; return a.createElement(Y.s, { className: Ou().AppCarouselTrailerCtn }, a.createElement("img", { ref: s, className: Ou().AppMainCap, src: t.GetAssets().GetMainCapsuleURL() }), ";", !r && t.GetAllTrailers().BHasTrailers() && a.createElement(a.Fragment, null, a.createElement("div", { onClick: e => { e.preventDefault(), e.stopPropagation() } }, a.createElement(i.ji, { controlled: !0, checked: !c, key: t.GetAppID(), className: Ou().AutoplayCheckbox, style: y, label: (0, g.Xx)("#StoreTrailer_AutoPlayVideos"), onChange: E })), c && !p && a.createElement(Y.s, { focusable: !0, onClick: h, className: Ou().PlayButton }, a.createElement(al.GhU, null)), b && a.createElement("video", { className: (0, k.Z)(Ou().AppVideo, "Microtrailer"), ref: o, playsInline: !0, muted: !0 }, a.createElement("source", { src: b.strWebMURL, type: "video/webm" }), a.createElement("source", { src: b.strMP4URL, type: "video/mp4" })), C && a.createElement("video", { className: (0, k.Z)(Ou().AppVideo, "Trailer"), ref: l, playsInline: !0, muted: !0, loop: !0, controls: !0 }, a.createElement("source", { src: C.GetTrailer480p().strWebMURL, type: "video/webm" }), a.createElement("source", { src: C.GetTrailer480p().strMP4URL, type: "video/mp4" })))) } function Xu(e, t) { const n = a.useRef(t); a.useEffect((() => { const t = t => { t.key === e && n.current(t) }; return document.addEventListener("keydown", t), () => document.removeEventListener("keydown", t) }), [e]) } const Vu = new Tu.s("DiscoveryQueueWizard").Debug, Wu = "discoveryqueue2022", Zu = { include_assets: !0, include_trailers: !0, include_basic_info: !0, include_tag_count: 20, include_release: !0, include_platforms: !0 }; function zu(e, t, n, a) { return (0, r.mG)(this, void 0, void 0, (function* () { let r = []; try { r = [...yield xu.W.Get().GetDiscoveryQueueAppsOfType(e, t, n)], a && -1 === r.findIndex((e => e === a)) && r.unshift(a), yield ol.Z.Get().QueueMultipleAppRequests(r, Zu), yield (0, $l.dw)(r) } catch (e) { console.error("Failed getting discovery queue apps", e) } return r })) } const qu = e => ue.De.IN_CLIENT ? a.createElement(Ee.O, null, e.children) : a.createElement(de.Pv, { navID: "DiscoveryQueueWizard" }, e.children), Ku = e => { const { eStoreDiscoveryQueueType: t, strUserCountry: n, bWizardVisible: o, fnCloseModal: i, fnGetFriendState: l, includeAppID: s } = e, [c, u] = a.useState([]), [d, p] = a.useState(1), [_, h] = a.useState(800), [v, S] = a.useState("DiscoveryQueue"), [E, b] = a.useState(!0), [C, y] = a.useState(!1), [f, A] = a.useState(!1), I = a.useRef(); Xu("ArrowLeft", (e => I.current.MoveLeft(e))), Xu("ArrowRight", (e => I.current.MoveRight(e))); const w = a.useMemo((() => Math.max(window.innerWidth / 100 * 2.8 + 40, 24)), [24, _]), N = a.useCallback((e => { const t = Math.min(1400, window.innerWidth / 1.3 - 2 * w - 48 + 220); h(t) }), [_, w]), T = (0, m.yU)(N), x = a.useMemo((() => (window.innerWidth - _ - 2 * w) / 2), [_, w]), D = a.useMemo((() => 9 / 16 * (_ - .3 * _)), [_]), F = a.useMemo((() => Boolean(window.innerWidth < 1400)), [_]), G = a.useCallback((e => (0, r.mG)(void 0, void 0, void 0, (function* () { let a = yield zu(t, n, !e, e && s); e && !a.length && (a = yield zu(t, n, !0)); let r = c; if (e) a.unshift(1); else { const e = r.lastIndexOf(1); -1 !== e && r.splice(e, 1) } a.push(0), a.push(1), r = r.concat(a), u(r), e || I.current.MoveRight(), Vu("Loaded new discovery queue apps: ", a) }))), [t, c, n, I, s]); a.useEffect((() => { G(!0).then((() => A(!0))), ml.jg.Get().HintLoad(), S((() => { const e = Math.floor(1e6 * Math.random()); return `DiscoveryQueue_${ue.L7.accountid}_${e}` })()), N() }), [t, n]); const B = a.useCallback((e => 0 == c[e] ? "Summary" + e : 1 == c[e] ? "Placeholder" + e : c[e].toString()), [c]), L = a.useCallback((e => _), [_]), R = a.useCallback((e => { Vu("Currently focused index: ", e), Ru.E.AddImpression(c[e], Wu) }), [t, c]), P = a.useCallback(((e, n, r, o) => 0 == c[e] ? a.createElement(rd, { key: B(e), focused: d === e, fnLoadNextQueue: G, fnClose: i, index: e, eStoreDiscoveryQueueType: t, nItemHeight: r, nItemWidth: n }) : 1 == c[e] ? a.createElement(Y.s, { focusable: !1, style: { width: n, height: D }, className: (0, k.Z)(Lu().DiscoveryQueuePlaceholder) }) : a.createElement(ju, { bShowMinimizedDisplay: F, eStoreDiscoveryQueueType: t, focused: d === e, fnGetFriendState: l, index: e, fnOnAppFocus: R, nItemHeight: D, nItemWidth: n, appID: c[e] })), [t, R, c, d, D, i, G, F]), O = a.useCallback(((e, t) => { ue.De.IN_GAMEPADUI || (y(e), b(t)) }), []), H = a.useCallback((e => 1 !== c[e]), [c]), U = a.useCallback(((e, n) => { Vu("New Focused Column: ", n, " Prev Focused Column: ", e), 1 !== c[e] && 0 !== c[e] && xu.W.Get().SkipDiscoveryQueueItem(c[e], t), p(n) }), [d, c]); return f ? a.createElement(de.Yy, { active: o }, a.createElement(qu, null, a.createElement(Is.HC, { snr: Wu }, a.createElement(Y.s, { autoFocus: !0, focusable: !0, className: Lu().DiscoveryQueueCarouselCtn, navEntryPreferPosition: ku.c4.LAST, onCancelButton: i, onCancelActionDescription: (0, g.Xx)("#Button_Close") }, a.createElement(Y.s, { "flow-children": "row", className: (0, k.Z)(Lu().TopBarCtn, Lu().TopMargin) }, a.createElement(Y.s, { className: Lu().LearnMore }, (0, g.yu)("#DiscoveryQueue_LearnMore_Default", a.createElement(M.IS, { className: Lu().LearnMoreLink, href: ad(ue.De.STORE_BASE_URL + "explore") }))), a.createElement(Y.s, { className: Lu().ControlsCtn }, !1, a.createElement(Y.s, { focusable: !0, className: Lu().QueueButton, onClick: i, onActivate: i }, a.createElement(al.X, null)))), a.createElement("div", { ref: T, className: Lu().DiscoveryQueueWrapper }, a.createElement(Y.s, { onClick: e => I.current.MoveLeft(e), className: (0, k.Z)(Lu().QueueNavArrow, Lu().LeftArrow, C && Lu().Enable) }, a.createElement(al.BKy, { angle: 180 })), a.createElement(Ai.n, { name: v, className: Lu().DiscoveryQueueCarousel, ref: I, fnDoesItemTakeFocus: H, fnOnFocusedColumnChange: U, fnUpdateArrows: O, nNumItems: c.length, nHeight: D, scrollDuration: 400, nItemHeight: D, nItemMarginX: x, fnGetColumnWidth: L, fnGetId: B, fnItemRenderer: P, scrollToAlignment: "center", nIndexLeftmost: 1, initialColumn: 1, autoFocus: !0, scrollTiming: "cubic-in-out", overscan: 3 }), a.createElement(Y.s, { onClick: e => I.current.MoveRight(e), className: (0, k.Z)(Lu().QueueNavArrow, Lu().RightArrow, E && Lu().Enable) }, a.createElement(al.BKy, { angle: 0 }))), a.createElement(Y.s, { "flow-children": "row", className: (0, k.Z)(Lu().BotomBarCtn) }, a.createElement(Y.s, { className: Lu().LabsHeader }, (0, g.yu)("#DiscoveryQueue_LabsHeader", a.createElement("span", { className: Lu().Bold }), a.createElement(M.IS, { className: Lu().LearnMoreLink, href: ad(ue.De.COMMUNITY_BASE_URL + "groups/SteamLabs/discussions/17/") })))))))) : null }; function ju(e) { const { appID: t, nItemHeight: n, nItemWidth: r, fnOnAppFocus: o, index: i, focused: l, fnGetFriendState: c, eStoreDiscoveryQueueType: m, bShowMinimizedDisplay: u } = e, [p] = (0, rl.vs)(t, Zu), _ = (0, d.SZ)((() => ml.jg.Get().BIsGameWishlisted(t))), h = (0, d.SZ)((() => ml.jg.Get().BIsGameIgnored(t))), v = (0, Jl.Eq)(null == p ? void 0 : p.GetTagIDs()), S = ue.De.IN_GAMEPADUI, E = (0, Is.bJ)(), b = a.useCallback((() => { window.location.href = ad(p.GetStorePageURL() + "?inqueue=" + m, E) }), [p]), C = a.useCallback((() => { ml.jg.Get().UpdateAppIgnore(p.GetAppID(), !h) }), [h]); if (!p) return console.warn("Error: missing store item for appid ", t), null; a.useEffect((() => { Vu("Index Focused: ", i, " Focus? ", l), l && o(i) }), [l]); const y = { width: r || void 0, height: n || void 0 }, f = () => { ml.jg.Get().UpdateGameWishlist(t, !_, Wu).then((e => { e && e.success })) }, A = p.GetAssets().GetLibraryCapsuleURL(); return a.createElement(Y.s, { focusable: !0, style: y, onFocus: () => o(i), className: (0, k.Z)(Lu().DiscoveryQueueApp, l && Lu().Focused), onOptionsActionDescription: _ ? (0, g.Xx)("#DiscoveryQueue_RemoveFromWishlist") : (0, g.Xx)("#DiscoveryQueue_AddToWishlist"), onOptionsButton: f, onOKActionDescription: (0, g.Xx)("#DiscoveryQueue_ViewStorePage"), onOKButton: b, onSecondaryActionDescription: h ? (0, g.Xx)("#DiscoveryQueue_Undo") : (0, g.Xx)("#DiscoveryQueue_IgnoreLink"), onSecondaryButton: C }, a.createElement("div", { className: (0, k.Z)(Lu().IgnoredCtn, h && Lu().Active) }, a.createElement("div", { className: (0, k.Z)(Lu().IgnoredInfo, h && Lu().Active) }, a.createElement("div", { className: Lu().IgnoredTitle }, (0, g.Xx)("#DiscoveryQueue_Ignored")), a.createElement("div", { className: Lu().IgnoredDescription }, (0, g.Xx)("#DiscoveryQueue_IgnoredConfirmation")), a.createElement(Y.s, { className: (0, k.Z)(Lu().QueueButton, Lu().UndoIgnoreButton), onClick: C }, ue.De.IN_GAMEPADUI && a.createElement(or.VC, { button: st.FX.X, type: or.yV.Light, size: or.iM.Medium }), (0, g.Xx)("#DiscoveryQueue_Undo")))), a.createElement(Y.s, { className: Lu().AppVideoCtn }, a.createElement("div", { className: (0, k.Z)(Lu().WishlistBadge, _ && Lu().Active) }, (0, g.Xx)("#Sale_OnWishlist")), ue.De.IN_GAMEPADUI && a.createElement(Ra.sC, { className: Lu().DeckVerifiedLogo, category: p.GetPlatforms().steam_deck_compat_category }), a.createElement(Uu, { key: t, storeItem: p, bCurrentlyActive: l, bMainCapOnly: h, autoplayCheckboxPosition: "top" })), a.createElement(Y.s, { className: Lu().AppDetailsCtn }, a.createElement("div", { className: Lu().AppDetailsCtnTop }, a.createElement("div", { className: Lu().AppDetailsHeader }, A && a.createElement("img", { className: Lu().AppLibraryHero, src: A }), a.createElement("div", { className: Lu().RightColumn }, a.createElement("div", { className: Lu().AppName }, p.GetName()), a.createElement(ul.Jc, { bSingleLineMode: !0, info: { id: e.appID, type: (0, s.Yd)(p.GetAppType()) } }))), a.createElement(Qu, { rgTagNames: v }), a.createElement("div", { className: Lu().AppReviews }, a.createElement(Nu.Yb, { bShowTooltip: !0, bTruncateTotalReviews: u, appInfo: { id: e.appID, type: (0, s.Yd)(p.GetAppType()) } })), a.createElement("div", { className: Lu().AppRelevanceCtn }, a.createElement(Yu, { bShowAvatars: !u, storeItem: p, appID: t, fnGetFriendState: c }))), !ue.De.IN_GAMEPADUI && a.createElement("div", { className: Lu().AppActionButtonsCtn }, a.createElement("div", { className: Lu().AppActionJustButtonsCtn }, a.createElement("a", { className: (0, k.Z)(Lu().QueueButton, Lu().Primary), href: ad(p.GetStorePageURL() + "?inqueue=" + m, E) }, S && a.createElement(or.VC, { button: st.FX.Y, type: or.yV.Light, size: or.iM.Medium, additionalClassName: Lu().YGlyph }), " ", (0, g.Xx)("#DiscoveryQueue_ViewStorePage")), a.createElement("div", { className: Lu().ButtonsRowWrap }, a.createElement(Y.s, { focusable: !0, className: Lu().QueueButton, onClick: f }, S && a.createElement(or.VC, { button: st.FX.Y, type: or.yV.Light, size: or.iM.Medium, additionalClassName: Lu().YGlyph }), " ", _ ? (0, g.Xx)("#DiscoveryQueue_RemoveFromWishlist") : (0, g.Xx)("#DiscoveryQueue_AddToWishlist")), a.createElement(Y.s, { focusable: !0, className: Lu().QueueButton, onClick: C }, (0, g.Xx)("#DiscoveryQueue_IgnoreLink"))))))) } function Qu(e) { const { rgTagNames: t } = e, n = a.useMemo((() => t.sort(((e, t) => ml.jg.Get().GetRecommendedTags().has(e.tagid) && ml.jg.Get().GetRecommendedTags().has(t.tagid) ? 0 : ml.jg.Get().GetRecommendedTags().has(e.tagid) ? 1 : -1))), [t]); return a.createElement("div", { className: Lu().AppTagsCtn }, n.map((e => a.createElement("div", { key: e.name, className: Lu().TagEntry }, e.name)))) } function Yu(e) { var t, n, o, i, l, s, c, m, u, d, p, _, h, v, S, E, b, C; const { appID: y, fnGetFriendState: f, bShowAvatars: A, storeItem: I, bHideDescription: w, bShowCuratorInfo: N, bShowCreatorInfo: T } = e, x = (0, Gu.x$)(y), D = (0, Gu.C)(y), F = (0, Gu.Ud)(y), G = (0, Gu.Nl)(), B = (0, bl.useQuery)(["SimilarPlayedAppsLoad", y], (() => { var e; return ol.Z.Get().QueueMultipleAppRequests(null === (e = F.data.arrSimilarPlayedApps) || void 0 === e ? void 0 : e.map((e => e.appid)), { include_basic_info: !0, include_assets: !0 }) }), { enabled: F.isSuccess }), L = function (e, t) { const n = (0, a.useMemo)((() => ml.jg.Get().GetRecommendingCuratorsForApp(e) || []), [e]); return (0, bl.useQuery)(["RecommendingCurators", e], (() => Promise.all(null == n ? void 0 : n.map((e => ts.sV.LoadClanInfoForClanAccountID(e))))), { enabled: !!t && n && n.length > 0 }) }(y, N), R = (0, a.useMemo)((() => { let e = []; return I && (e = e.concat(I.GetAllFranchiseCreatorClans().map((e => ({ nAccountID: e, type: "franchise" })))), e = e.concat(I.GetAllDeveloperCreatorClans().map((e => ({ nAccountID: e, type: "developer" })))), e = e.concat(I.GetAllPublisherCreatorClans().map((e => ({ nAccountID: e, type: "publisher" })))), e = e.filter((e => ml.jg.Get().BIsFollowingCurator(e.nAccountID)))), e }), [I]), P = (0, bl.useQuery)(["FollowedCreators", y], (() => ts.sV.LoadClanInfoForClanAccountID(R[0].nAccountID).then((e => ({ clanInfo: e, type: R[0].type })))), { enabled: !!T && R && R.length > 0 }), O = (0, bl.useQuery)(["PlayerSummaries", y], (() => (0, r.mG)(this, void 0, void 0, (function* () { var e, t, n; let a = [], r = [], o = []; const i = A ? 10 : 1; let l = []; for (let t = 0; t < (null === (e = D.data.accountids_recommended) || void 0 === e ? void 0 : e.length) && t < i; t++) { const e = j.K.InitFromAccountID(D.data.accountids_recommended[t]); a.push(e.ConvertTo64BitString()), l.push(e.GetAccountID()) } for (let e = 0; e < (null === (t = x.data.in_wishlist) || void 0 === t ? void 0 : t.length) && e < i; e++) { const t = new j.K(x.data.in_wishlist[e].steamid); r.push(t.ConvertTo64BitString()), l.push(t.GetAccountID()) } for (let e = 0; e < (null === (n = x.data.owns) || void 0 === n ? void 0 : n.length) && e < i; e++) { const t = new j.K(x.data.owns[e].steamid); o.push(t.ConvertTo64BitString()), l.push(t.GetAccountID()) } return !f && Fu.BHasWebAPIKey() && (yield Fu.Get().BatchLoadPlayerSummaries(l)), { rgRecommendedFriends: a, rgWishlistFriends: r, rgOwnedFriends: o } }))), { enabled: D.isSuccess && x.isSuccess }); if (!G || B.isLoading || F.isLoading || D.isLoading || x.isLoading || L.isLoading || P.isLoading || O.isLoading) return a.createElement(zi.V, { size: "medium", position: "center" }); let M = []; F.isSuccess && F.data.arrSimilarPlayedApps && F.data.arrSimilarPlayedApps.forEach((e => { const t = ol.Z.Get().GetApp(e.appid); t ? M.push(a.createElement(ed, { key: e.appid, lifetimePlaytime: e.playtimeForever, storeItem: t })) : console.error("Failed to load store data ", y) })); const H = G.GetItemIDs().findIndex((e => e.appid === y)), U = null === (t = F.data) || void 0 === t ? void 0 : t.bRecommendedByIR, X = null === (o = null === (n = x.data) || void 0 === n ? void 0 : n.owns) || void 0 === o ? void 0 : o.length, V = null === (l = null === (i = x.data) || void 0 === i ? void 0 : i.in_wishlist) || void 0 === l ? void 0 : l.length, W = null === (c = null === (s = D.data) || void 0 === s ? void 0 : s.accountids_recommended) || void 0 === c ? void 0 : c.length; let Z = 0; return X > 0 && Z++, V > 0 && Z++, W > 0 && Z++, U && Z++, H >= 0 && Z++, M.length > 0 && Z++, N && (null === (m = null == L ? void 0 : L.data) || void 0 === m ? void 0 : m.length) > 0 && Z++, T && Boolean(P.data) && Z++, Vu("FriendsOwned: ", X, " FriendsWishlisted: ", V, "cRecommended: ", W), a.createElement(a.Fragment, null, Z > 0 && a.createElement("div", { className: Lu().RelevantCtn }, a.createElement("div", { className: Lu().WhyRelevant }, (0, g.Xx)("#DiscoveryQueue_WhyRelevant")), M.length > 0 && a.createElement(nd, { header: (0, g.Xx)("#DiscoveryQueue_SimilarGames") }, a.createElement("div", { className: Lu().ReleventSimilarAppsCtn }, M)), N && (null === (u = null == L ? void 0 : L.data) || void 0 === u ? void 0 : u.length) > 0 && a.createElement(nd, { header: (0, g.Xx)("#ContentHub_Recommendation_Curators") }, a.createElement("div", { className: (0, k.Z)(Lu().ReleventSimilarAppsCtn, Lu().RecommendingCuratorsCtn) }, L.data.map((e => a.createElement($u, { key: "curator_" + e.clanAccountID, curator: e }))))), T && Boolean(P.data) && a.createElement(Ju, { creatorInfo: P.data }), H >= 0 && a.createElement(nd, { header: (0, g.x$)("#DiscoveryQueue_TopSellers", (H + 1).toLocaleString(), a.createElement("span", { className: Lu().RelevantTextBold })) }), U && a.createElement(nd, { header: (0, g.Xx)("#DiscoveryQueue_RecommendedByIR") }), a.createElement(td, { bShowAvatars: A, count: null === (p = null === (d = x.data) || void 0 === d ? void 0 : d.owns) || void 0 === p ? void 0 : p.length, locToken: "#DiscoveryQueue_FriendsOwned", arrSteamIDs: null === (_ = O.data) || void 0 === _ ? void 0 : _.rgOwnedFriends, fnGetFriendState: f }), a.createElement(td, { bShowAvatars: A, count: null === (v = null === (h = x.data) || void 0 === h ? void 0 : h.in_wishlist) || void 0 === v ? void 0 : v.length, locToken: "#DiscoveryQueue_FriendsWishlisted", arrSteamIDs: null === (S = O.data) || void 0 === S ? void 0 : S.rgWishlistFriends, fnGetFriendState: f }), a.createElement(td, { bShowAvatars: A, count: null === (b = null === (E = D.data) || void 0 === E ? void 0 : E.accountids_recommended) || void 0 === b ? void 0 : b.length, locToken: "#DiscoveryQueue_FriendsRecommended", arrSteamIDs: null === (C = O.data) || void 0 === C ? void 0 : C.rgRecommendedFriends, fnGetFriendState: f })), (!w || 0 == Z) && a.createElement("div", { className: (0, k.Z)(Lu().AppDescription, Z && Lu().Divider) }, I.GetShortDescription())) } function Ju(e) { var t; const { creatorInfo: n } = e; if (!n) return null; let r; switch (n.type) { case "publisher": r = "#ContentHub_Recommendation_FollowedPublisher"; break; case "developer": r = "#ContentHub_Recommendation_FollowedDeveloper"; break; case "franchise": r = "#ContentHub_Recommendation_FollowedFranchise" }return r ? a.createElement(nd, { header: (0, g.kQ)(r, a.createElement("span", { className: Lu().RelevantTextBold }, null === (t = n.clanInfo) || void 0 === t ? void 0 : t.group_name)) }) : null } function $u(e) { const { curator: t } = e, n = (0, Ss.iG)(null == t ? void 0 : t.clanAccountID); return t && n ? (console.log(t, n), a.createElement(M.IS, { href: n.GetCreatorHomeURL(null) }, a.createElement("img", { src: t.avatar_medium_url }))) : null } function ed(e) { const { lifetimePlaytime: t, storeItem: n } = e; return a.createElement("div", { className: Lu().SimilarAppCtn }, a.createElement(Nu.ll, { item: { type: "game", id: n.GetAppID() }, bHidePrice: !0, hoverProps: { direction: "overlay", nBodyAlignment: 1, style: { minWidth: "320px", zIndex: 5e3 } } }, a.createElement("img", { className: Lu().SimilarAppImg, src: n.GetAssets().GetSmallCapsuleURL() }))) } function td(e) { const { arrSteamIDs: t, count: n, fnGetFriendState: r, locToken: o, bShowAvatars: i } = e; if (!n) return null; if (1 != n || i) { let e = []; return t.forEach((t => { const o = new j.K(t), l = r ? r(o) : Fu.Get().GetPlayerSummary(o.ConvertTo64BitString()); l && l.m_bInitialized && (1 == n ? e.push(a.createElement(Y.s, { className: Lu().FriendBlockCtn, key: o.ConvertTo64BitString(), "data-miniprofile": "s" + o.ConvertTo64BitString() }, a.createElement(Nt.vV, { persona: l, size: "Small", statusPosition: "right" }), a.createElement(xt.o, { className: Lu().PersonaStatus, persona: l, eFriendRelationship: 3, bIsSelf: !1, strNickname: null, bParenthesizeNicknames: !1, bCompactView: !1, bNoMask: !0 }))) : i && e.push(a.createElement(Nt.vV, { key: o.ConvertTo64BitString(), "data-miniprofile": "s" + o.ConvertTo64BitString(), persona: l, size: "Small", statusPosition: "right" }))) })), a.createElement(nd, { header: (0, g.x$)(o, n, a.createElement("span", { className: Lu().RelevantTextBold })) }, e.length > 0 && a.createElement("div", { className: Lu().FriendAvatarsCtn }, e)) } { const e = new j.K(t[0]), n = r ? r(e) : Fu.Get().GetPlayerSummary(e.ConvertTo64BitString()); return n && n.m_bInitialized ? a.createElement(nd, { header: (0, g.kQ)(o + "_Single", a.createElement("span", { "data-miniprofile": "s" + e.ConvertTo64BitString(), className: Lu().RelevantTextBold }, n.m_strPlayerName)) }) : null } } function nd(e) { const { children: t, header: n } = e; return a.createElement("div", { className: Lu().RelevantItem }, a.createElement("div", { className: Lu().RelevantCheck }, a.createElement(al.JrY, null)), a.createElement("div", { className: Lu().RelevantColumn }, a.createElement("div", { className: Lu().ReleventText }, n), t)) } function ad(e, t) { const n = (0, wu.B1)(e, t); return ue.De.IN_CLIENT ? "steam://openurl/" + n : n } function rd(e) { const { nItemHeight: t, nItemWidth: n, eStoreDiscoveryQueueType: r, fnClose: o, index: i, focused: l, fnLoadNextQueue: s } = e, c = { width: n || void 0, height: t || void 0 }, m = (0, d.SZ)((() => ml.jg.Get().GetWishlistGameCount())), u = (0, d.SZ)((() => ml.jg.Get().GetIgnoredAppsCount())), p = (0, d.SZ)((() => xu.W.Get().GetTotalSkippedAppsForDiscoveryQueue(r))), [_, h] = a.useState(!1), [v, S] = a.useState(!0), [E, b] = a.useState(null), C = (0, Is.bJ)(), y = a.useCallback((() => { h(!0), s(!1).then((() => { h(!0), S(!1) })) }), []); a.useEffect((() => { l && xu.W.Get().BIsSaleActive() && !E && xu.W.Get().GetNumTradingCardsEarned().then((e => { 1 === e.eresult && b(e) })) }), [l]); const f = xu.W.Get().BIsSaleActive() && E; return a.createElement(Se.eh, { style: c, className: (0, k.Z)(Lu().SummaryCtn, Lu().DiscoveryQueueApp, l && Lu().Focused), onOptionsActionDescription: (0, g.Xx)("#DiscoveryQueue_ViewWishlist"), onOptionsButton: () => { window.location.href = ad(ue.De.STORE_BASE_URL + "wishlist", C) }, onOKActionDescription: (0, g.Xx)("#Button_Continue"), onOKButton: y, onCancelActionDescription: (0, g.Xx)("#ActionButtonLabelDone"), onCancelButton: o }, a.createElement("div", { className: Lu().SummaryContentCtn }, a.createElement("div", { className: Lu().SummaryTitle }, (0, g.Xx)("#DiscoveryQueue_SummaryTitle")), a.createElement("div", { className: Lu().YourStats }, (0, g.Xx)("#DiscoveryQueue_YourStats")), a.createElement(Y.s, { "flow-children": "row", className: Lu().SummaryGrid }, a.createElement("div", { className: Lu().GridItem }, a.createElement("div", { className: Lu().GridTitle }, (0, g.Xx)("#DiscoveryQueue_ViewedCaps")), a.createElement("div", { className: Lu().GridNumber }, p.toLocaleString()), a.createElement("div", { className: Lu().GridSubTitle }, (0, g.Xx)("#DiscoveryQueue_Titles"))), a.createElement("div", { className: Lu().GridItem }, a.createElement("div", { className: Lu().GridTitle }, (0, g.Xx)("#DiscoveryQueue_WishlistedCaps")), a.createElement("div", { className: Lu().GridNumber }, m.toLocaleString()), a.createElement("a", { className: (0, k.Z)(Lu().GridSubTitle, Lu().TextLink), href: ad(ue.De.STORE_BASE_URL + "wishlist", C) }, (0, g.Xx)("#DiscoveryQueue_ViewWishlist"))), a.createElement("div", { className: Lu().GridItem }, a.createElement("div", { className: Lu().GridTitle }, (0, g.Xx)("#DiscoveryQueue_IgnoredCaps")), a.createElement("div", { className: Lu().GridNumber }, u.toLocaleString()), a.createElement("a", { className: (0, k.Z)(Lu().GridSubTitle, Lu().TextLink), href: ad(ue.De.STORE_BASE_URL + "account/notinterested", C) }, (0, g.Xx)("#DiscoveryQueue_ViewIgnored")))), !ue.De.IN_GAMEPADUI && a.createElement(Y.s, { className: Lu().SummaryActionButtonsCtn }, a.createElement(Y.s, { className: (0, k.Z)(Lu().QueueButton, Lu().Wide), onClick: o }, (0, g.Xx)("#ActionButtonLabelDone")), v && a.createElement(Y.s, { className: (0, k.Z)(_ && Lu().Disabled, Lu().QueueButton, Lu().Primary, Lu().Wide), onClick: y }, _ ? (0, g.Xx)("#Loading") : (0, g.Xx)("#Button_Continue")))), f && a.createElement(Y.s, { className: Lu().TradingCardCtn }, a.createElement("img", { className: Lu().TradingCardImage, src: ue.De.MEDIA_CDN_URL + "store/promo/summer2022/card_stack.png?v-1" }), a.createElement(Y.s, { className: Lu().TradingCardColumn }, a.createElement("div", { className: Lu().TradingCardText }, (0, g.yu)((null == E ? void 0 : E.earned_today) > 0 ? "#DiscoveryQueue_TradingCardsEarned_Today" : "#DiscoveryQueue_TradingCards_Desc", a.createElement("a", { className: Lu().TextLink, href: ad(ue.De.STORE_BASE_URL + "sale/summersaletradingcards", C) })))))) } var od = n(97024), id = n.n(od), ld = n(38785); n(22229); function sd(e) { const { eStoreDiscoveryQueueType: t, fnGetFriendState: n } = e, [o, i] = (0, a.useState)([]), [l, s] = (0, a.useState)(!1), c = function () { const [e, t] = (0, a.useState)(!1); return (0, a.useEffect)((() => { if (!e) { const e = (0, ue.kQ)("loyalty_webapi_token", "application_config"); "string" == typeof e ? (() => { (0, r.mG)(this, void 0, void 0, (function* () { xu.W.BHasTransport() || xu.W.Init(new Du.J(ue.De.WEBAPI_BASE_URL, e).GetServiceTransport()), Gu.a6.BIsLoaded() || (yield Gu.a6.Init(new Du.J(ue.De.WEBAPI_BASE_URL, e))), Fu.BHasWebAPIKey() || Fu.Init(new Du.J(ue.De.WEBAPI_BASE_URL, e)), (0, ld.nf)(e), t(!0) })) })() : ue.L7.logged_in ? ue.De.IN_GAMEPADUI && t(!0) : (() => { (0, r.mG)(this, void 0, void 0, (function* () { Gu.a6.BIsLoaded() || (yield Gu.a6.Init(new Du.J(ue.De.WEBAPI_BASE_URL, ""))), t(!0) })) })() } }), [e]), e }(), [m, u] = (0, a.useState)(!1), d = a.useRef(), p = a.useRef(0), [_, h] = (0, a.useState)([]); if ((0, bl.useQuery)(["DiscoveryQueueWidget"], (() => Gu.a6.Get().StoryQueryStore.ExecuteQuery("DiscoveryQueueWidget", { sort: 11, start: 0, count: 12, filters: { type_filters: { include_games: !0 } } }).then((e => { i(e.GetItemIDs().map((e => e.appid))) }))), { enabled: c && !ue.L7.logged_in, staleTime: 18e3 }), a.useEffect((() => { m || (() => { (0, r.mG)(this, void 0, void 0, (function* () { if (ue.L7.logged_in && !o.length) { const e = yield xu.W.Get().GetDiscoveryQueueAppsOfType(t, ue.De.COUNTRY, !0); i([...e]) } if (o.length) { let e = Zu; e.include_screenshots = !0, yield ol.Z.Get().QueueMultipleAppRequests(o, e), ml.jg.Get().HintLoad(); const t = o.map((e => a.createElement(cd, { key: "Capsule_" + e, appID: e }))); t.push(a.createElement(cd, { key: "Capsule2_" + o[0], appID: o[0] })), h(t), u(!0) } })) })() }), [t, o, m]), a.useEffect((() => { if (!m) return; let e; const t = performance.now(), n = () => { const a = (performance.now() - t) / 40 % (d.current.offsetWidth - 320); d.current.style.transform = `translateX( -${a}px )`, e = requestAnimationFrame(n) }; e = requestAnimationFrame(n) }), [d, p, m]), !m) return a.createElement(zi.V, { className: id().Placeholder, size: "medium", position: "center" }); const v = () => { ue.L7.logged_in ? s(!0) : window.location.href = `${ue.De.STORE_BASE_URL}login?redir=${encodeURIComponent(document.location.href)}` }; return a.createElement(Y.s, { focusable: !0, onOKButton: v, onOKActionDescription: (0, g.Xx)("#DiscoveryQueue_OpenWizard"), onClick: v, className: id().DiscoveryQueueWidgetCtn }, a.createElement("div", { className: id().WidgetHeaderCtn }, a.createElement("div", { className: id().WidgetHeaderText }, ue.L7.logged_in ? (0, g.Xx)("#DiscoveryQueue_WidgetHeader") : (0, g.Xx)("#DiscoveryQueue_WidgetHeader_LoggedOut")), ue.L7.logged_in && a.createElement("div", { className: id().LaunchAction }, (0, g.Xx)("#DiscoveryQueue_LaunchAction"), " ", a.createElement(al.wx$, { direction: "right" }), " "), !ue.L7.logged_in && a.createElement("div", { className: id().LoginButton }, (0, g.Xx)("#DiscoveryQueue_Error_Login_Title"))), a.createElement("div", { className: id().AppCarouselPosition }, a.createElement("div", { ref: d, className: (0, k.Z)(id().AppCarouselCtn, "vt-scrollable") }, _)), l && a.createElement(Ku, { bWizardVisible: l, strUserCountry: ue.De.COUNTRY, fnCloseModal: () => s(!1), eStoreDiscoveryQueueType: t, fnGetFriendState: n })) } function cd(e) { var t; const { appID: n } = e, [r] = (0, rl.vs)(n, Zu); if (!r) return null; let o = r.GetAssets().GetMainCapsuleURL(); return (null === (t = r.GetOnlyAllAgesSafeScreenshots()) || void 0 === t ? void 0 : t.length) && (o = r.GetOnlyAllAgesSafeScreenshots()[0]), a.createElement("div", { className: id().AppCapsuleCtn, style: { backgroundImage: `linear-gradient(360deg, rgba(0, 0, 0, 0.4) 22.5%, rgba(0, 0, 0, 0) 52.5%), url('${o}')` } }, a.createElement("div", { className: (0, k.Z)(id().CapsuleColumn, id().LibraryImage) }, a.createElement("img", { src: r.GetAssets().GetLibraryCapsuleURL() })), a.createElement("div", { className: id().CapsuleColumn }, a.createElement("div", { className: id().AppName }, r.GetName()), a.createElement(ul.Jc, { bSingleLineMode: !0, info: { id: n, type: (0, s.Yd)(r.GetAppType()) } }))) } function md(e, t) { let n = (0, d.SZ)((() => t.filter((t => { const n = z.dk.GetAppOverviewByAppID(t), a = n && n.BIsOwned(); return -1 == e.indexOf(t) && !a })))); return n = n.slice(0, 12), n } const ud = () => { const e = function (e, t, n, r) { const [o, i] = (0, a.useState)(!0), [l, s] = (0, a.useState)([]); return (0, a.useEffect)((() => { i(!0), Su.Get().GetTagRecommendorForThisSale(null, e, !1, { type: t, category: n, tagid: r }).then((e => { const t = e.map((e => ({ id: e, type: "game" }))); (0, $l.qr)(t, bu.bk).then((() => { (0, $l.A$)(t, !1).then((e => { s(e), i(!1) })) })) })) }), [e, r, n, t]), { bLoading: o, rgTagRecommendations: l } }(12, "greatondeck").rgTagRecommendations.map((e => e.id)), t = md(e, Eu("contenthub_topsellers", 50, 0)), n = Eu("contenthub_newandtrending", 50, 0), r = md([...e, ...t], n); return a.createElement(a.Fragment, null, a.createElement(Cl, null), a.createElement(fl, { rgAppIDs: e, strTitle: (0, g.yu)("#Recommended_NewReleases_Title", a.createElement("span", { className: El().SubHeader })), id: "gamepadnewreleases" }), a.createElement(fl, { rgAppIDs: t, strTitle: (0, g.Xx)("#Recommended_TopSellers_Title"), id: "gamepadtopsellers" }), a.createElement(fl, { rgAppIDs: r, strTitle: (0, g.Xx)("#Recommended_NewAndTrending_Title"), id: "gamepadnewandtrending" })) }, dd = () => { const e = (0, ie.rV)(), t = (0, d.SZ)((() => e.bShowStoreContentOnHome && !e.bIsOfflineMode && ie.cS.BIsConnectedToSteam())); return a.createElement("div", { className: Kl().Recommended }, a.createElement(mt.S, null, t && a.createElement("div", { className: Kl().DiscoveryQueueWidgetCtn }, a.createElement(sd, { fnGetFriendState: e => K.i8.GetFriendState(e).persona, eStoreDiscoveryQueueType: 0 }))), a.createElement(mt.S, null, a.createElement(pd, null)), a.createElement(mt.S, null, t && a.createElement(ud, null))) }, pd = () => { const e = (0, zl.nP)(), t = (0, d.SZ)((() => e.sort(((t, n) => { const a = z.dk.GetAppOverviewByAppID(t); return z.dk.GetAppOverviewByAppID(n).steam_deck_compat_category - a.steam_deck_compat_category || e.indexOf(t) - e.indexOf(n) })))); return a.createElement("div", { className: Kl().PlayNextCarousel }, a.createElement("div", { className: Kl().PlayNextCarouselTitle }, (0, g.Xx)("#GamepadHome_PlayNext")), a.createElement("div", { className: Kl().PlayNextCarouselSubHeading }, (0, g.Xx)("#LibraryHome_PlayNextSubHead")), a.createElement(Fa.wp, null, a.createElement(Bi, { name: (0, g.Xx)("#LibraryHome_PlayNext"), games: t, showFeaturedItem: !1 }))) }; var _d = n(11237), gd = n.n(_d); const hd = e => { const { className: t } = e, n = (0, r._T)(e, ["className"]); return a.createElement("div", Object.assign({ className: (0, k.Z)(t, gd().FriendActivityFeed) }, n), a.createElement(Ea.J, { appid: 0, showTextBox: !1 })) }; var vd = n(46458), Sd = n(65570), Ed = n.n(Sd); const bd = e => { const { friend: t, width: n, height: r } = e, o = { width: n, height: r }, i = a.useCallback((() => { te.Pp.ShowFriendChatDialog(t.persona.m_steamid) }), [t.persona.m_steamid]); return a.createElement(Y.s, { className: Ed().FavoriteFriend, style: o, focusable: !0, onActivate: i }, a.createElement(ya.Sn, { key: t.persona.GetAccountID(), friend: t, bAlwaysShowGameName: !0 })) }, Cd = e => { const { width: t, height: n } = e, r = { width: t, height: n }, o = a.useCallback((() => T.hq.NavigateToChat()), []); return a.createElement(Y.s, { className: Ed().GoToFriends, style: r, focusable: !0, onActivate: o }, (0, g.Xx)("#Friends_GoToFriends")) }, yd = () => { const e = (0, K.YU)(), t = Number.parseInt(Ed().FavoriteCarouselItemWidth), n = Number.parseInt(Ed().FavoriteCarouselItemHeight), r = Number.parseInt(Ed().FavoriteCarouselItemMargin), o = a.useCallback((e => t), [t]); return 0 == e.length ? null : a.createElement("div", { className: Ed().FavoriteCarouselWrapper }, a.createElement("div", { className: Ed().FriendsHeader }, (0, g.Xx)("#Friends_Favorites")), a.createElement(Fa.wp, null, a.createElement(Ai.n, { name: "FavoriteFriends", className: Ed().FavoritesCarousel, nNumItems: e.length + 1, nHeight: n, nItemHeight: n, nItemMarginX: r, fnGetColumnWidth: o, fnGetId: t => t == e.length ? "GoToFriends" : e[t].persona.GetAccountID().toString(), fnItemRenderer: (t, n, r, o) => { if (t == e.length) return a.createElement(Cd, { width: n, height: r }); const i = e[t]; return a.createElement(bd, { key: i.persona.GetAccountID().toString(), friend: i, width: n, height: r }) }, scrollToAlignment: "center" }))) }, fd = e => a.createElement("div", { className: Ed().Friends }, a.createElement(il.g, { keyExtractor: e => e.persona.GetAccountID().toString(), itemRenderer: e => a.createElement("div", { className: Ed().Avatar }, a.createElement(Tt.S5, { size: "X-Small", friend: e })), remainderRenderer: e => a.createElement("div", { className: (0, k.Z)(Ed().Avatar, Ed().Remainder) }, a.createElement("div", { className: Ed().RemainderInner }, a.createElement("div", { className: Ed().RemainderText }, "+", e))), items: e.friends })), Ad = e => { const { appid: t, friends: n, width: r, height: i, gamename: l } = e, s = t && z.dk.GetAppOverviewByAppID(t), c = { width: r, height: i }, m = s && s.visible_in_game_list, u = (0, o.BN)(q.de.BuildStoreAppURL(t, "gamepadhomefriends")), d = (0, si.G)(t, l), p = d.name; return a.createElement(Y.s, { className: Ed().InGameGame, style: c, focusable: !0, onActivate: m ? () => { J.g4.NavigateToApp(t) } : u }, a.createElement("div", { className: Ed().CoverImageWrapper }, a.createElement(si.A, Object.assign({ className: Ed().CoverImage }, d))), a.createElement("div", { className: Ed().RightSide }, a.createElement("div", { className: Ed().Title }, p), a.createElement("div", { className: Ed().FriendsPlaying }, (0, g.kb)("#AppPortraitHover_FriendsPlaying", n.length)), n.length > 1 && a.createElement(fd, { friends: n }), 1 == n.length && a.createElement(ya.Sn, { className: Ed().GamepageHomeFriendsPlaying, key: n[0].persona.GetAccountID(), friend: n[0], renderStatus: () => null }), m && a.createElement("div", { className: Ed().InLibrary }, (0, g.Xx)("#GameCapsule_InLibrary")))) }, Id = (0, Q.Pi)((() => { const e = Number.parseInt(Ed().InGameCarouselItemWidth), t = Number.parseInt(Ed().InGameCarouselItemHeight), n = Number.parseInt(Ed().InGameCarouselItemMargin), r = (0, K.Cs)(), o = (e => (0, d.SZ)((() => new Map(Array.from(e).filter((e => { var t; return (null === (t = vd.Q8.GetAppInfo(e[0])) || void 0 === t ? void 0 : t.is_valid) || e[1][0].persona.GetCurrentGameName() }))))))(r), i = (0, K.wv)(), { rgInGame: l, rgOnline: s } = (0, K.lr)(); a.useEffect((() => { vd.Q8.EnsureAppInfoForAppIDs(Array.from(r.keys())) })); const c = Array.from(o.keys()).sort(((e, t) => { if (o.get(e).length != o.get(t).length) return o.get(t).length - o.get(e).length; const n = z.dk.GetAppOverviewByAppID(e), a = z.dk.GetAppOverviewByAppID(t), r = (null == n ? void 0 : n.minutes_playtime_forever) || 0; return ((null == a ? void 0 : a.minutes_playtime_forever) || 0) - r || e - t })), m = a.useCallback((t => e), [e]), u = c.length + i.length; return 0 == u ? null : a.createElement("div", { className: Ed().InGameCarouselWrapper }, a.createElement("div", { className: Ed().FriendsHeader }, (0, g.kb)("#Friends_PlayingNow", l.length)), a.createElement(Fa.wp, null, a.createElement(Ai.n, { name: "FriendsPlayingNow", className: Ed().InGameCarousel, nNumItems: u, nHeight: t, nItemHeight: t, nItemMarginX: n, fnGetColumnWidth: m, fnGetId: e => e < c.length ? c[e].toString() : i[e - c.length].persona.GetAccountID().toString(), fnItemRenderer: (e, t, n, r) => { if (e < c.length) { const r = c[e], i = o.get(r); return a.createElement(Ad, { key: r, appid: r, friends: i, width: t, height: n }) } { e -= c.length; const r = i[e], o = r.persona.GetCurrentGameName(); return a.createElement(Ad, { key: r.persona.GetAccountID(), gamename: o, friends: [r], width: t, height: n }) } }, scrollToAlignment: "center" }))) })), kd = e => { const { className: t } = e, n = (0, r._T)(e, ["className"]); return a.createElement("div", Object.assign({ className: (0, k.Z)(t, Ed().LibraryHomeFriends) }, n), a.createElement(yd, null), a.createElement(Id, null), a.createElement(hd, null)) }; var wd = n(19329), Nd = n(1981); var Td = n(92520), xd = n.n(Td); const Dd = a.createContext(null), Fd = a.memo((function () { const [e, t] = (0, dt.i4)("HomeTabsActive", !1), [n, r] = (0, dt.i4)("HomeActiveTab", null), o = a.useRef(), i = a.useRef(), l = a.useRef(!0); (0, Ct.Qx)(o, 250); const s = a.useCallback((e => { var n; e && (t(!1), null === (n = o.current) || void 0 === n || n.scrollTo({ top: 0, behavior: "smooth" })) }), [t, o]); let c = a.useCallback((e => { e && t(e) }), [t]); const m = a.useCallback((e => { var t; r(e), t = "/GamepadHome/" + e, Nd.q.ReportTrackedAction(t) }), [r]), u = a.useCallback((t => { const n = l.current; l.current = !1; let a = o.current, r = i.current; if (!e || !a || !r) return; const s = function (e) { let t = r.getBoundingClientRect().top + a.scrollTop - parseInt(xd().headerPadding); a.scrollTo({ top: t, behavior: e }) }; n ? window.setTimeout((() => s("auto")), 1) : s(t || "smooth") }), [e]); a.useEffect((() => { u() }), [u]); let d = T.hq.IsBackstackRootTestEnabled() ? () => { } : void 0; return a.createElement(Dd.Provider, { value: { fnScrollTabsToTop: u } }, a.createElement(ln.$x, { headerVisibility: "fadeInBackgroundOnScroll", padForHeader: !1, minimumOpacity: 0, scrollable: !1, flexed: !0 }, a.createElement(Y.s, { className: xd().BackstackRootTest, onCancel: d, scrollIntoViewType: ku.mz.NoTransform }, a.createElement(he.P8, { ref: o, className: xd().ScrollArea, scrollPaddingTop: 0 }, a.createElement(Y.s, { className: xd().RecentSection, onFocusWithin: s, autoFocus: !0, focusableIfNoChildren: !0 }, a.createElement(mt.S, null, a.createElement(Xi, { autoFocus: !0, showBackground: !0 }))), a.createElement("div", { ref: i, className: xd().TabbedContent }, a.createElement(Gd, { onFocusWithin: c, strActiveTab: n, setActiveTab: m })), a.createElement(wd.B3, null))))) })), Gd = a.memo((function (e) { const { onFocusWithin: t, setActiveTab: n, strActiveTab: r } = e, o = function () { const e = xd().contentBottomPadding; return a.useMemo((() => { let t = []; return t.push({ id: "WhatsNew", title: "#HomeTab_WhatsNew", content: a.createElement(Ml, null), scrollStyle: { scrollPaddingBottom: e, paddingBottom: e } }), t.push({ id: "Friends", title: "#HomeTab_Friends", content: a.createElement(kd, null), renderTabAddon: ({ active: e }) => a.createElement(ya.Ic, { tabSelected: e, bFriendsTabOverride: !0 }), feature: 4, scrollStyle: { scrollPaddingBottom: e, paddingBottom: e } }), t.push({ id: "Recommended", title: "#HomeTab_Recommended", content: a.createElement(dd, null), scrollStyle: { scrollPaddingBottom: e, paddingBottom: e } }), t }), [e]) }(); return a.createElement(Fa.TI, { tabs: o, activeTab: r, onShowTab: n, onFocusWithin: t, autoFocusContents: !1 }) })); var Bd = n(90790), Ld = n.n(Bd), Rd = n(44301), Pd = n(9168), Od = n(17418), Md = n.n(Od); const Hd = "deck_desktopapp_intro_seen", Ud = "com.google.Chrome"; function Xd(e) { const t = a.useRef(), [n, o] = a.useState(!1), [i, l] = function () { const [e, t] = a.useState(void 0), n = (0, m.Sd)(); a.useEffect((() => { (function () { return (0, r.mG)(this, void 0, void 0, (function* () { const e = new Dl.E; return "1" == (yield e.GetString(Hd)) })) })().then((e => { n() || t(e) })) }), [n]); const o = a.useCallback((e => { t(e), function (e) { (0, r.mG)(this, void 0, void 0, (function* () { const t = new Dl.E; yield t.StoreString(Hd, e ? "1" : "0") })) }(e) }), []); return [e, o] }(), s = (0, d.SZ)((() => gr.IsInstalling(Ud))), c = e.collection.allApps.length > 0, u = a.useCallback((() => { o(!1), l(!0) }), [l]), p = a.useCallback((() => { ue.De.ON_DECK && o(!0) }), []); if (a.useEffect((() => { n || !1 !== i || p() }), [i, n, p]), void 0 === i) return null; const _ = ue.De.ON_DECK && s && !n, g = ue.De.ON_DECK && !c && !n && !_; return a.createElement(Y.s, { className: Md().DesktopApps, retainFocus: !0, noFocusRing: !0 }, a.createElement(Y.s, { childFocusDisabled: n, className: (0, k.Z)(n && Md().Blurred) }, _ && a.createElement(Wd, null), g && a.createElement(Vd, { navRef: t, onActivate: p }), c && a.createElement(Qd, Object.assign({}, e, { ignoreFiltering: !0 }))), n && a.createElement(Zd, { installingChrome: s, onClose: u })) } function Vd(e) { let { navRef: t, onActivate: n } = e; return a.createElement(Y.s, null, a.createElement("div", { className: Md().HeaderBlock }, a.createElement("span", { className: Md().HeaderBody }, (0, g.Xx)("#Library_DesktopApps_LearnMoreBody")), a.createElement(Y.s, { navRef: t, className: Md().HeaderButton, onActivate: n, noFocusRing: !0 }, (0, g.Xx)("#Library_DesktopApps_LearnMore")))) } function Wd(e) { return a.createElement("div", { className: (0, k.Z)(Md().HeaderBlock, Md().InstallingChromeHeader) }, a.createElement("span", { className: Md().HeaderBody }, a.createElement(l.$jN, null), " ", (0, g.Xx)("#Library_DesktopApps_InstallingChrome"))) } function Zd(e) { const { onClose: t } = e, n = a.useCallback((() => (0, r.mG)(this, void 0, void 0, (function* () { yield gr.InstallApp(Ud, "--window-size=1024,640 --force-device-scale-factor=1.25 --device-scale-factor=1.25"), t() }))), [t]); return a.createElement(Y.s, { className: Md().DialogContainer, navEntryPreferPosition: ku.c4.PREFERRED_CHILD, onCancel: t, autoFocus: !0, retainFocus: !0, noFocusRing: !0 }, a.createElement("div", { className: (0, k.Z)(Md().Content, e.installingChrome && Md().Installing) }, e.installingChrome && a.createElement(a.Fragment, null, a.createElement("div", { className: Md().Header }, (0, g.Xx)("#Library_DesktopApps_InstallingChrome")), a.createElement(zi.V, { className: Md().Throbber }), a.createElement(i.zx, { className: Md().CloseButton, onClick: e.onClose }, (0, g.Xx)("#Generic_Close"))), !e.installingChrome && a.createElement(a.Fragment, null, a.createElement("div", { className: Md().Header }, (0, g.Xx)("#Library_DesktopApps_DialogHeader")), a.createElement("div", { className: Md().Body }, (0, g.Xx)("#Library_DesktopApps_DialogBody1")), a.createElement("div", { className: Md().Body }, (0, g.Xx)("#Library_DesktopApps_DialogBody2")), a.createElement(i.Uq, { className: Md().ButtonRow }, a.createElement(i.zx, { onClick: e.onClose }, (0, g.Xx)("#Library_DesktopApps_NotNow")), a.createElement(i.KM, { preferredFocus: !0, onClick: n }, (0, g.Xx)("#Library_DesktopApps_AddChrome")))))) } var zd = n(22336); const qd = [Ga.ZK.Favorites, Ga.ZK.LocalGames]; function Kd() { let e = (0, oe.$B)(o.Z5.Library.Collection()), t = (0, oe.$B)(o.Z5.Library.AllCollections()); const { strActiveTab: n, onShowTab: r } = (0, Fa.hR)(o.Z5.GamepadUI.Library.Tab), i = (0, dt.bz)(Jd), [l, s] = a.useState(!1); (0, m.KS)((() => s(!0)), 450), (0, pt.co)(l ? "show-expanded" : "show-icon", "GamepadLibrary"); let { strActiveTab: c, collectionid: u } = T.hq.GetLastLibraryTab() || { strActiveTab: "DeckGames" }; return n ? (c = n, u = i) : e && i ? (c = "Collections", u = i) : t && (c = "Collections", u = void 0), a.createElement(jd, { tab: c, collectionid: u, onShowTab: r }) } const jd = a.memo((function (e) { const { tab: t, collectionid: n, onShowTab: r } = e; let o = t, i = function (e) { const { eSortBy: t, setSortBy: n, showSortingContextMenu: r } = (0, Rd.rM)(); let o = J.g4.collectionsAppFilter; const { allApps: i, installedApps: l, favoriteApps: s, steamDeckVerifiedApps: c, desktopApps: m } = (0, d.SZ)((() => ({ allApps: Ga.NW.GetCollection(Ga.ZK.AllGames), installedApps: Ga.NW.GetCollection(Ga.ZK.LocalGames), favoriteApps: Ga.NW.GetCollection(Ga.ZK.Favorites), steamDeckVerifiedApps: Ga.NW.GetCollection(Ga.ZK.NeptuneGames), desktopApps: Ga.NW.GetCollection(Ga.ZK.DeckDesktopApps) }))); return a.useMemo((() => { const u = { eSortBy: t, setSortBy: n, showSortingContextMenu: r }, d = (e, t, n) => ({ id: e, title: n, renderTabAddon: () => a.createElement(Fa.z5, { count: t.GetAppCountWithToolsFilter(o) }), content: a.createElement(Qd, Object.assign({ collection: t }, u)), footer: { onOptionsButton: () => { r() }, onOptionsActionDescription: (0, g.Xx)("#Library_SortCollectionBy"), onSecondaryButton: () => { (0, Pd.y)(t.id) }, onSecondaryActionDescription: a.createElement(Rd.$G, null) } }); let p = [d("DeckGames", c, "#LibraryTab_DeckGames"), d("AllGames", i, "#LibraryTab_AllGames"), d("Installed", l, "#LibraryTab_Installed")]; p[0].footer.onSecondaryActionDescription = a.createElement(Rd.$G, { overrideCompatFilter: zd.bk.SteamDeckVerified }); const _ = s.GetAppCountWithToolsFilter(o), h = (0, Ba.zq)(qd); if (_ > 0 && p.push(d("Favorites", s, "#LibraryTab_Favorites")), h > 0) { let t; t = e ? { onOptionsButton: () => { r() }, onOptionsActionDescription: (0, g.Xx)("#Library_SortCollectionBy"), onSecondaryButton: () => { (0, Pd.y)(e) }, onSecondaryActionDescription: a.createElement(Rd.$G, null) } : { onSecondaryButton: () => { (0, Pd.y)("") }, onSecondaryActionDescription: a.createElement(Rd.$G, null) }, p.push({ id: "Collections", title: "#LibraryTab_Collections", renderTabAddon: () => a.createElement(Fa.z5, { count: (0, Ba.zq)(qd) }), content: a.createElement(Yd, Object.assign({ collectionid: e }, u)), footer: t }) } return p.push({ id: "DesktopApps", title: "#LibraryTab_NonSteam", renderTabAddon: () => a.createElement(Fa.z5, { count: m.visibleApps.length }), content: a.createElement(Xd, Object.assign({ collection: m }, u)) }), p }), [i, e, s, l, c, o, m, r, t, n]) }(n); return a.useEffect((() => T.hq.SetLastLibraryTab(o, "Collections" == o ? n : void 0)), [o, n]), 0 == i.length ? null : (-1 == i.findIndex((e => e.id == o)) && (o = i[0].id), a.createElement(Y.s, { className: Ld().GamepadLibrary, onCancel: T.hq.GetBackstackRootTest() }, a.createElement(Fa.TI, { tabs: i, activeTab: o, onShowTab: r, autoFocusContents: !0 }))) })); function Qd(e) { let t = e.collection, n = a.useContext(Fa.x0); const r = [2, 1], o = (0, d.SZ)((() => t.visibleApps.filter((e => -1 != r.indexOf(e.canonicalAppType))))), i = (0, d.SZ)((() => o.filter((t => e.ignoreFiltering || J.g4.collectionsAppFilter.Matches(t))))), l = o.length - i.length, s = 0 == i.length, c = { onSecondaryButton: () => { (0, Pd.y)(t.id) }, onSecondaryActionDescription: a.createElement(Rd.$G, null) }; return a.createElement("div", { className: Ld().AppGridContents }, l > 0 && a.createElement(Y.s, Object.assign({ focusable: s, onActivate: () => (0, Pd.y)(t.id), className: (0, k.Z)(s && Ld().AppGridFilterHeaderAsButton, Ld().AppGridFilterHeader) }, c), a.createElement("span", { className: Ld().AppGridFilterText }, (0, g.kQ)(l > 1 ? "#Library_FilteredByHeader" : "#Library_FilteredByHeader_Singular", l, a.createElement(or.VC, { button: st.FX.X, type: or.yV.Knockout, size: or.iM.Small })))), a.createElement(Rd.G1, { appOverviews: i, strCollectionId: t.id, elScrollElement: n, hideFilterFooterButton: e.ignoreFiltering, eSortBy: e.eSortBy, setSortBy: e.setSortBy, showSortingContextMenu: e.showSortingContextMenu })) } function Yd(e) { const { collectionid: t } = e; return a.createElement(Y.s, { retainFocus: !0 }, t && a.createElement(ep, Object.assign({}, e)), !t && a.createElement($d, null)) } function Jd(e) { const t = (0, oe.LX)(e, o.Z5.Library.Collection()); return t && t.params.collectionid && decodeURIComponent(t.params.collectionid) } function $d(e) { let t = a.useContext(Fa.x0); return a.createElement(Y.s, { className: Ld().CollectionContents, retainFocus: !0, focusableIfNoChildren: !0 }, a.createElement(Ba.Cl, { coverSize: ie.cS.settings.nLibraryDisplaySize, scrollElement: t, autofocus: !1, bHideCreateButton: !0, filterCollections: qd })) } function ep(e) { const { collectionid: t } = e, n = (0, r._T)(e, ["collectionid"]); let o = Ga.NW.GetCollection(t); return o ? a.createElement(Y.s, { onCancel: tp }, a.createElement("div", { className: Ld().CollectionHeader }, o.displayName), a.createElement(Qd, Object.assign({ collection: o }, n))) : null } function tp() { J.g4.NavigateToAllCollections(!0) } var np = n(91180), ap = n(39131), rp = n(94537), op = n(19670); function ip(e) { let t = (0, m.e1)(_o.CurrentLanguage), n = (0, m.e1)(_o.AvailableLanguages), r = function (e, t) { const [n, r] = a.useState(0); return (0, m.Yz)((() => { r(e ? n + 1 : 0) }), t, [e]), e && 0 != e.length ? e[n % e.length] : null }((0, m.e1)(_o.WelcomeText), 5e3), o = function (e, t, n) { return a.useCallback((a => { let r = null; e != a.strShortName && (r = _o.SetCurrentLanguage(a), n()), r ? r.then(t) : t() }), [e, t, n]) }(t, e.onContinue, e.onLocalizationChanged), i = { enter: ap.Enter, enterActive: ap.EnterActive, exit: ap.Exit, exitActive: ap.ExitActive, exitDone: ap.ExitDone }, l = (0, k.Z)(ap.LanguageScreen, e.animate && ap.Animate); return a.createElement(Y.s, { className: l, onCancelButton: () => !0, onCancelActionDescription: null }, a.createElement(Y.s, { className: ap.LeftColumn }, a.createElement(rp.Z, { className: ap.WelcomeTransitionGroup, appear: !0, enter: !0, exit: !0 }, a.createElement(op.Z, { key: r.strSelect + " " + r.strWelcome, classNames: i, in: !0, timeout: 2e3 }, a.createElement("div", { className: ap.WelcomeTextGroup }, a.createElement("div", { className: ap.WelcomeText }, r.strWelcome), a.createElement("div", { className: ap.ChooseLanguageLabel }, r.strSelect))))), a.createElement(Y.s, { className: ap.RightColumn }, a.createElement(lp, { languages: n, onSelect: o }))) } function lp(e) { return a.createElement(Y.s, { className: ap.LanguageList, noFocusRing: !0, autoFocus: !0, navEntryPreferPosition: ku.c4.FIRST }, e.languages.map((t => a.createElement(sp, { key: t.strShortName, language: t, onSelect: e.onSelect })))) } function sp(e) { if ("none" == e.language.strShortName) return null; return a.createElement(Y.s, { className: ap.LanguageItem, onActivate: () => e.onSelect(e.language), noFocusRing: !0, autoFocus: !0 }, e.language.strLocalizedName) } var cp = n(33673); function mp(e) { let t = (0, m.e1)(_o.CurrentTimeZoneID), n = (0, m.e1)(_o.AvailableTimeZones), r = e.onContinue, o = a.useCallback((e => { r() }), [r]), i = (0, k.Z)(cp.TimezoneScreen, e.animate && cp.Animate); return a.createElement(Y.s, { className: i, onCancelButton: e.onBack }, a.createElement(Y.s, { className: cp.LeftColumn }, a.createElement("div", { className: cp.WelcomeTextGroup }, a.createElement("div", { className: cp.WelcomeText }, (0, g.Xx)("#Settings_TimeAndDate_ChooseTimezone_OOBE")))), a.createElement(Y.s, { className: cp.RightColumn }, a.createElement(dp, { currentTimeZoneID: t, timezones: n, onSelect: o }))) } function up(e) { return a.createElement(Y.s, { className: cp.TimezoneItem, onActivate: () => e.onSelect(e.tz.timezoneID), onFocus: () => _o.SetCurrentTimeZoneID(e.tz.timezoneID), noFocusRing: !0, autoFocus: e.bSelected }, a.createElement(Go, { tz: e.tz })) } function dp(e) { return a.createElement(Y.s, { className: cp.TimezoneList, noFocusRing: !0, autoFocus: !0, navEntryPreferPosition: ku.c4.FIRST }, e.timezones.map((t => a.createElement(up, { key: t.timezoneID, tz: t, bSelected: e.currentTimeZoneID == t.timezoneID, onSelect: e.onSelect })))) } var pp = n(32905), _p = n(23271); function gp(e) { let { leftIcons: t, rightIcons: n, children: o, "flow-children": i, disabled: l } = e, s = (0, r._T)(e, ["leftIcons", "rightIcons", "children", "flow-children", "disabled"]); return s.onClick || s.onActivate || (s.onOKActionDescription = null), a.createElement(Y.s, Object.assign({ noFocusRing: !0, focusable: !l }, s, { className: (0, k.Z)(_p.OOBEButton, l && _p.Disabled) }), t && a.createElement("div", { className: (0, k.Z)(_p.Icons, _p.Left) }, t), a.createElement(Y.s, { className: _p.Label, "flow-children": i }, o), n && a.createElement("div", { className: (0, k.Z)(_p.Icons, _p.Left) }, n)) } function hp(e) { const { leftIcons: t, label: n } = e, o = (0, r._T)(e, ["leftIcons", "label"]), l = a.useRef(); return a.createElement(Y.s, { className: _p.OOBEButton, focusable: !1, onClick: () => { var e; o.onChange && o.onChange(!o.value), null === (e = l.current) || void 0 === e || e.TakeFocus() }, navRef: l }, t && a.createElement("div", { className: (0, k.Z)(_p.Icons, _p.Left) }, t), a.createElement(Y.s, { className: _p.Label }, n), a.createElement(i.hp, Object.assign({}, o))) } function vp(e) { (0, sn.NH)(), a.useEffect((() => { const e = sn.$u.Get().connectivityTestState; sn.$u.Get().hasInternetConnection || e.eConnectivityTestResult != s.kg.k_EConnectivityTestResult_Unknown || e.bChecking || sn.$u.Get().RecheckConnectivity() }), []); const t = (0, sn.er)(), n = (0, sn.CX)(), r = function (e, t) { const [n, r] = a.useState(!T.hq.BIsInOOBE || !e); return a.useEffect((() => { n || e || r(!0) }), [n, e]), n && t }(t, n), o = Kn(), i = a.useRef(); !function (e, t) { a.useEffect((() => { let t = e.current; if (t.BFocusWithin()) { let e = t.NavTree().GetLastFocusedNode().m_element, n = t.Node().m_element, a = !0; for (let t = e; t && t != n; t = t.parentElement)if (t.previousSibling) { a = !1; break } a || e.scrollIntoView() } else t.NavTree().IsActiveFocusNavTree() && t.TakeFocus() }), [e, t.length]) }(i, o); const c = 0 != uo.P.GetLoginUsers().length && !T.hq.BIsInOOBE, m = (0, k.Z)(pp.NetworkScreen, e.animate && pp.Animate); return a.createElement(Y.s, { className: m, onCancelButton: e.onBack }, a.createElement(Y.s, { className: pp.LeftColumn }, a.createElement("div", { className: pp.WelcomeText }, (0, g.Xx)("#Login_Welcome_ChooseYourNetwork")), a.createElement(Sp, null)), a.createElement(Y.s, { className: pp.RightColumn, autoFocus: !0 }, a.createElement(Y.s, { className: pp.NetworkList, navEntryPreferPosition: ku.c4.PREFERRED_CHILD, navRef: i }, r && a.createElement(Y.s, { className: pp.ListSection }, a.createElement(Ep, null)), a.createElement(Y.s, { className: pp.ListSection, preferredFocus: !0 }, o.map((t => a.createElement(bp, { key: t.key, accessPoint: t, canContinue: e.canContinue, onContinue: e.onContinue }))), 0 == o.length && a.createElement(gp, { rightIcons: t && a.createElement(l.$jN, null) }, (0, g.Xx)("#Login_NoNetworksFound")), t && n && a.createElement(gp, { onActivate: () => yn() }, (0, g.Xx)("#Settings_Internet_Custom_Network_Button")), c && a.createElement(gp, { onActivate: e.onContinueOffline }, (0, g.Xx)("#Login_LoginOffline"))), a.createElement(Y.s, { className: pp.ListSection }, a.createElement(gp, { onActivate: () => Un(), rightIcons: a.createElement(l.$nC, { direction: "right" }) }, (0, g.Xx)("#Settings_Internet_Proxy_Settings")))))) } function Sp(e) { const t = (0, sn.KD)(), n = (0, sn.Pz)(); return t ? a.createElement("div", { className: pp.NetworkWarning }, a.createElement("div", { className: pp.NetworkWarningLabel }, a.createElement(l.ge, null), n ? (0, g.Xx)("#Settings_Internet_Captive_Portal_Detected") : (0, g.Xx)("#Settings_Internet_Connected_To_Network_But_Not_Internet")), n && a.createElement("div", { className: pp.CaptivePortalButtonContainer }, a.createElement(i.zx, { onClick: () => Sn() }, (0, g.Xx)("#Settings_Internet_Captive_Portal_Login_Button")))) : null } function Ep(e) { const t = (0, sn.er)(); return a.createElement(hp, { value: t, onChange: e => sn.$u.Get().SetWifiEnabled(e), label: (0, g.Xx)("#Settings_Internet_Wifi_Enabled") }) } function bp(e) { var t; const { accessPoint: n, canContinue: r, onContinue: o } = e; (0, Cn.F)(n); const i = n.type == s.e9.Wireless, c = n.isConnected, u = (0, sn.I3)(), d = (0, sn.k4)(), p = c && u, _ = c && !u && d.eConnectivityTestResult != s.kg.k_EConnectivityTestResult_Unknown, h = n.showAsLocked, v = n.displayName, S = zn(n) || n.isConnected && d.bChecking, E = a.useCallback((() => { Ln(n) }), [n]), b = (0, m.Sd)(), C = a.useCallback((() => { n.isConnected && sn.$u.Get().hasInternetConnection && !b() && o && o() }), [n, o, b]), y = a.useCallback((() => { yn(n, { fnOnClose: C }) }), [n, C]); if (!n) return null; const f = {}; n.isConnectable ? (f.onOKButton = y, f.onOKActionDescription = (0, g.Xx)("#Settings_Internet_Connect")) : n.isConnected && r ? (f.onOKButton = o, f.onOKActionDescription = (0, g.Xx)("#Login_Continue")) : (f.onOKButton = () => { }, f.onOKActionDescription = null), f.onMenuActionDescription = (0, g.Xx)("#Settings_Internet_Info"), f.onMenuButton = E; const A = c && r ? o : n.isConnectable ? y : E; return a.createElement(gp, Object.assign({}, f, { onClick: A, leftIcons: S ? a.createElement(l.$jN, null) : p ? a.createElement(l.MCw, { className: pp.Checkmark }) : _ ? a.createElement(l.ge, null) : null, rightIcons: a.createElement(a.Fragment, null, h && a.createElement(l.HEZ, { locked: !0 }), i ? a.createElement(l.Zcv, { strength: null === (t = null == n ? void 0 : n.wirelessAPInfo) || void 0 === t ? void 0 : t.estrength }) : a.createElement(l.Xup, null)) }), a.createElement(Sr.R, null, v)) } var Cp = n(14344), yp = (n(74963), n(81602)), fp = n(65688); function Ap(e) { switch (e) { case 3: return (0, g.Xx)("#Login_NoConnection"); case 5: return (0, g.Xx)("#Login_PasswordMismatch"); case 88: return (0, g.Xx)("#Login_TwoFactorMismatch"); case 71: return (0, g.Xx)("#Login_SteamGuardExpired"); case 65: return (0, g.Xx)("#Login_SteamGuardMismatch"); case 84: return (0, g.Xx)("#Login_RateLimitExceeded"); case 20: return (0, g.Xx)("#Login_ServiceUnavailable"); case 72: return (0, g.Xx)("#Login_LoginRestrictionFailed"); case 6: return (0, g.Xx)("#Login_LoggedInElsewhere"); case 126: return (0, g.Xx)("#Login_CachedCredentialInvalid") }return String(e) } const Ip = e => { const { className: t, children: n } = e, r = (0, k.Z)(np.LoginBackground, t); return a.createElement("div", { className: r }, a.createElement("div", { className: np.LoginContainer }, n)) }, kp = e => { const t = 0 != e.avatarUrl.length; return a.createElement("div", { className: np.LoginUserInContextMenu }, a.createElement("div", { className: np.UserAvatar }, t ? a.createElement("img", { src: e.avatarUrl }) : a.createElement(l.n5m, null)), a.createElement("div", { className: np.UserAccountName }, e.strAccountName)) }; function wp(e) { return a.createElement(_t.xV, null, a.createElement(kp, { avatarUrl: e.avatarUrl, strAccountName: e.accountName }), a.createElement(_t.Zo, { onSelected: () => { uo.P.RemoveUser(e.accountName).then((() => e.onRemove && e.onRemove())) } }, (0, g.Xx)("#Login_RemoveUser_Menu"))) } var Np, Tp; !function (e) { e[e.None = 0] = "None", e[e.Forward = 1] = "Forward", e[e.Backward = 2] = "Backward" }(Np || (Np = {})), function (e) { e[e.LanguageScreen = 0] = "LanguageScreen", e[e.TimezoneScreen = 1] = "TimezoneScreen", e[e.NetworkSetupScreen = 2] = "NetworkSetupScreen", e[e.UpdateScreen = 3] = "UpdateScreen", e[e.CachedUsersPanel = 4] = "CachedUsersPanel", e[e.SignInPanel = 5] = "SignInPanel" }(Tp || (Tp = {})); let xp = [], Dp = Tp.LanguageScreen, Fp = class extends a.PureComponent { constructor(e) { super(e), this.modeHistory = [], this.m_navRef = a.createRef(), this.m_suppressHeaderInteractionInput = pt.Ni.m_bSuppressInteraction.CreateInput("LoginPanelLoginForm"), this.m_strLastAccountName = uo.P.accountName, this.m_nStepCount = 0, this.m_eNavigationDirection = Np.None, this.m_lastMode = void 0; const { loginState: t } = e; let n; switch (t) { case 1: case 2: this.modeHistory = xp.slice(), n = Dp; break; default: n = 0 != uo.P.GetLoginUsers().length ? Tp.CachedUsersPanel : Tp.SignInPanel }yp.mg.BResettingPIN() && (n = Tp.SignInPanel), this.state = { mode: n, bOfflineMode: !1, bChangedLocalization: !1 } } NavigateToMode(e) { this.modeHistory.push(this.state.mode), this.m_navRef.current && this.m_navRef.current.PushState(), this.m_nStepCount++, this.m_eNavigationDirection = Np.Forward, this.setState({ mode: e }) } componentDidUpdate() { var e; void 0 !== this.m_lastMode && this.state.mode == this.m_lastMode || (null === (e = this.m_navRef.current) || void 0 === e || e.TakeFocus(), this.m_lastMode = this.state.mode), this.UpdateSuppressHeaderInteraction() } componentDidMount() { var e; this.state.mode == Tp.CachedUsersPanel && this.m_strLastAccountName.length > 0 && this.NavigateToMode(Tp.SignInPanel), this.m_lastMode = this.state.mode, null === (e = this.m_navRef.current) || void 0 === e || e.TakeFocus(), this.UpdateSuppressHeaderInteraction() } UpdateSuppressHeaderInteraction() { switch (this.state.mode) { case Tp.LanguageScreen: case Tp.NetworkSetupScreen: case Tp.UpdateScreen: this.m_suppressHeaderInteractionInput.Set(!0); break; default: this.m_suppressHeaderInteractionInput.Set(!1) } } componentWillUnmount() { xp = this.modeHistory.slice(), Dp = this.state.mode, this.m_suppressHeaderInteractionInput.Delete() } OnLocalizationChanged() { this.setState({ bChangedLocalization: !0 }) } OnRestart() { this.NavigateToMode(Tp.NetworkSetupScreen) } OnContinue() { switch (this.state.mode) { case Tp.LanguageScreen: this.NavigateToMode(Tp.TimezoneScreen); break; case Tp.TimezoneScreen: this.NavigateToMode(Tp.NetworkSetupScreen); break; case Tp.NetworkSetupScreen: this.BUserCanProceedFromInternet() && (this.setState({ bOfflineMode: !1 }), T.hq.BIsInOOBE ? this.NavigateToMode(Tp.UpdateScreen) : this.ProceedToSignIn()); break; case Tp.UpdateScreen: if (this.state.bChangedLocalization) return void SteamClient.User.StartRestart(); this.ProceedToSignIn(), this.modeHistory = [] } } BUserCanProceedFromInternet() { return T.hq.BIsInOOBE ? sn.$u.Get().hasInternetConnection : ue.De.ON_DECK ? sn.$u.Get().hasNetworkConnection : sn.$u.Get().hasSteamConnection || sn.$u.Get().hasNetworkConnection } ProceedToSignIn() { SteamClient.User.FlipToLogin(), 0 == uo.P.GetLoginUsers().length ? (this.NavigateToMode(Tp.SignInPanel), this.setState({ bOfflineMode: !1 })) : (this.NavigateToMode(Tp.CachedUsersPanel), this.setState({ bOfflineMode: !1 })) } OnGoBack() { if (this.props.isReauthentication) SteamClient.User.ChangeUser(); else if (0 != this.modeHistory.length) { let e = this.modeHistory.pop(); this.m_nStepCount++, this.m_eNavigationDirection = Np.Backward, this.setState({ mode: e }, (() => this.m_navRef.current.PopState())) } } LoginWithCachedCredentials(e) { return (0, r.mG)(this, void 0, void 0, (function* () { (yield SteamClient.User.SetLoginCredentialsFromCache(e, this.state.bOfflineMode)) ? this.state.bOfflineMode ? SteamClient.User.StartOffline(!0) : SteamClient.User.StartLogin() : (this.m_strLastAccountName = e, this.NavigateToMode(Tp.SignInPanel)) })) } LoginWithCredentials(e, t, n) { if (SteamClient.User.SetLoginCredentials(e, t, n), this.state.bOfflineMode) { const e = !0; SteamClient.User.StartOffline(e) } else SteamClient.User.StartLogin() } ShowNewLogin(e) { this.m_strLastAccountName = "", this.NavigateToMode(Tp.SignInPanel) } OnContinueOffline() { this.NavigateToMode(Tp.CachedUsersPanel), this.setState({ bOfflineMode: !0 }) } OnRemoveCachedUser() { console.log(uo.P.GetLoginUsers().length), uo.P.GetLoginUsers().length || this.NavigateToMode(Tp.SignInPanel), this.m_strLastAccountName = "" } CreateRemoveUserContextMenu(e, t) { (0, it.yV)(a.createElement(wp, { accountName: e, avatarUrl: t, onRemove: this.OnRemoveCachedUser }), null) } renderCachedUsers() { let e = uo.P.GetLoginUsers().map(((e, t) => { const n = 0 != e.avatarUrl.length; let r; return r = e.rememberPassword ? () => { this.LoginWithCachedCredentials(e.accountName) } : () => { this.m_strLastAccountName = e.accountName, this.NavigateToMode(Tp.SignInPanel) }, a.createElement(Y.s, { className: np.LoginCachedAvatar, key: t, noFocusRing: !0, onActivate: r, onSecondaryButton: () => this.CreateRemoveUserContextMenu(e.accountName, e.avatarUrl), onSecondaryActionDescription: (0, g.Xx)("#Login_RemoveUser") }, a.createElement("div", { className: np.CachedName }, e.personaName), a.createElement("div", { className: np.LoginCachedAvatarImage }, n ? a.createElement("img", { src: e.avatarUrl }) : a.createElement(l.n5m, null))) })); return this.state.bOfflineMode || e.push(a.createElement(Y.s, { className: (0, k.Z)(np.LoginCachedAvatar, np.NewLogin), key: "new_login", noFocusRing: !0, onActivate: this.ShowNewLogin }, a.createElement("div", { className: np.CachedName }, (0, g.Xx)("#Login_NewLogin")), a.createElement("div", { className: np.LoginCachedAvatarImage }, a.createElement(l.fV1, null)))), a.createElement(a.Fragment, null, a.createElement("div", { className: np.Header }, (0, g.Xx)("#Login_PickUser")), a.createElement("div", { className: np.SubHeader }, (0, g.Xx)("#Login_CachedUsers")), a.createElement(Y.s, { className: np.CachedUserList }, e)) } render() { let e = null, t = this.m_eNavigationDirection == Np.None; switch (this.state.mode) { case Tp.LanguageScreen: e = a.createElement(ip, { onContinue: this.OnContinue, onLocalizationChanged: this.OnLocalizationChanged, animate: t }); break; case Tp.TimezoneScreen: e = a.createElement(mp, { onContinue: this.OnContinue, onBack: this.OnGoBack, animate: t }); break; case Tp.NetworkSetupScreen: e = a.createElement(vp, { canContinue: this.BUserCanProceedFromInternet(), onContinue: this.OnContinue, onBack: this.OnGoBack, onContinueOffline: this.OnContinueOffline, animate: t }); break; case Tp.UpdateScreen: e = a.createElement(Wp, { onContinue: this.OnContinue, onRestart: this.OnRestart, onGoBack: this.OnGoBack }) }if (e) { const t = 2 * parseInt(np.OobeSlideDuration); let n = { enter: np.Enter, enterActive: np.EnterActive, enterDone: np.EnterDone, appear: np.Appear, appearActive: np.AppearActive, appearDone: np.AppearDone, exit: np.Exit, exitActive: np.ExitActive, exitDone: np.ExitDone }, r = (0, k.Z)(np.OutOfBoxTransitionGroup, this.m_eNavigationDirection == Np.Backward && np.Backward, this.m_eNavigationDirection == Np.Forward && np.Forward); return a.createElement(Y.s, { className: np.OutOfBox, navRef: this.m_navRef, onCancelButton: this.OnGoBack, onButtonDown: Bp }, a.createElement(rp.Z, { className: r, appear: !1, enter: !0, exit: !0 }, a.createElement(op.Z, { key: this.m_nStepCount.toString(), classNames: n, timeout: t, in: !0 }, a.createElement("div", { className: np.OutOfBoxSlide }, e)))) } switch (this.state.mode) { case Tp.CachedUsersPanel: return a.createElement(Ip, null, a.createElement(Y.s, { className: np.MainLoginForm, navRef: this.m_navRef, onCancelButton: this.OnGoBack, onButtonDown: Bp }, 1 != uo.P.loginResult && a.createElement("div", { className: np.LoginError }, (0, g.Xx)("#Login_LastError", Ap(uo.P.loginResult))), this.renderCachedUsers())); case Tp.SignInPanel: return a.createElement(Lp, { navRef: this.m_navRef, onGoBack: this.OnGoBack, onLogin: this.LoginWithCredentials, initialAccountName: this.m_strLastAccountName, isReauthentication: this.props.isReauthentication }) }return console.log("Missing login state"), null } }; function Gp(e) { J.g4.NavigateToCreateAccount() } function Bp(e) { e.detail.button == Ut.eV.SELECT && e.stopPropagation() } function Lp(e) { let { navRef: t, onGoBack: n, onLogin: r, isReauthentication: o, initialAccountName: l } = e, s = yp.mg.GetSettings(), c = s.bUserForgotPin, m = o, u = l; return c && (m = !0, u = s.strOwnerAccountName), a.createElement(Ip, null, a.createElement(i.Uq, null, a.createElement("div", { className: np.LeftColCtn }, c ? a.createElement(Pp, null) : a.createElement(Rp, null)), a.createElement(Y.s, { className: np.MainLoginForm, navRef: t, onCancelButton: n, onButtonDown: Bp }, 1 != uo.P.loginResult && a.createElement("div", { className: np.LoginError }, (0, g.Xx)("#Login_LastError", Ap(uo.P.loginResult))), a.createElement(Op, { isReauthentication: m, initialAccountName: u, goBack: n, onSubmit: r })))) } function Rp(e) { return a.createElement(a.Fragment, null, a.createElement("div", { className: np.LeftColHeader }, a.createElement("div", null, (0, g.Xx)("#Login_EnterCredentials"))), a.createElement(i.zx, { onClick: Gp }, (0, g.Xx)("#Login_Join"))) } function Pp(e) { return a.createElement(a.Fragment, null, a.createElement("div", { className: np.LeftColHeader }, a.createElement("div", null, (0, g.Xx)("#Login_ResetPIN"))), a.createElement("div", { className: np.LeftColText }, (0, g.Xx)("#Login_ResetPINText"))) } function Op(e) { let [t, n] = Mp(e.initialAccountName), [r, l] = Mp(""), [s, c] = a.useState(!0), m = a.useRef(), u = a.useRef(), d = e.goBack ? (0, g.Xx)("#ActionButtonLabelBack") : null, p = 0 != t.length && 0 != r.length, _ = 0 == e.initialAccountName.length, h = (0, o.BN)(q.de.ResolveURL("HelpWithLogin")); return a.createElement(Y.s, { onCancelButton: e.goBack, onCancelActionDescription: d }, a.createElement("form", { spellCheck: !1, onSubmit: n => { n.preventDefault(), p && e.onSubmit(t, r, s) } }, a.createElement(i.II, { disabled: e.isReauthentication, placeholder: (0, g.Xx)("#Login_Username_Placeholder"), className: np.AccountNameCtn, label: (0, g.Xx)("#Login_AccountName"), value: t, maxLength: 64, autoFocus: _, onChange: n, onEnterKeyPress: () => { m.current.TakeFocus() } }), a.createElement(i.WU, { navRef: m, placeholder: (0, g.Xx)("#Login_Password_Placeholder"), className: np.PasswordCtn, label: (0, g.Xx)("#Login_Password"), maxLength: 64, autoFocus: !_, value: r, onChange: l, onEnterKeyPress: () => { u.current.TakeFocus() } }), a.createElement(i.gE, { className: np.RememberPasswordToggle, bottomSeparator: "none", checked: s, label: (0, g.Xx)("#Login_Remember"), onChange: c }), a.createElement(i.aV, { bottomSeparator: "none", highlightOnFocus: !1 }, a.createElement(i.KM, { navRef: u, disabled: !p }, (0, g.Xx)("#Login_SignIn").toLocaleUpperCase()), a.createElement(i.zx, { className: np.LoginFormButton, onClick: e.goBack }, (0, g.Xx)("#Button_Cancel").toLocaleUpperCase())), a.createElement("div", { className: np.RecoveryLink }, a.createElement(M.IS, { onClick: h }, (0, g.Xx)("#Login_Help_SignIn"))))) } function Mp(e) { let [t, n] = a.useState(e); return [t, e => n(e.target.value)] } (0, r.gn)([m.ak], Fp.prototype, "UpdateSuppressHeaderInteraction", null), (0, r.gn)([m.ak], Fp.prototype, "OnLocalizationChanged", null), (0, r.gn)([m.ak], Fp.prototype, "OnRestart", null), (0, r.gn)([m.ak], Fp.prototype, "OnContinue", null), (0, r.gn)([m.ak], Fp.prototype, "ProceedToSignIn", null), (0, r.gn)([m.ak], Fp.prototype, "OnGoBack", null), (0, r.gn)([m.ak], Fp.prototype, "LoginWithCachedCredentials", null), (0, r.gn)([m.ak], Fp.prototype, "LoginWithCredentials", null), (0, r.gn)([m.ak], Fp.prototype, "ShowNewLogin", null), (0, r.gn)([m.ak], Fp.prototype, "OnContinueOffline", null), (0, r.gn)([m.ak], Fp.prototype, "OnRemoveCachedUser", null), (0, r.gn)([m.ak], Fp.prototype, "CreateRemoveUserContextMenu", null), Fp = (0, r.gn)([Q.Pi], Fp); class Hp extends a.PureComponent { constructor(e) { super(e), this.state = { strAuthCode: "" } } OnAuthCodeChange(e) { this.setState({ strAuthCode: e }) } LoginWithSteamGuard(e) { e.preventDefault(), this.state.strAuthCode.length < 5 || (SteamClient.User.SetLoginSteamGuardCode(this.state.strAuthCode, !0), SteamClient.User.StartLogin()) } LoginWithTwoFactorCode(e) { e.preventDefault(), this.state.strAuthCode.length < 5 || (SteamClient.User.SetLoginTwoFactorCode(this.state.strAuthCode), SteamClient.User.StartLogin()) } render() { let e = uo.P.emailDomain; const t = 8 == this.props.loginState; let n = t ? (0, g.Xx)("#Login_EnterSteamguardCode") : (0, g.Xx)("#Login_EnterTwoFactorCode"), r = t ? (0, g.Xx)("#Login_EnterCodeForEmail", e) : (0, g.Xx)("#Login_EnterMobileCode"), o = 1 != uo.P.loginResult && 85 != uo.P.loginResult && 63 != uo.P.loginResult, l = 8 == this.props.loginState ? this.LoginWithSteamGuard : this.LoginWithTwoFactorCode; return a.createElement(Ip, null, a.createElement("div", { className: np.Header }, n), a.createElement("div", { className: np.SubHeader }, r), o && a.createElement("div", { className: np.LoginError }, (0, g.Xx)("#Login_LastError", Ap(uo.P.loginResult))), a.createElement(Y.s, { onCancelButton: () => { SteamClient.User.CancelLogin() } }, a.createElement("form", { className: np.SteamGuardForm, spellCheck: !1, onSubmit: l }, a.createElement(i.qw, { className: np.PINInput, autoFocus: !0, type: "text", digits: 5, value: this.state.strAuthCode, digitClassName: np.CodeDigit, onChange: this.OnAuthCodeChange }), a.createElement(i.aV, { alignItems: "center", className: np.CodeEntryButtons, bottomSeparator: "none", highlightOnFocus: !1 }, a.createElement(i.KM, { disabled: this.state.strAuthCode.length < 5, className: np.LoginFormButton }, (0, g.Xx)("#Login_SignIn").toLocaleUpperCase()), a.createElement(i.zx, { className: np.LoginFormButton, onClick: () => { SteamClient.User.CancelLogin() } }, (0, g.Xx)("#Button_Cancel").toLocaleUpperCase()))))) } } (0, r.gn)([m.ak], Hp.prototype, "OnAuthCodeChange", null), (0, r.gn)([m.ak], Hp.prototype, "LoginWithSteamGuard", null), (0, r.gn)([m.ak], Hp.prototype, "LoginWithTwoFactorCode", null); let Up = class extends a.Component { constructor(e) { super(e) } render() { let e = ""; switch (this.props.loginState) { case 4: e = (0, g.Xx)("#Login_WaitingForNetwork"); break; case 5: e = (0, g.Xx)("#Login_WaitingForServer"); break; case 6: e = (0, g.Xx)("#Login_LoadingLibrary"); break; case 10: e = (0, g.Xx)("#Login_ShuttingDown") }return a.createElement(Y.s, { className: np.LoginStatusContainer, onOKButton: () => !0, onOKActionDescription: null, onCancelButton: () => !0, onCancelActionDescription: null }, a.createElement(ge.t, null, a.createElement("div", { className: (0, k.Z)(np.LoginStatus) }, e), !1)) } }; function Xp(e) { const t = "https://s.team/join"; return a.createElement(Ip, { className: np.DoublePanel }, a.createElement(i.Uq, null, a.createElement("div", { className: np.LeftColCtn }, a.createElement("div", { className: np.LeftColHeader }, a.createElement("div", null, (0, g.Xx)("#Login_Join"))), a.createElement(i.zx, { className: np.LoginError, onClick: J.g4.NavigateToLoginScreen }, (0, g.Xx)("#Login_EnterCredentials"))), a.createElement("div", null, a.createElement("div", { className: np.JoinHead }, (0, g.Xx)("#Join_New")), a.createElement("div", { className: np.JoinSubhead }, (0, g.Xx)("#Join_ScanCode")), a.createElement(Cp.s_, { className: np.LoginQRCode }, t), a.createElement("div", { className: np.JoinVisit }, (0, g.kQ)("#Join_SiteLink", t))))) } function Vp() { var e; const t = null === (e = (0, oe.TH)().state) || void 0 === e ? void 0 : e.bReauthentication, n = (0, uo.T)(), r = (0, sn.bn)(), o = function (e) { const t = 1 == e || 2 == e; a.useEffect((() => { t && _o.Init() }), [t]); let n = (0, m.e1)(_o.CurrentLanguage), r = (0, m.e1)(_o.AvailableLanguages), o = (0, m.e1)(_o.WelcomeText); const i = 0 != n.length && 0 != (null == r ? void 0 : r.length) && 0 != (null == o ? void 0 : o.length); let l = (0, m.e1)(_o.CurrentTimeZoneID), s = (0, m.e1)(_o.AvailableTimeZones); const c = 0 != l.length && 0 != (null == s ? void 0 : s.length); return { bNeedOOBEData: t, bHaveOOBEData: i && c } }(n); if ((0, pt.co)("hidden", "LoginPanel"), a.useEffect((() => { let e = yp.mg.GetSettings(); e.bLockOnLogin && !e.bUserForgotPin && (yp.mg.BConsumeLockTicket() || (0, fp.PS)({ preventCancel: !0, preventSteamButtons: !0, onSuccess: () => { yp.mg.ProvideLockTicket() } })) }), []), r) return a.createElement(Up, { loginState: 4 }); if (o.bNeedOOBEData && !o.bHaveOOBEData) return a.createElement(Up, { loginState: n }); switch (n) { case 1: case 3: case 2: return a.createElement(Fp, { isReauthentication: t, loginState: n, oobeData: o }); case 8: case 9: return a.createElement(Hp, { loginState: n }); default: return a.createElement(Up, { loginState: n }) } } function Wp(e) { const { onGoBack: t } = e, n = a.useCallback(((n, a) => { if (1 != n) return void (t && t()); let r; switch (a) { case 6: r = () => SteamClient.User.StartRestart(); break; case 7: r = () => SteamClient.System.RestartPC(); break; default: r = e.onContinue }!function (e) { if (_o.SetOOBEComplete(), T.hq.IsDeckFactoryImage()) return void SteamClient.System.RestartPC(); e() }(r) }), [e.onContinue, t]); return a.createElement(so.s6, { onUpdateComplete: n, onShowHelp: () => { J.g4.NavigateToDeckSetupHelp() }, onRestart: e.onRestart, onCancel: e.onGoBack }) } Up = (0, r.gn)([Q.Pi], Up); var Zp = n(6688), zp = n.n(Zp); function qp(e) { return a.createElement(ln.$x, null, a.createElement(Y.s, { className: zp().SetupHelp, onCancelButton: () => J.g4.NavigateToLoginScreen(), onOKActionDescription: null, autoFocus: !0, focusable: !0, noFocusRing: !0 }, a.createElement("div", { className: zp().Content }, a.createElement("div", { className: zp().Heading }, (0, g.Xx)("#OOBESupport_Title")), a.createElement("div", { className: zp().SubHeading }, (0, g.Xx)("#OOBESupport_Subtitle")), a.createElement("a", { href: "https://s.team/deck/setup" }, "https://s.team/deck/setup"), a.createElement("div", { className: zp().QRCode }, a.createElement(l.d5g, null))))) } var Kp = n(22088), jp = n(75754), Qp = n(19768), Yp = n.n(Qp); const Jp = (0, Q.Pi)((function () { const e = (0, c.zV)(), t = e === c.rB, n = T.hq.GetOpenSideMenu(), r = (0, c.xV)(), i = null != T.hq.MainRunningApp, l = T.hq.GetShowingGlobalModal(), m = (0, oe.$B)(o.Z5.GamepadUI.AppRunning()), u = (0, Dt.C)(), d = a.useRef(0), p = a.useRef(!1); let [_, g] = a.useState(e), [h, v] = a.useState(performance.now()), [S, E] = a.useState(!1), b = l || e == c.rB && (S || n != T.MA.None); if (T.hq.IsNewOverlapEnabled() && n == T.MA.Main && (b = !0), (0, T.Vg)(!b), a.useEffect((() => { i || !m || p.current || (p.current = !0, J.g4.NavigateBack() || J.g4.NavigateToHome()) }), [i, m]), a.useEffect((() => { e != _ && (g(e), v(performance.now()), E(!1)); const t = () => { let e = performance.now(); e - h >= 5e3 ? E(!0) : d.current = window.setTimeout(t, 5e3 - (e - h)) }; return d.current = window.setTimeout(t, 5e3), () => { clearTimeout(d.current), d.current = void 0 } }), [i, e, _, h]), i && 0 != jp.iB.ActiveTouchMenus.length) return a.createElement(Kp.i5, { appID: T.hq.MainRunningApp.appid }); let C = T.hq.IsNewOverlapEnabled() && n == T.MA.Main, y = u.length > 0; return !t || r == s.s7.Hidden || n == T.MA.QuickAccess || C || y ? null : a.createElement($p, { enableAbort: S }) })); function $p(e) { return a.createElement(Y.s, { className: Yp().MainPanelAppRunning, autoFocus: !0, focusable: !0, noFocusRing: !0, onButtonDown: e.enableAbort ? e => { if (e.detail.button == Ut.eV.CANCEL) { let e; T.hq.MainRunningApp && (e = T.hq.MainRunningApp.GetGameID()), e && SteamClient.Apps.TerminateApp(e, !1) } e.detail.button != Ut.eV.STEAM_GUIDE && e.detail.button != Ut.eV.STEAM_QUICK_MENU && (e.preventDefault(), e.stopPropagation()) } : e => { e.detail.button != Ut.eV.STEAM_GUIDE && e.detail.button != Ut.eV.STEAM_QUICK_MENU && (e.preventDefault(), e.stopPropagation()) }, onMenuActionDescription: null, onOptionsActionDescription: null, onOKActionDescription: null, onSecondaryActionDescription: null, onCancelActionDescription: e.enableAbort ? (0, g.Xx)("#Button_AbortGame") : null }, a.createElement(ge.t, { showFooter: !0 })) } var e_ = n(83711), t_ = n(16079), n_ = n.n(t_); function a_(e) { let t = (0, oe.TH)(); const n = { base: n_().TopLevelTransition, enterStart: n_().Enter, enterEnd: n_().EnterActive, exitStart: n_().Exit, exitEnd: n_().ExitActive }; let [r, o] = function (e, t) { let n = null, r = null; return a.Children.forEach(t, (t => { if (null != r || !a.isValidElement(t)) return; n = t; let o = t.props.path; !o && "from" in t.props && (o = t.props.from), o && (r = (0, oe.LX)(e.pathname, Object.assign(Object.assign({}, t.props), { path: o }))) })), [n, r] }(t, e.children), i = o ? a.cloneElement(r, { location: t, computedMatch: o }) : null; return r.props.noTransitionZoom && (n.base = (0, k.Z)(n.base, n_().NoTransitionZoom)), a.createElement(rp.Z, { className: n_().TopLevelTransitionSwitch }, i && a.createElement(e_.VM, { key: o.path, childrenClasses: n, sizeClass: n_().AbsoluteDiv }, i)) } function r_(e) { return a.createElement("div", Object.assign({}, e, { className: (0, k.Z)(e.className, n_().AbsoluteDiv, n_().TopLevelTransition) })) } var o_ = n(10464), i_ = n.n(o_), l_ = n(35655); function s_() { let e = a.useRef(""), t = a.useRef([]), n = a.useRef(), r = a.useRef({ all: [], library: [], friends: [], store: [], tools: [] }), o = a.useRef(new zd.lR), i = (0, m.e1)(l_.Z.GetSearchText()); const l = i.toLowerCase(), s = function (e) { const [t, n] = a.useState([]); return a.useEffect((() => { l_.Z.FetchSearchSuggestions(e, 19).then((t => { e == l_.Z.GetSearchText().Value ? n(t) : console.warn("Throwing away stale suggestions for", e) })) }), [e]), t }(i); return (0, a.useEffect)((() => { o.current.SetSearchText(i) }), [i]), (0, a.useEffect)((() => { o.current.SetSearchSuggestions(s.map((e => e.GetAppID()))) }), [s]), (0, d.SZ)((() => { if (e.current == l && t.current == s && n.current == o.current.searchSuggestions) return r.current; console.log(`~~ Search result sets: ${o.current.searchText} ~~`); const a = K.i8.allFriends.map((e => ({ type: "friend", id: "f" + e.persona.GetAccountID(), friendState: e, score: (0, zd.Rb)(l, [e.displayName.toLowerCase(), ...e.nickname ? [e.nickname.toLowerCase()] : []]) }))).filter((e => e.score > 0)).sort(((e, t) => t.score - e.score)), i = Ga.NW.GetCollection(Ga.ZK.AllAppsAlpha).allApps.map((e => ({ type: "ownApp", id: "o" + e.appid, ownAppOverview: e, score: o.current.MatchesScored(e) }))).filter((e => e.score > 0)).sort(((e, t) => t.score - e.score)), c = i.filter((e => "ownApp" === e.type && 4 != e.ownAppOverview.app_type)), m = i.filter((e => "ownApp" === e.type && 4 == e.ownAppOverview.app_type)), u = s.map((e => ({ type: "storeApp", id: "s" + e.GetAppID(), storeItem: e, score: (0, zd.Rb)(l, [e.GetName().toLowerCase(), e.GetAppID().toString()]) - .5 }))); 19 == u.length && u.push({ type: "redirectLink", strText: (0, g.Xx)("#GamepadHome_GoToStore"), strURL: q.de.ResolveURL("StoreGameSearchPage") + "?term=" + l_.Z.GetSearchText().Value, score: Number.MAX_SAFE_INTEGER }); for (let e of i) "ownApp" == e.type && 4 == e.ownAppOverview.app_type && (e.score -= 1); const d = new Set(i.map((e => "ownApp" === e.type && e.ownAppOverview.appid))), p = u.filter((e => "storeApp" === e.type && !d.has(e.storeItem.GetAppID()))); let _ = { all: Array.prototype.concat(a, i, p).sort(((e, t) => t.score - e.score)), library: c, friends: a, store: u, tools: m }; return r.current = _, e.current = l, t.current = s, n.current = o.current.searchSuggestions, _ })) } var c_ = n(8405), m_ = n(78720); class u_ { constructor(e, t) { this.m_resizeObserver = t ? new t.ResizeObserver(e) : new ResizeObserver(e) } DeleteObserver() { this.m_resizeObserver && (this.m_resizeObserver.disconnect(), delete this.m_resizeObserver) } observe(e) { this.m_resizeObserver && this.m_resizeObserver.observe(e) } unobserve(e) { this.m_resizeObserver && this.m_resizeObserver.unobserve(e) } disconnect() { this.m_resizeObserver && this.m_resizeObserver.disconnect() } } let d_ = new class { constructor() { this.m_vecObjects = [], this.OnUnload = this.OnUnload.bind(this), { NODE_ENV: "production", STEAM_BUILD: "buildbot", BUILD_TIME_LOCAL: "Oct 5 2022 : 11:23:47", BUILD_TIME_UTC: "Oct 5 2022 : 18:23:47", BUILD_RTIME_UTC: 1664994227 }.MOBILE_BUILD || window.addEventListener("unload", this.OnUnload) } OnUnload() { for (let e of this.m_vecObjects) e.DeleteObserver(); this.m_vecObjects = [] } CreateObserver(e, t) { let n = new u_(e, t); return this.m_vecObjects.push(n), n } DeleteObserver(e) { if (!e) return; let t = e, n = this.m_vecObjects.indexOf(t); n >= 0 && (t.DeleteObserver(), this.m_vecObjects.splice(n, 1)) } }; class p_ extends a.Component { constructor(e) { super(e), this.m_elContainer = null, this.m_resizeObserver = null, this.state = { nWidth: 0, nHeight: 0 } } componentWillUnmount() { this.m_resizeObserver && d_.DeleteObserver(this.m_resizeObserver) } BindContainerRef(e) { this.m_resizeObserver && (this.m_resizeObserver.disconnect(), this.m_resizeObserver = null), this.m_elContainer = e, this.m_elContainer && (this.m_resizeObserver = d_.CreateObserver(this.OnResize, (0, gt.kR)(this.m_elContainer)), this.m_resizeObserver.observe(this.m_elContainer), this.UpdateDimensions(this.m_elContainer.clientWidth, this.m_elContainer.clientHeight)) } UpdateDimensions(e, t) { this.state.nWidth == e && this.state.nHeight == t || this.setState({ nWidth: e, nHeight: t }) } OnResize(e, t) { let n = 0, a = 0; if (e.length > 0) { let t = e[0].contentRect; n = t.width, a = t.height } this.UpdateDimensions(n, a) } render() { let e = { width: this.state.nWidth, height: this.state.nHeight }, t = this.props.children(e), n = this.props.className; return a.createElement("div", { className: n, style: { position: "absolute", top: 0, right: 0, bottom: 0, left: 0 }, ref: this.BindContainerRef }, t) } } function __(e) { let t = a.useCallback((() => console.log("implement")), []), { strActiveTab: n, onShowTab: r } = (0, Fa.hR)(o.Z5.GamepadUI.Search.Tab); (0, pt.co)("show-expanded", "BasicSearch"), (0, pt.jv)(t); let i = function (e) { return a.useMemo((() => [{ id: "All", title: "#SearchTab_All", renderTabAddon: ({ active: t }) => a.createElement(Fa.z5, { count: e.all.length }), content: a.createElement(g_, { results: e.all }) }, { id: "Library", title: "#SearchTab_Library", count: e.library.length, renderTabAddon: ({ active: t }) => a.createElement(Fa.z5, { count: e.library.length }), content: a.createElement(g_, { results: e.library }) }, { id: "Friends", title: "#SearchTab_Friends", count: e.friends.length, renderTabAddon: ({ active: t }) => a.createElement(Fa.z5, { count: e.friends.length }), content: a.createElement(g_, { results: e.friends }) }, { id: "Store", title: "#SearchTab_Store", count: e.store.length, renderTabAddon: ({ active: t }) => a.createElement(Fa.z5, { count: e.store.length }), content: a.createElement(g_, { results: e.store }) }, { id: "Tools", title: "#SearchTab_Tools", count: e.tools.length, renderTabAddon: ({ active: t }) => a.createElement(Fa.z5, { count: e.tools.length }), content: a.createElement(g_, { results: e.tools }) }]), [e]) }(s_()); return 0 == i.length ? null : (-1 == i.findIndex((e => e.id == n)) && (n = i[0].id), a.createElement(Y.s, { className: i_().GamepadSearch, onCancel: T.hq.GetBackstackRootTest() }, a.createElement(Fa.TI, { tabs: i, activeTab: n, onShowTab: r, autoFocusContents: !1 }))) } function g_(e) { let { results: t } = e; const n = a.useContext(Fa.x0); let r = a.useCallback((({ width: e, height: r }) => e <= 0 ? null : a.createElement(h_, { results: t, scrollElement: n, width: e })), [t, n]); return n ? 0 == t.length && l_.Z.GetSearchText().Value.toLowerCase().length > 0 ? a.createElement(w_, null) : a.createElement("div", { className: i_().ResultsGridWrapper }, a.createElement(p_, null, r)) : null } function h_(e) { let { results: t, scrollElement: n, width: r } = e, o = a.useRef(n), i = (e, n) => { let a = e * n; return t.slice(a, a + n) }, l = parseInt(i_().ResultItemWidth), s = parseInt(i_().ResultItemHeight), c = function (e, t, n) { let a = Math.floor(e / t); return (e - t * a) / (a - 1) < n && (a -= 1), a }(r, l, parseInt(i_().ResultPadding)), m = Math.ceil(t.length / c); const u = (0, m_.oq)({ size: m, parentRef: o, estimateSize: a.useCallback((() => s), [s]), overscan: 5 }), d = { height: `${u.totalSize}px`, width: "100%", position: "relative" }; return a.createElement(Y.s, { style: d, className: i_().ResultsGrid, "flow-children": "grid" }, u.virtualItems.map((e => a.createElement(v_, { key: e.index, style: { position: "absolute", top: 0, left: 0, width: "100%", height: `${e.size}px`, transform: `translateY(${e.start}px)` }, items: i(e.index, c) })))) } function v_(e) { let { items: t, style: n } = e; return a.createElement("div", { style: n, className: i_().ResultsRow }, t.map(((e, t) => a.createElement(S_, { key: e.id, item: e })))) } function S_(e) { let t = e.item; return "ownApp" === t.type ? a.createElement(b_, { item: t.ownAppOverview }) : "storeApp" == t.type ? a.createElement(y_, { item: t.storeItem }) : "friend" == t.type ? a.createElement(f_, { item: t.friendState }) : "redirectLink" == t.type ? a.createElement(A_, { title: t.strText, url: t.strURL }) : null } function E_(e) { let { image: t, icon: n, description: r, overlaidText: o, onActivate: i } = e; return a.createElement(Y.s, { className: i_().ResultTemplate, onActivate: i, focusable: !1 }, a.createElement(Y.s, { className: i_().ResultTemplateImage, focusable: !0 }, t, o && a.createElement("div", { className: i_().OverlaidText }, o)), a.createElement("div", { className: i_().ResultTemplateDescriptionRow }, n && a.createElement("div", { className: i_().Icon }, n), r && a.createElement("div", { className: i_().Description }, r))) } function b_(e) { let { item: t } = e, n = a.createElement(C_, { app: t, displayName: t.display_name }), r = l.qTB(), o = t.appid, i = (0, J.UK)(o); return a.createElement(E_, { image: n, icon: r, onActivate: i, description: (0, g.Xx)("#SearchResultType_OwnApp") }) } function C_(e) { let { displayName: t } = e, n = (0, r._T)(e, ["displayName"]), [o, i] = a.useState(!1), l = a.useCallback((e => { let t = e.currentTarget.src; t && !t.startsWith("data:image/") || i(!0) }), [i]); return a.createElement("div", { className: i_().LibraryImageWithName }, a.createElement(si.A, Object.assign({}, n, { eAssetType: 3, className: i_().GameIcon, allowCustomization: !1, neverShowTitle: !0, onLoad: l })), o && a.createElement("div", { className: i_().Title }, a.createElement("span", null, t))) } function y_(e) { let { item: t } = e, n = a.createElement(C_, { appid: t.GetAppID(), rgSources: [t.GetAssets().GetHeaderURL(), ll.Z], displayName: t.GetName() }), r = l.r_P(), i = (0, o.BN)(t.GetStorePageURL()); return a.createElement(E_, { image: n, icon: r, onActivate: i, description: (0, g.Xx)("#SearchResultType_StoreApp") }) } function f_(e) { let { item: t } = e, n = a.createElement(I_, { item: t }), r = a.createElement(l.n5m, null), o = t.displayName; return a.createElement(E_, { image: n, icon: r, onActivate: () => te.Pp.ShowFriendChatDialog(t.persona.m_steamid), description: o }) } function A_(e) { let t = (0, o.BN)(e.url); return a.createElement(E_, { image: a.createElement("div", { className: i_().RedirectResultBackground }), icon: void 0, onActivate: t, overlaidText: (0, g.Xx)(e.title) }) } function I_(e) { var t, n; let { item: r } = e; return a.useEffect((() => { var t; null === (t = e.item.miniProfileData) || void 0 === t || t.EnsureCommunityDataLoaded() })), a.createElement("div", { className: i_().FriendResultImage }, a.createElement("div", { className: i_().ProfileBackground }, a.createElement(c_.GR, { persona: r.persona, community_data: null === (t = r.miniProfileData) || void 0 === t ? void 0 : t.community_data })), a.createElement("div", { className: i_().ImageContainer }, a.createElement(k_, { persona: r.persona, community_data: null === (n = r.miniProfileData) || void 0 === n ? void 0 : n.community_data }))) } function k_(e) { var t, n; const r = (null === (t = e.community_data) || void 0 === t ? void 0 : t.avatar_frame) && a.createElement("img", { src: e.community_data.avatar_frame, className: i_().Frame }), o = null === (n = e.community_data) || void 0 === n ? void 0 : n.animated_avatar, i = { size: "FillArea", statusPosition: "bottom", children: r, className: i_().SearchResultFriendAvatar }; return o ? a.createElement(Nt.o, Object.assign({ strAvatarURL: o }, i)) : a.createElement(Nt.vV, Object.assign({ persona: e.persona }, i)) } function w_(e) { return a.createElement("div", { className: i_().NoResultsFound }, a.createElement("span", null, (0, g.Xx)("#Search_NoResults"))) } (0, r.gn)([m.ak], p_.prototype, "BindContainerRef", null), (0, r.gn)([m.ak], p_.prototype, "OnResize", null); var N_ = n(92945), T_ = n(47801); function x_(e, t) { return `${D_(e)}/${D_(t)}` } function D_(e) { return Number.isInteger(e) ? e : e.toFixed(1) } function F_(e) { const { title: t, children: n, className: r } = e; return a.createElement(Y.s, { "flow-children": "column", className: (0, k.Z)(T_.AchievementList, r) }, t && a.createElement(G_, null, t), n) } const G_ = e => a.createElement("div", { className: T_.ListTitle }, e.children); function B_(e) { const { media: t, children: n, right: o, footer: i } = e, l = (0, r._T)(e, ["media", "children", "right", "footer"]); return a.createElement(Y.s, Object.assign({ focusable: !0, onOKActionDescription: null, className: T_.AchievementListItemBase }, l), a.createElement("div", { className: T_.Container }, a.createElement("div", { className: T_.Media }, t), a.createElement("div", { className: T_.Content }, n), o && a.createElement("div", { className: T_.Right }, o)), i && a.createElement("div", { className: T_.Footer }, i)) } function L_(e) { const { title: t, description: n, imgUrl: o, unlockDate: i, percentGlobalUnlocked: l, progress: s, footer: c, hidden: m, glow: u } = e, d = (0, r._T)(e, ["title", "description", "imgUrl", "unlockDate", "percentGlobalUnlocked", "progress", "footer", "hidden", "glow"]), p = !!i, _ = i ? a.createElement(H_, { rtime: i }) : null, h = s ? a.createElement(U_, Object.assign({}, s, { showCount: !_ })) : null; return a.createElement(B_, Object.assign({ media: a.createElement(ee.wu, { hidden: m, glow: u, imgURL: o }), right: a.createElement(O_, { className: T_.AlignEnd }, _, h), footer: c }, d), a.createElement(O_, { className: T_.AchievementContent }, a.createElement(R_, null, m ? (0, g.Xx)("#Achievements_HiddenAchievementItem_Individual_Title") : t), a.createElement(P_, null, m ? (0, g.Xx)("#Achievements_HiddenAchievementItem_Description") : n), "number" == typeof l && p && a.createElement(M_, { percentage: l }))) } const R_ = e => a.createElement("div", { className: T_.AchievementTitle }, e.children), P_ = e => a.createElement("div", { className: T_.AchievementDescription }, e.children), O_ = e => a.createElement("div", { className: (0, k.Z)(T_.VerticalContent, e.className) }, e.children); function M_(e) { const { percentage: t, className: n } = e, r = (0, g.Xx)("#AppDetails_PctUnlocked", t.toFixed(1)); return a.createElement("div", { className: (0, k.Z)(T_.AchievementGlobalPercentage, T_.InBody, n) }, r) } function H_(e) { const { rtime: t, className: n } = e, r = new Date(1e3 * t).toLocaleDateString(g.Yt.GetPreferredLocales(), (0, N_.qB)()); return a.createElement("div", { className: (0, k.Z)(T_.UnlockDate, n) }, (0, g.Xx)("#Achievements_ListItem_UnlockDateTime", r)) } function U_(e) { const { flCurrent: t, flMax: n, flPercentage: r, showCount: o } = e, i = a.createElement("div", { className: T_.ProgressBar }, a.createElement(nr.k, { nProgress: r })); return o ? a.createElement(O_, { className: T_.AlignEnd }, a.createElement("div", { className: T_.ProgressCount }, x_(t, n)), i) : i } function X_(e) { const { count: t } = e, n = (0, r._T)(e, ["count"]); return a.createElement(B_, Object.assign({ media: a.createElement(ee.KR, { achievement: null, hidden: !0, canGlow: !1 }) }, n), a.createElement(O_, { className: T_.HiddenAchievementContent }, a.createElement(R_, null, (0, g.kb)("#Achievements_HiddenAchievementItem_Title", t)), a.createElement(P_, null, (0, g.kb)("#Achievements_HiddenAchievementItem_Description", t)))) } function V_(e) { const { title: t, description: n, imgUrl: o, hidden: i, percentGlobalUnlocked: l, primaryAchiever: s, secondaryAchiever: c } = e, m = (0, r._T)(e, ["title", "description", "imgUrl", "hidden", "percentGlobalUnlocked", "primaryAchiever", "secondaryAchiever"]); return a.createElement(B_, Object.assign({ media: a.createElement(ee.wu, { hidden: i, glow: (0, ee.O5)(!!s.unlockDate, l), imgURL: o }), right: a.createElement(O_, { className: T_.ComparisonAchieverColumn }, a.createElement(W_, Object.assign({}, s, { primary: !0 })), c && a.createElement(W_, Object.assign({}, c, { primary: !1 }))) }, m), a.createElement(O_, { className: T_.AchievementContent }, a.createElement(R_, null, i ? (0, g.Xx)("#Achievements_HiddenAchievementItem_Individual_Title") : t), a.createElement(P_, null, i ? (0, g.Xx)("#Achievements_HiddenAchievementItem_Description") : n))) } function W_(e) { const { primary: t, avatarURL: n, progress: r, unlockDate: o } = e; return a.createElement("div", { className: (0, k.Z)(T_.ComparisonAchieverInfo, t ? T_.Primary : T_.Secondary, o ? T_.Achieved : T_.Unachieved) }, o > 0 && a.createElement(H_, { className: T_.UnlockDate, rtime: o }), r && !o && a.createElement(a.Fragment, null, a.createElement("div", { className: T_.ProgressContainer }, a.createElement(nr.k, { nProgress: r.flPercentage, color: t ? void 0 : "var(--gpColor-Yellow)" })), a.createElement("div", { className: T_.ProgressLabel }, x_(r.flCurrent, r.flMax))), a.createElement("div", { className: T_.AvatarContainer }, a.createElement(Nt.o, { statusPosition: "none", strAvatarURL: n, size: "X-Small" }))) } function Z_(e) { const { achievements: t, avatarURL: n } = e, [r, o] = (0, a.useState)(!1); return (0, a.useEffect)((() => { window.setTimeout((() => o(!0)), 50) }), []), r ? a.createElement(F_, null, a.createElement("div", { className: T_.GlobalAchievementsListHeader }, a.createElement(Nt.o, { statusPosition: "none", strAvatarURL: n, size: "Small" }), a.createElement("div", { className: T_.HeaderText }, (0, g.Xx)("#Achievements_GlobalAchievement_PercentUnlockedLabel"))), t.map((e => a.createElement(z_, Object.assign({ key: e.id }, e))))) : null } function z_(e) { const { title: t, description: n, imgUrl: o, percentGlobalUnlocked: i = 0, unlocked: s, className: c, hidden: m } = e, u = (0, r._T)(e, ["title", "description", "imgUrl", "percentGlobalUnlocked", "unlocked", "className", "hidden"]); return a.createElement(Y.s, Object.assign({ focusable: !0, onOKActionDescription: null, className: (0, k.Z)(T_.GlobalAchievementListItem, c) }, u), a.createElement("div", { className: T_.UnlockContainer }, s && a.createElement(l.MCw, null)), a.createElement("div", { className: T_.Content }, a.createElement("div", { className: T_.ImageContainer }, a.createElement(ee.wu, { hidden: m, glow: !1, imgURL: o })), a.createElement("div", { className: T_.Info }, a.createElement("div", { className: T_.Title }, m ? (0, g.Xx)("#Achievements_HiddenAchievementItem_Individual_Title") : t), a.createElement("div", { className: T_.Description }, m ? (0, g.Xx)("#Achievements_HiddenAchievementItem_Description") : n)), a.createElement("div", { className: T_.Percent }, i.toFixed(1), "%"), a.createElement("div", { className: T_.ProgressFill, style: { width: `${i}%` } }))) } var q_ = n(93205); function K_(e) { const { appid: t, subtitle: n, className: o, autoFocus: l } = e, s = (0, r._T)(e, ["appid", "subtitle", "className", "autoFocus"]), c = (0, si.G)(t), m = (0, K.xJ)().persona.m_steamid, u = (0, z.kC)(t), d = u && u.BHasStoreCategory(25); return a.createElement("div", { className: (0, k.Z)(q_.Container, o) }, a.createElement("div", { className: q_.Portrait }, a.createElement(si.A, Object.assign({ className: q_.Portrait }, c))), a.createElement("div", { className: q_.Content }, a.createElement("div", { className: q_.Title }, c.name), n, a.createElement(Y.s, { autoFocus: l, focusable: !0 }, a.createElement(j_, Object.assign({ appid: t }, s))), d && a.createElement("div", { className: q_.LeaderboardsButton }, a.createElement(i.TW, { rgOptions: [{ data: "global", label: (0, g.Xx)("#Achievements_LeaderboardsDropdown_Global") }, { data: "user", label: (0, g.Xx)("#Achievements_LeaderboardsDropdown_Personal") }], strDefaultLabel: (0, g.Xx)("#Achievements_LeaderboardsDropdown_Label"), onChange: ({ data: e }) => (e => { const n = "user" === e ? q.de.ResolveURL("UserLeaderboardsPage", m.ConvertTo64BitString(), t) + "/?tab=leaderboards" : q.de.ResolveURL("GlobalLeaderboardsPage", t); T.hq.NavigateToSteamWeb(n) })(e) })))) } function j_(e) { const { appid: t } = e; if (!(0, va.i)(t)) return null; const { achievements: n, playtime: r } = e; return a.createElement(Q_, null, a.createElement(eg, { achievements: n }), a.createElement(tg, { playtime: null == r ? void 0 : r.minutesForever }), a.createElement(ng, { playtime: null == r ? void 0 : r.minutesInLastTwoWeeks })) } function Q_(e) { return a.createElement("div", { className: q_.StatsBlock }, e.children) } function Y_(e) { const { label: t, value: n, icon: r, className: o } = e; return a.createElement("div", { className: (0, k.Z)(q_.Stat, o) }, r, a.createElement("div", { className: q_.StatLabelAndValue }, "string" == typeof t ? a.createElement(J_, null, t) : t, "string" == typeof n ? a.createElement($_, null, n) : n)) } const J_ = ({ children: e }) => a.createElement("div", { className: q_.Label }, e), $_ = ({ children: e }) => a.createElement("div", { className: q_.TextValue }, e); function eg(e) { const { achievements: { cEarned: t, cTotal: n } } = e, r = t >= n, o = r ? (0, g.Xx)("#AppDetails_PlayerUnlockedPercentAll", t, n) : (0, g.Xx)("#Achievements_HeaderStats_Earned_Label", t, n), i = Math.round(t / n * 100); let l = `(${i}%)`; 0 === i && t > 0 ? l = "(<1%)" : 100 === i && t < n && (l = "(>99%)"); const s = a.createElement("div", { className: q_.ProgressLabel }, a.createElement(J_, null, o), a.createElement(J_, null, l)); return a.createElement(Y_, { label: s, value: a.createElement("div", { className: q_.Progress }, a.createElement(nr.k, { nProgress: i })), icon: r ? a.createElement(al.Gue, { fullcolor: !0, className: q_.Ribbon }) : void 0, className: q_.BigStat }) } function tg(e) { const { playtime: t } = e; return t ? a.createElement(Y_, { label: (0, g.Xx)("#Achievements_HeaderStats_Playtime_Label"), value: (0, fi.W)(t, "#Playtime_") }) : null } function ng(e) { const { playtime: t } = e; return t ? a.createElement(Y_, { label: (0, g.Xx)("#Achievements_HeaderStats_PlaytimeRecent_Label"), value: (0, fi.W)(t, "#Playtime_") }) : null } var ag = n(86548), rg = n(32721); function og(e, t) { return a.useCallback((n => { let a = e.current; if (!a || !n) return; let r = n.getBoundingClientRect().top + a.scrollTop - parseInt(t); a.scrollTo({ top: r, behavior: "smooth" }) }), [e, t]) } function ig() { const e = (0, o.df)(), t = (0, a.useRef)(), n = og(t, ag.headerPadding), r = (0, va.i)(e); return a.createElement(ln.$x, { padForHeader: !1, minimumOpacity: 0, scrollable: !1, flexed: !0 }, a.createElement(he.P8, { className: ag.Page, ref: t, scrollPaddingTop: 0, scrollIntoViewType: ku.mz.NoTransform }, a.createElement(hg, { appid: e }), a.createElement(Y.s, { "flow-children": "column", className: ag.Container }, a.createElement(oe.rs, null, a.createElement(oe.AW, { path: o.Z5.GamepadUI.App.Achievements.My.Root() }, a.createElement(sg, { appid: e, scrollTabsTop: n, autoFocus: !0 })), a.createElement(oe.AW, { path: o.Z5.GamepadUI.App.Achievements.Friend.Root() }, (({ match: t }) => a.createElement(mg, { appid: e, accountid: parseInt(t.params.accountid), scrollTabsTop: n, details: r }))))))) } function lg(e) { const t = (0, rg.FP)(e); return (0, a.useMemo)((() => { if (!t.data) return { loading: t.loading, error: t.error }; const { achieved: e, unachieved: n, hidden: a } = t.data, r = Object.keys(e).map((t => e[t])), o = Object.keys(n).map((e => n[e])), i = r.sort(((e, t) => t.rtUnlocked - e.rtUnlocked)), l = o.sort(((e, t) => t.flAchieved - e.flAchieved)), s = Object.keys(a).length; return { data: { rgAchieved: i, rgUnachieved: l, cHidden: s, cTotal: i.length + l.length + s, cEarned: i.length } } }), [t]) } function sg(e) { const { appid: t, scrollTabsTop: n, autoFocus: r } = e, o = (0, a.useRef)(), { data: i, loading: l, error: s } = lg(t), c = (0, z.kC)(t), [m, u] = (0, a.useState)("achievements"), [d, p] = (0, a.useState)(0), _ = (0, a.useCallback)((() => p(0)), []); if (l) return a.createElement(Cg, null); if (s) return a.createElement(yg, { error: s }); const { cEarned: h, cTotal: v } = i; return a.createElement(a.Fragment, null, a.createElement(Y.s, { scrollIntoViewWhenChildFocused: !0, className: ag.HeaderContainer }, a.createElement(K_, { appid: t, achievements: { cEarned: h, cTotal: v }, playtime: c ? { minutesForever: c.minutes_playtime_forever, minutesInLastTwoWeeks: c.minutes_playtime_last_two_weeks } : void 0, autoFocus: r })), a.createElement(Y.s, { ref: o, className: ag.AchievementTabs, onSecondaryButton: d ? _ : void 0, onSecondaryActionDescription: d ? (0, g.Xx)("#Achievements_ComparisonLabel_Clear") : void 0 }, a.createElement(Fa.TI, { autoFocusContents: !1, activeTab: m, onShowTab: u, onFocusWithin: e => { e && n(o.current) }, tabs: [{ id: "achievements", title: (0, g.Xx)("#Achievements_Tab_MyAchievements"), content: a.createElement(cg, { appid: t, accountIDToCompare: d, onChangeAccountIDToCompare: p }) }, { id: "global", title: (0, g.Xx)("#Achievements_Tab_GlobalAchievements"), content: a.createElement(_g, { appid: t }) }] }))) } function cg(e) { const { appid: t, accountIDToCompare: n, onChangeAccountIDToCompare: r } = e, { data: o, loading: l, error: s } = lg(t), { achievements: c, rgOptions: m } = function (e, t) { const { data: n } = (0, rg.ps)(e, t), r = (0, d.SZ)((() => { const n = va.d.GetFriendsGameplayInfo(e); if (!n) return []; const a = [...n.in_game, ...n.played_ever, ...n.played_recently, ...n.owns].map((({ steamid: e }) => new j.K(e).GetAccountID())).map((e => ({ data: e, label: K.i8.GetFriendState(e).displayName }))).sort(((e, t) => e.label.localeCompare(t.label))); return t && a.unshift({ data: 0, label: (0, g.Xx)("#Achievements_ComparisonLabel_Clear") }), a })); return { achievements: (0, a.useMemo)((() => n ? Object.assign(Object.assign({}, n.achieved), n.unachieved) : null), [n]), rgOptions: r } }(t, n), u = (0, K.xJ)(), p = n ? K.i8.GetFriendState(n) : null; if (l) return a.createElement(Cg, null); if (s) return a.createElement(yg, { error: s }); const { rgAchieved: _, rgUnachieved: h, cHidden: v } = o, S = m && m.length ? a.createElement("div", { className: ag.MyAchievementsHeader }, a.createElement("div", { className: ag.Label }, (0, g.Xx)("#Achievements_Tab_MyAchievements")), a.createElement("div", { className: ag.CompareButtonContainer }, a.createElement(i.TW, { strDefaultLabel: (0, g.Xx)("#Achievements_ComparisonLabel_NotComparing"), selectedOption: n, rgOptions: m, onChange: e => r(e.data), renderButtonValue: () => n ? (0, g.Xx)("#Achievements_ComparisonLabel_Comparing", K.i8.GetFriendState(n).displayName) : (0, g.Xx)("#Achievements_ComparisonLabel_NotComparing") }))) : null; return a.createElement(a.Fragment, null, _.length > 0 && a.createElement(Sg, null, S, _.map((e => { var t; return n ? a.createElement(V_, { key: e.strID, title: e.strName, description: e.strDescription, imgUrl: e.strImage, percentGlobalUnlocked: e.flAchieved, primaryAchiever: { avatarURL: u.persona.avatar_url, unlockDate: e.rtUnlocked, progress: (0, N_.HA)(e) }, secondaryAchiever: c ? { avatarURL: p.persona.avatar_url, unlockDate: null === (t = c[e.strID]) || void 0 === t ? void 0 : t.rtUnlocked, progress: (0, N_.HA)(c[e.strID]) } : void 0 }) : a.createElement(Eg, { key: e.strID, achievement: e }) }))), h.length > 0 && a.createElement(Sg, null, 0 === _.length && S, a.createElement(G_, null, (0, g.Xx)("#Achievements_LockedList_Title")), h.map((e => { var t; return n ? a.createElement(V_, { key: e.strID, title: e.strName, description: e.strDescription, imgUrl: e.strImage, percentGlobalUnlocked: e.flAchieved, primaryAchiever: { avatarURL: u.persona.avatar_url, unlockDate: e.rtUnlocked, progress: (0, N_.HA)(e) }, secondaryAchiever: c ? { avatarURL: p.persona.avatar_url, unlockDate: null === (t = c[e.strID]) || void 0 === t ? void 0 : t.rtUnlocked, progress: (0, N_.HA)(c[e.strID]) } : void 0 }) : a.createElement(Eg, { key: e.strID, achievement: e }) }))), a.createElement(vg, { count: v })) } function mg(e) { const t = (0, z.kC)(e.appid); return (0, z.Bt)(t) ? a.createElement(ug, Object.assign({}, e)) : a.createElement(dg, Object.assign({}, e)) } function ug(e) { const { appid: t, accountid: n, scrollTabsTop: r } = e, { data: o, loading: i, error: l } = (0, rg.er)(t, n), [s, c] = (0, a.useMemo)((() => o ? [Object.keys(o.achieved).map((e => o.achieved[e])).sort(((e, t) => t.rtUnlocked - e.rtUnlocked)), Object.keys(o.unachieved).map((e => o.unachieved[e])).sort(((e, t) => t.flGlobalAchieved - e.flGlobalAchieved))] : []), [o]), m = (0, d.SZ)((() => K.i8.GetFriendState(n))), u = (0, a.useRef)(), [p, _] = (0, a.useState)("achievements"), [h, v] = (0, a.useState)(!0); if (i || !m) return a.createElement(Cg, null); if (l) return a.createElement(yg, { error: l }); const S = Object.keys(o.hiddenAchieved).length, E = Object.keys(o.hiddenUnachieved).length, b = s.length + c.length + S + E, C = s.length + S; return a.createElement(a.Fragment, null, a.createElement(Y.s, { scrollIntoViewWhenChildFocused: !0, className: ag.HeaderContainer }, a.createElement(K_, { appid: t, achievements: { cTotal: b, cEarned: C }, subtitle: a.createElement(bg, { name: m.displayName, avatarURL: m.persona.avatar_url }), autoFocus: !0 })), a.createElement("div", { ref: u, className: ag.AchievementTabs }, a.createElement(Fa.TI, { autoFocusContents: !1, activeTab: p, onShowTab: _, onFocusWithin: e => { e && r(u.current) }, tabs: [{ id: "achievements", title: (0, g.Xx)("#Achievements_Tab_FriendAchievements"), renderTabAddon: () => a.createElement(Nt.o, { statusPosition: "none", strAvatarURL: m.persona.avatar_url, size: "X-Small" }), tabAddonPosition: "left", content: a.createElement(pg, { appid: t, accountid: n, friend: m, comparison: h, onComparisonChange: v }) }, { id: "global", title: (0, g.Xx)("#Achievements_Tab_GlobalAchievements"), content: a.createElement(gg, { appid: t, accountid: n, avatarURL: m.persona.avatar_url }) }] }))) } function dg(e) { const { appid: t, accountid: n } = e, r = (0, oe.k6)(); return (0, a.useEffect)((() => { const e = q.de.BuildSteamURL("UserAchievementsPage", j.K.InitFromAccountID(n).ConvertTo64BitString(), t); r.replace(o.Z5.GamepadUI.SteamWeb(), { url: e }) }), [r, t, n]), null } function pg(e) { const { appid: t, accountid: n, friend: r, comparison: o, onComparisonChange: l } = e, { data: s, loading: c, error: m } = (0, rg.er)(t, n), u = (0, K.xJ)(), [d, p] = (0, a.useMemo)((() => { if (!s) return [[], []]; const e = Object.assign(Object.assign({}, s.achieved), s.hiddenAchieved); return [Object.keys(e).map((t => e[t])).sort(((e, t) => t.rtUnlocked - e.rtUnlocked)), Object.keys(s.unachieved).map((e => s.unachieved[e])).sort(((e, t) => t.rtUnlocked - e.rtUnlocked))] }), [s]), _ = (0, z.Bt)((0, z.kC)(t)); if (c) return a.createElement(Cg, null); if (m) return a.createElement(yg, { error: m }); const h = Object.keys(s.hiddenAchieved).length, v = Object.keys(s.hiddenUnachieved).length, S = d.length + h, E = a.createElement("div", { className: ag.FriendAchievementsListHeader }, a.createElement(bg, { name: r.displayName, avatarURL: r.persona.avatar_url }), _ && a.createElement("div", { className: ag.ToggleContainer }, a.createElement("div", { className: ag.Label }, (0, g.Xx)("#Achievements_ComparisonToggle_Label")), a.createElement(i.hp, { value: o, onChange: l })), !_ && a.createElement("div", { className: ag.NotOwnedMessage }, (0, g.Xx)("#Achievements_NotOwned"))); return a.createElement(a.Fragment, null, S > 0 && a.createElement(Sg, null, E, d.map((e => a.createElement(V_, { key: e.strID, title: e.strName, description: e.strDescription, imgUrl: e.strImage, hidden: !!s.hiddenAchieved[e.strID], percentGlobalUnlocked: e.flGlobalAchieved, primaryAchiever: { avatarURL: r.persona.avatar_url, unlockDate: e.rtUnlocked, progress: (0, N_.HA)(e) }, secondaryAchiever: o ? { avatarURL: u.persona.avatar_url, unlockDate: e.rtCurrentUserUnlock, progress: (0, N_.HA)(Object.assign(Object.assign({}, e), { flCurrentProgress: e.flCurrentUserCurrentProgress })) } : void 0 })))), p.length > 0 && a.createElement(Sg, { title: (0, g.Xx)("#Achievements_LockedList_Title") }, 0 === S && E, p.map((e => a.createElement(V_, { key: e.strID, title: e.strName, description: e.strDescription, imgUrl: e.strImage, percentGlobalUnlocked: e.flGlobalAchieved, primaryAchiever: { avatarURL: r.persona.avatar_url, unlockDate: e.rtUnlocked, progress: (0, N_.HA)(e) }, secondaryAchiever: o ? { avatarURL: u.persona.avatar_url, unlockDate: e.rtCurrentUserUnlock, progress: (0, N_.HA)(Object.assign(Object.assign({}, e), { flCurrentProgress: e.flCurrentUserCurrentProgress })) } : void 0 })))), a.createElement(vg, { count: v })) } function _g(e) { const { appid: t } = e, { data: n, loading: r, error: o } = function (e) { const t = (0, rg.FP)(e), n = (0, rg.Uj)(e); return (0, a.useMemo)((() => { const { data: e, loading: a, error: r } = t, { data: o, loading: i, error: l } = n; if (a || i) return { loading: !0 }; if (r || l) return { error: r || l }; const s = Object.assign(Object.assign(Object.assign({}, e.achieved), e.unachieved), e.hidden); return { data: Object.keys(s).sort(((e, t) => o[t] - o[e])).map((e => s[e])) } }), [t, n]) }(t), i = (0, K.xJ)(); return r || !i ? a.createElement(Cg, null) : o ? a.createElement(yg, { error: o }) : a.createElement(Z_, { avatarURL: i.persona.avatar_url, achievements: n.map((e => ({ id: e.strID, title: e.strName, description: e.strDescription, imgUrl: e.strImage, percentGlobalUnlocked: e.flAchieved, unlocked: e.bAchieved, hidden: e.bHidden && !e.bAchieved }))) }) } function gg(e) { const { appid: t, accountid: n, avatarURL: r } = e, { data: o, loading: i, error: l } = function (e, t) { const n = (0, rg.er)(e, t), r = (0, rg.Uj)(e); return (0, a.useMemo)((() => { const { data: e, loading: t, error: a } = n, { data: o, loading: i, error: l } = r; if (t || i) return { loading: !0 }; if (a || l) return { error: a || l }; const s = Object.assign(Object.assign(Object.assign(Object.assign({}, e.achieved), e.unachieved), e.hiddenAchieved), e.hiddenUnachieved); return { data: Object.keys(s).sort(((e, t) => o[t] - o[e])).map((t => Object.assign(Object.assign({}, s[t]), { flAchieved: o[t], bHidden: !!e.hiddenAchieved[t] || !!e.hiddenUnachieved[t] }))) } }), [n, r]) }(t, n); return i ? a.createElement(Cg, null) : l ? a.createElement(yg, { error: l }) : a.createElement(Z_, { avatarURL: r, achievements: o.map((e => ({ id: e.strID, title: e.strName, description: e.strDescription, imgUrl: e.strImage, percentGlobalUnlocked: e.flAchieved, unlocked: e.bAchieved, hidden: e.bHidden }))) }) } function hg(e) { const { appid: t } = e, n = (0, z.kC)(t); if (!n) return null; const { rgHeroImages: r, bHasHeroImage: o } = va.d.GetHeroImages(n); return a.createElement("div", { className: ag.Background }, a.createElement("div", { className: ag.Blur }), o && a.createElement(si.A, { className: ag.HeaderImage, eAssetType: 1, appid: t, rgSources: r }), !o && a.createElement(si.A, { className: ag.HeaderImage, eAssetType: 3, app: n, bShortDisplay: !0 })) } function vg(e) { const { count: t } = e; return 0 === t ? null : a.createElement(Sg, { title: (0, g.Xx)("#Achievements_HiddenList_Title") }, a.createElement(X_, { count: t })) } const Sg = e => a.createElement(F_, Object.assign({}, e, { className: ag.List })); function Eg(e) { const { achievement: t } = e, n = (0, r._T)(e, ["achievement"]); return a.createElement(L_, Object.assign({ title: t.strName, description: t.strDescription, percentGlobalUnlocked: t.flAchieved, unlockDate: t.rtUnlocked, imgUrl: t.strImage, progress: (0, N_.HA)(t), glow: (0, ee.O5)(t.bAchieved, t.flAchieved) }, n)) } function bg(e) { const { name: t, avatarURL: n } = e; return a.createElement("div", { className: ag.UserContext }, a.createElement(Nt.o, { statusPosition: "none", strAvatarURL: n, size: "Small" }), a.createElement("div", { className: ag.Text }, (0, g.Xx)("#Achievements_FriendsAchievements", t))) } function Cg() { return a.createElement("div", { className: ag.LoadingContainer }, a.createElement(ge.t, { className: ag.Throbber, showFooter: !0 })) } function yg(e) { const t = (0, rg.L$)(), n = (0, oe.k6)(); return a.createElement("div", { className: ag.ErrorContainer }, a.createElement("div", { className: ag.ErrorTitle }, (0, g.Xx)("#Achievements_FailedToLoad_Title")), a.createElement(Y.s, { "flow-children": "row", className: ag.ErrorButtons }, a.createElement(i.zx, { onClick: t }, (0, g.Xx)("#Button_Retry")), a.createElement(i.zx, { onClick: () => n.goBack() }, (0, g.Xx)("#ActionButtonLabelBack")))) } var fg = n(26012), Ag = n(18560), Ig = n(89848), kg = n(83895), wg = n.n(kg), Ng = n(86584); function Tg(e) { const t = (0, K.bK)().sort(((e, t) => e.persona.is_online && !t.persona.is_online ? -1 : !e.persona.is_online && t.persona.is_online ? 1 : (0, us.tN)(e.displayName, t.displayName))), n = t => (0, r.mG)(this, void 0, void 0, (function* () { yield V.cK(t.GetAccountID(), e.screenshotHandle), e.closeModal(), yield te.Pp.ShowFriendChatDialog(t) })); return a.createElement(de.RG, { className: wg().ShowFriendPicker }, a.createElement("div", { className: wg().Title }, (0, g.Xx)("#MediaPage_ScreenshotContext_FriendShare")), a.createElement(Y.s, { className: wg().FriendList }, t.map(((t, r) => a.createElement(Y.s, { key: t.persona.GetAccountID(), className: wg().FriendSelector, focusable: !0, autoFocus: 0 == r, onOKButton: () => { return e = t.persona.m_steamid, void n(e); var e }, onCancelButton: () => e.closeModal() }, a.createElement(Tt.S5, { friend: t, size: "Medium", statusPosition: "right" }), a.createElement(xt.o, { className: wg().FullWidthPersona, persona: t.persona, eFriendRelationship: 3, bIsSelf: !1, bCompactView: !1, strNickname: t.nickname, bParenthesizeNicknames: ie.cS.communityPreferences.bParenthesizeNicknames })))))) } function xg(e, t) { const n = V.ST(e); if (!n) return void console.log("didn't find ", e); const r = V.cO(t); if (n.ePrivacy == r) return; let o = ""; switch (t) { case 0: o = "#MediaPage_ScreenshotContext_ConfirmVisibilityChange_Public"; break; case 1: o = "#MediaPage_ScreenshotContext_ConfirmVisibilityChange_FriendsOnly"; break; case 3: o = "#MediaPage_ScreenshotContext_ConfirmVisibilityChange_Unlisted"; break; case 2: o = "#MediaPage_ScreenshotContext_ConfirmVisibilityChange_Private" }(0, _e.AM)(a.createElement(sr.ms, { title: (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmVisibilityChange"), description: (0, g.Xx)(o), onCommitResult: () => V.Gx(e, t) }), window) } function Dg(e) { const [t, n] = a.useState(2), r = [{ data: 2, label: a.createElement("div", null, (0, g.Xx)("#Privacy_Private")) }, { data: 3, label: a.createElement("div", null, (0, g.Xx)("#Privacy_Unlisted")) }, { data: 1, label: a.createElement("div", null, (0, g.Xx)("#Privacy_FriendsOnly")) }, { data: 0, label: a.createElement("div", null, (0, g.Xx)("#Privacy_Public")) }], o = a.useCallback((e => { n(e.data) }), []); return a.createElement(de.RG, { className: wg().ScreenshotUploader }, a.createElement("div", { className: wg().Title }, (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmUpload_Title")), a.createElement(i.uT, { className: wg().UploadScreenshotBody }, a.createElement("div", { className: wg().Info }, (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmUpload_Details")), a.createElement(i.TW, { selectedOption: 2, onChange: o, rgOptions: r }), a.createElement("div", { className: wg().OptionInfo }, 0 == t && (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmVisibilityUpload_Public"), 1 == t && (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmVisibilityUpload_FriendsOnly"), 3 == t && (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmVisibilityUpload_Unlisted"), 2 == t && (0, g.Xx)("#MediaPage_ScreenshotContext_ConfirmVisibilityUpload_Private")), a.createElement(i.o9, { onOK: () => { V.bN(e.screenshotHandle, t), e.closeModal() }, onCancel: e.closeModal }))) } const Fg = e => { const [t, n] = a.useState(""), r = V.g_(e.screenshotHandle); if (!r.isSuccess) return null; return a.createElement(sr.ms, Object.assign({ onCommitResult: () => V.V(e.screenshotHandle, t) }, e), a.createElement(i.II, { autoFocus: !0, onChange: e => { n(e.target.value) }, placeholder: (0, g.Xx)("#MediaPage_Share_ActivityFeed_Prompt") }), a.createElement("div", { className: wg().PostScreenshotToActivityFeedDialogContents }, a.createElement("img", { src: r.data.strUrl, className: wg().Screenshot }))) }; const Gg = e => a.createElement(sr.ms, Object.assign({ title: (0, g.Xx)("#MediaPage_Delete_Confirm"), onCommitResult: () => V.fj(e.screenshotHandle) }, e)); const Bg = (0, Q.Pi)((e => { const t = V.g_(e.screenshotHandle), n = V.mz(e.screenshotHandle); if (!t.isSuccess || !t.isSuccess) return null; const r = t.data, o = 8 == r.ePrivacy, i = 4 == r.ePrivacy, s = 16 == r.ePrivacy, c = 2 == r.ePrivacy, m = r.bUploaded, u = m && (o || i || s), d = m && (o || i || s), p = m && (o || i || s), _ = m && (u || d || p), h = m, v = m, S = m, E = m; return a.createElement(_t.xV, null, _ && a.createElement(_t.D1, { label: (0, g.Xx)("#MediaPage_ScreenshotContext_Share") }, u && a.createElement(_t.Zo, { onSelected: () => { return t = e.screenshotHandle, void (0, _e.AM)(a.createElement(Fg, { title: (0, g.Xx)("#MediaPage_Share_ActivityFeed"), screenshotHandle: t }), window); var t } }, (0, g.Xx)("#MediaPage_ScreenshotContext_Share_SteamActivity")), d && a.createElement(_t.Zo, { onSelected: () => { return e = r.strUrl, void (0, _e.AM)(a.createElement(de.RG, null, a.createElement("div", { className: wg().QRCodeDialog }, a.createElement("div", { className: wg().ScanCode }, (0, g.Xx)("#MediaPage_ScreenshotContext_QRCodeShare")), a.createElement(Cp.s_, { className: wg().QRCode, quality: Cp.JQ.L }, e))), window); var e } }, (0, g.Xx)("#MediaPage_ScreenshotContext_Share_QRCode")), p && a.createElement(_t.Zo, { onSelected: () => { return t = e.screenshotHandle, void (0, _e.AM)(a.createElement(Tg, { screenshotHandle: t }), window); var t } }, (0, g.Xx)("#MediaPage_ScreenshotContext_Share_SendToFriend"))), h && a.createElement(_t.Zo, { onSelected: () => (0, _e.AM)(a.createElement(sr.J1, { title: (0, g.Xx)("#MediaPage_ScreenshotContext_EditCaption"), description: void 0, initialText: r.strCaption, onResult: t => V.b3(e.screenshotHandle, t) }), window) }, (0, g.Xx)("#MediaPage_ScreenshotContext_EditCaption")), v && a.createElement(_t.D1, { label: (0, g.Xx)("#MediaPage_ScreenshotContext_ChangeVisibility") }, a.createElement(_t.Zo, { onSelected: () => xg(e.screenshotHandle, 0) }, o && a.createElement(l.MCw, null), (0, g.Xx)(o ? "#MediaTab_Public" : "#MediaPage_ScreenshotContext_ChangeVisibility_MakePublic")), a.createElement(_t.Zo, { onSelected: () => xg(e.screenshotHandle, 1) }, i && a.createElement(l.MCw, null), (0, g.Xx)(i ? "#MediaTab_FriendsOnly" : "#MediaPage_ScreenshotContext_ChangeVisibility_MakeFriendsOnly")), a.createElement(_t.Zo, { onSelected: () => xg(e.screenshotHandle, 3) }, s && a.createElement(l.MCw, null), (0, g.Xx)(s ? "#MediaTab_Unlisted" : "#MediaPage_ScreenshotContext_ChangeVisibility_MakeUnlisted")), a.createElement(_t.Zo, { onSelected: () => xg(e.screenshotHandle, 2) }, c && a.createElement(l.MCw, null), (0, g.Xx)(c ? "#MediaTab_Private" : "#MediaPage_ScreenshotContext_ChangeVisibility_MakePrivate"))), S && a.createElement(_t.Zo, { onSelected: () => V.xX(e.screenshotHandle, !n.data) }, a.createElement(l.Uxw, null), (0, g.Xx)(n.data ? "#MediaPage_ScreenshotContext_UnsetFavorite" : "#MediaPage_ScreenshotContext_SetFavorite")), E && a.createElement(_t.Zo, { onSelected: () => V.Ak(e.screenshotHandle, !t.data.bSpoilers) }, a.createElement(l.Zpg, null), (0, g.Xx)(r.bSpoilers ? "#MediaPage_ScreenshotContext_RemoveSpoiler" : "#MediaPage_ScreenshotContext_AddSpoiler")), !m && a.createElement(_t.Zo, { onSelected: () => { return t = e.screenshotHandle, void (0, _e.AM)(a.createElement(Dg, { screenshotHandle: t }), window); var t } }, (0, g.Xx)("#MediaPage_ScreenshotContext_Upload")), a.createElement(_t.Zo, { onSelected: () => { return t = e.screenshotHandle, void (0, _e.AM)(a.createElement(Gg, { screenshotHandle: t }), window); var t } }, (0, g.Xx)("#MediaPage_ScreenshotContext_Delete"))) })); var Lg; !function (e) { e[e.HALF_WIDTH = 1] = "HALF_WIDTH", e[e.LARGE = 2] = "LARGE", e[e.FULLSCREEN = 3] = "FULLSCREEN" }(Lg || (Lg = {})); const Rg = (0, Q.Pi)((e => { var t; const n = V.g_(e.screenshotHandle); if (!n.isSuccess || !n.data) return null; const r = n.data, o = new Date(1e3 * r.nCreated).toLocaleString(g.Yt.GetPreferredLocales(), { month: "short", day: "numeric" }), i = new Date(1e3 * r.nCreated).toLocaleString(g.Yt.GetPreferredLocales(), { hour: "numeric", minute: "numeric" }), s = V.iI(r.ePrivacy), c = r.strCaption, m = r.bSpoilers; const u = r.nAppID ? vd.Q8.GetAppInfo(r.nAppID) : null, d = e.size == Lg.FULLSCREEN; let p = (0, k.Z)(wg().Screenshot, e.size == Lg.HALF_WIDTH && wg().HalfWidth, e.size == Lg.LARGE && wg().Large, e.size == Lg.FULLSCREEN && wg().Fullscreen); return a.createElement(Y.s, { className: p, scrollIntoViewWhenChildFocused: !0 }, a.createElement(Y.s, { className: wg().ImageContainer, onMenuButton: () => { (0, it.yV)(a.createElement(Bg, { screenshotHandle: e.screenshotHandle }), null) }, focusable: !0, autoFocus: e.autoFocus, onMenuActionDescription: (0, g.Xx)("#ActionButtonLabelContextMenu"), onOKButton: () => d ? e.setSelected("") : e.setSelected(e.screenshotHandle), onCancelButton: d ? () => e.setSelected("") : void 0 }, a.createElement("img", { className: (0, k.Z)(wg().Image, m && wg().Spoiler), src: r.strUrl }), m && a.createElement("div", { className: wg().SpoilerTag }, a.createElement(l.Zpg, null), a.createElement("div", { className: wg().Title }, (0, g.Xx)("#MediaPage_Spoiler")), a.createElement("div", { className: wg().Description }, (0, g.Xx)("#MediaPage_Spoiler_Reveal")))), a.createElement("div", { className: wg().Details }, u && a.createElement("div", { className: (0, k.Z)(wg().DetailsRow, wg().Name) }, null !== (t = u.name) && void 0 !== t ? t : "---"), a.createElement("div", { className: wg().DetailsRow }, a.createElement("div", { className: wg().Caption }, c ? `"${c}"` : "")), a.createElement("div", { className: wg().DetailsRow }, r.bUploaded && a.createElement("span", { className: wg().CloudSyncStatus }, a.createElement(l.SWB, null)), a.createElement("div", { className: wg().CaptureTime }, (0, g.kQ)("#Media_CapturedOn", a.createElement("span", { className: wg().Date }, o), a.createElement("span", { className: wg().Date }, i))), e.showVisibility && function (e) { switch (e) { case 0: return a.createElement("div", { className: (0, k.Z)(wg().VisibilityType, wg().Public) }, (0, g.Xx)("#MediaTab_Public")); case 1: return a.createElement("div", { className: (0, k.Z)(wg().VisibilityType, wg().FriendsOnly) }, (0, g.Xx)("#MediaTab_FriendsOnly")); case 2: return a.createElement("div", { className: (0, k.Z)(wg().VisibilityType, wg().Private) }, (0, g.Xx)("#MediaTab_Private")); case 3: return a.createElement("div", { className: (0, k.Z)(wg().VisibilityType, wg().Unlisted) }, (0, g.Xx)("#MediaTab_Unlisted")) }return a.createElement("div", { className: (0, k.Z)(wg().VisibilityType) }) }(s)))) })), Pg = e => { let t; if (0 != e.filterAppID) { const n = vd.Q8.GetAppInfo(e.filterAppID); n && n.name && (t = n.name) } return a.createElement("div", { className: wg().ScreenshotHeaderBanner }, void 0 !== e.sortOrder && a.createElement("div", { className: wg().SortOrder }, (0, g.Xx)(e.sortOrder == ne.by.NEWEST_FIRST ? "#MediaPage_Sort_NewestFirst" : "#MediaPage_Sort_OldestFirst")), a.createElement("div", { className: wg().DividerLine }), (null == t ? void 0 : t.length) > 0 && a.createElement("div", { className: wg().FilterApp }, t)) }, Og = (0, Q.Pi)((e => { a.useEffect((() => { e.clearSetFocusScreenshot() }), [e]); const [t, n, r] = V.uR(e.eVisibility, e.filterAppID, e.sortOrder); console.log("ScreenshotList", t, n); const o = null == e.eVisibility, i = e => (x.LT.PlayNavSound(x.qr.FailedNav), !1); return a.createElement(Y.s, { className: wg().ScreenshotList, onMoveLeft: i, onMoveRight: i, onMoveDown: i }, a.createElement(Pg, { sortOrder: e.sortOrder, filterAppID: e.filterAppID }), a.createElement(Y.s, { className: wg().ScreenshotGrid }, t.map((t => a.createElement(Rg, { key: t, screenshotHandle: t, size: Lg.HALF_WIDTH, showVisibility: o, setSelected: e.setSelectedScreenshot, autoFocus: t == e.strSetFocusScreenshot })))), a.createElement(Mg, { visibility: e.eVisibility, appid: e.filterAppID, sortOrder: e.sortOrder, eLoadState: n, fnLoadMore: r })) })); function Mg(e) { let t = a.useCallback((t => { t && e.fnLoadMore() }), [e]); return a.createElement(a.Fragment, null, e.eLoadState == V.Jg.Loaded && a.createElement(Xc.U, { trigger: "repeated", onVisibilityChange: t, rootMargin: "0px 0px 10px 0px" }), (e.eLoadState == V.Jg.Loaded || e.eLoadState == V.Jg.Loading) && a.createElement(Hg, null)) } function Hg(e) { return a.createElement(Y.s, { className: wg().LoadingThrobber }, a.createElement(zi.V, null)) } const Ug = e => a.createElement(_t.xV, null, a.createElement(_t.Zo, { onSelected: () => e.setSortOrder(ne.by.NEWEST_FIRST) }, e.currentSortOrder == ne.by.NEWEST_FIRST && a.createElement(l.MCw, null), (0, g.Xx)("#MediaPage_Sort_NewestFirst")), a.createElement(_t.Zo, { onSelected: () => e.setSortOrder(ne.by.OLDEST_FIRST) }, e.currentSortOrder == ne.by.OLDEST_FIRST && a.createElement(l.MCw, null), (0, g.Xx)("#MediaPage_Sort_OldestFirst"))), Xg = e => { e.activeTab; let t; switch (e.activeTab) { case "recent": case "all": t = void 0; break; case "public": t = 0; break; case "friendsonly": t = 1; break; case "unlisted": t = 3; break; case "private": t = 2 }const [n, r, o] = V.uR(void 0, e.currentFilterAppID, ne.by.NEWEST_FIRST), i = V.uc(n); let s = new Set; for (const e of i) { const t = vd.Q8.GetAppInfo(e.nAppID); t && s.add(t) } const c = Array.from(s.values()).map((e => { var t; return { nAppID: e.appid, strName: null !== (t = e.name) && void 0 !== t ? t : "---" } })).sort(((e, t) => (0, us.tN)(e.strName, t.strName))); return a.createElement(_t.xV, null, a.createElement(_t.Zo, { onSelected: () => e.setFilterAppID(0) }, 0 == e.currentFilterAppID && a.createElement(l.MCw, null), (0, g.Xx)("#MediaPage_Filter_None")), c.map((t => a.createElement(_t.Zo, { key: t.nAppID, onSelected: () => e.setFilterAppID(t.nAppID) }, e.currentFilterAppID == t.nAppID && a.createElement(l.MCw, null), t.strName)))) }, Vg = (0, Q.Pi)((() => { const [e, t] = function () { var e, t; const n = (0, oe.k6)(), r = (0, oe.TH)(), o = decodeURIComponent(null !== (t = null === (e = r.state) || void 0 === e ? void 0 : e.strActiveScreenshotHandle) && void 0 !== t ? t : ""), i = a.useCallback((e => n.replace({ state: Object.assign(Object.assign({}, n.location.state), { strActiveScreenshotHandle: e }) })), [n]); return [o, i] }(), [n, r] = a.useState(""), [o, i] = a.useState(ne.by.NEWEST_FIRST), [l, s] = function () { var e; const t = (0, oe.k6)(), n = (0, oe.TH)(), r = (null === (e = n.state) || void 0 === e ? void 0 : e.unFilterAppID) || 0, o = a.useCallback((e => t.replace({ state: Object.assign(Object.assign({}, t.location.state), { unFilterAppID: e }) })), [t]); return [r, o] }(), c = V.g_(e), m = () => { (0, it.yV)(a.createElement(Xg, { currentFilterAppID: l, setFilterAppID: s, activeTab: C }), null) }, u = () => { (0, it.yV)(a.createElement(Ug, { currentSortOrder: o, setSortOrder: i }), null) }, d = n => { "" == n && r(e), t(n) }, [p, _, h, v, S] = [V.M$(void 0, l), V.M$(0, l), V.M$(1, l), V.M$(3, l), V.M$(2, l)], E = [{ id: "all", title: "#MediaTab_All", renderTabAddon: () => a.createElement(Fa.z5, { count: p }), content: a.createElement(Og, { sortOrder: o, filterAppID: l, eVisibility: void 0, setSelectedScreenshot: d, strSetFocusScreenshot: n, clearSetFocusScreenshot: () => r("") }), footer: { onOptionsButton: u, onOptionsActionDescription: (0, g.Xx)("#ActionButtonLabelSort"), onMenuButton: m, onMenuActionDescription: (0, g.Xx)("#MediaPage_Filter") } }, { id: "public", title: "#MediaTab_Public", renderTabAddon: () => a.createElement(Fa.z5, { count: _ }), content: a.createElement(Og, { sortOrder: o, filterAppID: l, eVisibility: 0, setSelectedScreenshot: d, strSetFocusScreenshot: n, clearSetFocusScreenshot: () => r("") }), footer: { onOptionsButton: u, onOptionsActionDescription: (0, g.Xx)("#ActionButtonLabelSort"), onMenuButton: m, onMenuActionDescription: (0, g.Xx)("#MediaPage_Filter") } }, { id: "friendsonly", title: "#MediaTab_FriendsOnly", renderTabAddon: () => a.createElement(Fa.z5, { count: h }), content: a.createElement(Og, { sortOrder: o, filterAppID: l, eVisibility: 1, setSelectedScreenshot: d, strSetFocusScreenshot: n, clearSetFocusScreenshot: () => r("") }), footer: { onOptionsButton: u, onOptionsActionDescription: (0, g.Xx)("#ActionButtonLabelSort"), onMenuButton: m, onMenuActionDescription: (0, g.Xx)("#MediaPage_Filter") } }, { id: "unlisted", title: "#MediaTab_Unlisted", renderTabAddon: () => a.createElement(Fa.z5, { count: v }), content: a.createElement(Og, { sortOrder: o, filterAppID: l, eVisibility: 3, setSelectedScreenshot: d, strSetFocusScreenshot: n, clearSetFocusScreenshot: () => r("") }), footer: { onOptionsButton: u, onOptionsActionDescription: (0, g.Xx)("#ActionButtonLabelSort"), onMenuButton: m, onMenuActionDescription: (0, g.Xx)("#MediaPage_Filter") } }, { id: "private", title: "#MediaTab_Private", renderTabAddon: () => a.createElement(Fa.z5, { count: S }), content: a.createElement(Og, { sortOrder: o, filterAppID: l, eVisibility: 2, setSelectedScreenshot: d, strSetFocusScreenshot: n, clearSetFocusScreenshot: () => r("") }), footer: { onOptionsButton: u, onOptionsActionDescription: (0, g.Xx)("#ActionButtonLabelSort"), onMenuButton: m, onMenuActionDescription: (0, g.Xx)("#MediaPage_Filter") } }], b = E[0].id, { strActiveTab: C, onShowTab: y } = (0, Fa.hR)(Ng.Z.Media.Tab), f = e.length > 0 && c.isSuccess; let A; switch (C) { case "public": A = 0; break; case "friendsonly": A = 1; break; case "unlisted": A = 3; break; case "private": A = 2 }const [I, w, N] = V.uR(A, l, o), x = n => { if (0 == e.length) return !1; const a = I.findIndex((t => t == e)); if (-1 == a) return !0; const r = a + n; return r >= 0 && r < I.length - 1 && t(I[r]), !0 }; return a.createElement(Y.s, { className: (0, k.Z)(wg().MediaPage, f && wg().FullscreenScreenshot), onCancel: T.hq.GetBackstackRootTest(), scrollIntoViewType: ku.mz.NoTransform, onMoveLeft: (e, t) => x(-1), onMoveRight: (e, t) => x(1) }, f && a.createElement(Rg, { autoFocus: !0, screenshotHandle: e, size: Lg.FULLSCREEN, showVisibility: !1, setSelected: d }), !f && a.createElement(Fa.TI, { tabs: E, activeTab: C || b, onShowTab: y, autoFocusContents: !0 })) })); var Wg = n(46822), Zg = n(92755), zg = n(71819), qg = n(46624), Kg = n(77), jg = n(45740), Qg = n(23217), Yg = n(52476); function Jg(e) { const { closeModal: t, controllerIdx: n, bHWGyroCalibration: r } = e, [o, l] = a.useState({ nCountdown: 5, nCalibrating: -1 }), { bTimerCompleted: s, fnStopTimer: c, fnRestartTimer: u } = (0, m.J7)(1e3); a.useEffect((() => { s && (o.nCountdown > 0 ? (l({ nCountdown: o.nCountdown - 1, nCalibrating: o.nCalibrating }), u()) : r ? -1 == o.nCalibrating ? (SteamClient.Input.CalibrateControllerIMU(n), l({ nCountdown: 2, nCalibrating: 0 }), u()) : 0 == o.nCalibrating && l({ nCountdown: 0, nCalibrating: 1 }) : -1 == o.nCalibrating && (l({ nCountdown: o.nCountdown, nCalibrating: 0 }), SteamClient.Input.StartGyroSWCalibration((() => l({ nCountdown: o.nCountdown, nCalibrating: 1 }))))) }), [n, o, s, r, u]); return a.createElement(de.RG, null, a.createElement(Y.s, { focusable: !0, autoFocus: !0, noFocusRing: !0, onCancelButton: () => { 0 != o.nCalibrating || r || SteamClient.Input.CancelGyroSWCalibration(), t() } }, a.createElement(i.h4, null, (0, g.Xx)("#Settings_ControllerCalibration_CalibrateGyro_Header")), a.createElement(i.Ac, null, 0 == o.nCountdown && 1 == o.nCalibrating ? (0, g.Xx)("#Settings_ControllerCalibration_CalibrateGyro_Done") : o.nCountdown && -1 == o.nCalibrating ? (0, g.Xx)("#Settings_ControllerCalibration_CalibrateGyro_Desc", o.nCountdown) : (0, g.Xx)("#Settings_ControllerCalibration_CalibrateGyro_Calibrating")))) } const $g = (0, Q.Pi)((function (e) { var t; const n = (0, o.SN)(), r = ce.tH.Get().GetController(n); a.useEffect((() => (ce.tH.Get().StartControllerCalibrationFlow(n), () => ce.tH.Get().EndControllerCalibrationFlow())), [n]); const [i, l] = a.useState(r), s = a.useCallback((() => { ce.tH.Get().CommitCalibration(i) }), [i]); if (a.useEffect((() => () => s()), [s]), (0, Ct.kp)((0, g.Xx)("#Settings_Controller_Calibration"), "ControllerCalibration"), !r) return a.createElement(a.Fragment, null); const c = [{ visible: 2 != r.eControllerType, title: (0, g.Xx)("#Settings_ControllerCalibration_Joystick"), route: o.Z5.GamepadUI.ControllerDeviceCalibration.Inputs(n), content: a.createElement(nh, { controllerSettings: i, setControllerSettings: e => l(e) }), hideTitle: !0 }, { visible: (null === (t = ie.cS.settings) || void 0 === t ? void 0 : t.bIsValveEmail) && 0 != (4096 & r.unCapabilities) && 0 != (32768 & r.unCapabilities), title: (0, g.Xx)("#Settings_ControllerCalibration_Trackpads"), route: o.Z5.GamepadUI.ControllerDeviceCalibration.Trackpads(n), content: a.createElement(th, { controllerSettings: i, setControllerSettings: e => l(e) }) }, { visible: 0 != (2048 & r.unCapabilities) && 4 != r.eControllerType, title: (0, g.Xx)("#Settings_ControllerCalibration_Sensors"), route: o.Z5.GamepadUI.ControllerDeviceCalibration.Gyro(n), content: a.createElement(ah, { controllerSettings: i, setControllerSettings: e => l(e) }), hideTitle: !0 }, { visible: !0, title: (0, g.Xx)("#Settings_ControllerCalibration_Outputs"), route: o.Z5.GamepadUI.ControllerDeviceCalibration.Outputs(n), content: a.createElement(rh, { controllerSettings: i, setControllerSettings: e => l(e) }) }]; return a.createElement(ln.AF, null, a.createElement(rr.r, { title: (0, g.Xx)("#Settings_Title"), pages: c })) })), eh = (0, Q.Pi)((function (e) { var t, n, r, l; const { controllerSettings: s, setControllerSettings: c, bLeftStick: m } = e, u = (0, o.SN)(), d = ce.tH.Get().GetController(u), p = ce.tH.Get().ControllerState, [_, h] = a.useState(!1), [v, S] = a.useState(!1); if (!d) return a.createElement(a.Fragment, null); let E = 0, b = !1; const C = (0, zg.CU)(s.eControllerType); m ? (E = -1 == s.nLStickDeadzone ? C : s.nLStickDeadzone, b = !_ || m && p && Math.sqrt((null == p ? void 0 : p.sLeftStickX) * (null == p ? void 0 : p.sLeftStickX) + (null == p ? void 0 : p.sLeftStickY) * (null == p ? void 0 : p.sLeftStickY)) < E) : (E = -1 == s.nRStickDeadzone ? C : s.nRStickDeadzone, b = !_ || p && Math.sqrt((null == p ? void 0 : p.sRightStickX) * (null == p ? void 0 : p.sRightStickX) + (null == p ? void 0 : p.sRightStickY) * (null == p ? void 0 : p.sRightStickY)) < E); const y = () => _, f = "#67707b", A = { id: "DeadZoneInner", color: f, fill: "#3D4450", strokeWidth: 3, showInKey: !0, style: Wg.VizElement }, I = { id: "DeadZoneInner", color: f, fill: b ? "#5B7E90" : "#ff0000", strokeWidth: 3, showInKey: !0, style: Wg.VizElement }, w = _ ? m ? (null !== (t = null == p ? void 0 : p.sLeftStickX) && void 0 !== t ? t : 0) / 32767 : (null !== (n = null == p ? void 0 : p.sRightStickX) && void 0 !== n ? n : 0) / 32767 : 0, N = _ ? m ? (null !== (r = -(null == p ? void 0 : p.sLeftStickY)) && void 0 !== r ? r : 0) / 32767 : (null !== (l = -(null == p ? void 0 : p.sRightStickY)) && void 0 !== l ? l : 0) / 32767 : 0; return a.createElement(Y.s, { className: (0, k.Z)(Wg.JoystickPageContainer) }, a.createElement(i.Aw, null, a.createElement(Y.s, { "flow-children": "column", onButtonDown: e => { switch (e.detail.button) { case Ut.eV.OPTIONS: return h(!_), !0; case Ut.eV.CANCEL: if (_) return h(!1), !0; default: return !1 } }, onOptionsActionDescription: _ ? (0, g.Xx)("#Settings_ControllerCalibration_UnLockOutNavigation") : (0, g.Xx)("#Settings_ControllerCalibration_LockOutNavigation") }, a.createElement(Y.s, { "flow-children": "row", className: Wg.JoystickContainer }, a.createElement("div", { className: (0, k.Z)(Wg.VisualizationMainContainer, m && Wg.LeftStick) }, a.createElement("img", { className: (0, k.Z)(m ? Wg.DeckDeviceLeftImage : Wg.DeckDeviceRightImage), src: m ? Kg.Z : qg.Z }), a.createElement(Zg.KN, { centerX: 165, centerY: 95, data: A, radius: 90, showCenter: !0 }), a.createElement(Zg.KN, { centerX: 165, centerY: 95, data: I, radius: E / 32767 * 90, showCenter: !0 }), a.createElement(Zg.Dh, { LiveX: w, LiveY: N, centerX: 165, centerY: 95, maxRadius: 90, indicatorRadius: 5 }))), a.createElement("div", { className: (0, k.Z)(Wg.StartTestPrompt, m && Wg.LeftStick, v && Wg.ShowTestPrompt) }, " ", (0, g.kQ)("#Settings_ControllerCalibration_StartTestPrompt", a.createElement(Qg.m, { button: (0, st.pc)(Ut.eV.OPTIONS), className: (0, k.Z)(Wg.InlineGlyph) })), " "), a.createElement(Y.s, { className: (0, k.Z)(Wg.SliderContainer), autoFocus: !0, onMoveUp: y, onMoveDown: y, onMoveLeft: y, onMoveRight: y, onFocus: () => S(!0), onBlur: () => S(!1) }, a.createElement(i.z2, { className: Wg.JoystickSlider, bottomSeparator: "none", showValue: !0, value: E, onChange: e => { let t = s; m ? t.nLStickDeadzone = (0, zg.CU)(s.eControllerType) == e ? -1 : Math.round(e) : t.nRStickDeadzone = (0, zg.CU)(s.eControllerType) == e ? -1 : Math.round(e), c(t) }, min: 2e3, max: 18e3, dpadStep: 200, step: 1, resetValue: C, label: m ? (0, g.Xx)("#Settings_Controller_Calibration_LStickDeadzone") : (0, g.Xx)("#Settings_Controller_Calibration_RStickDeadzone") }))))) })), th = (0, Q.Pi)((function (e) { var t, n; const { controllerSettings: r, setControllerSettings: l } = e, s = (0, o.SN)(), c = ce.tH.Get().GetController(s), m = ce.tH.Get().ControllerState, [u, d] = a.useState(!1), [p, _] = a.useState(!1), [h, v] = a.useState(!1), [S, E] = a.useState(!1); if (!c) return a.createElement(a.Fragment, null); const b = -1 == r.flLPadPressureCurve ? 1 : r.flLPadPressureCurve, C = -1 == r.flRPadPressureCurve ? 1 : r.flRPadPressureCurve, y = 2e4, f = (0, Yg.rZ)(r.flLPadPressureCurve), A = (0, Yg.rZ)(r.flRPadPressureCurve), I = Math.min(1, null !== (t = (null == m ? void 0 : m.sPressurePadLeft) / y) && void 0 !== t ? t : 0), w = u ? -(0, Yg.ju)(I, f) : 0, N = Math.min(1, null !== (n = (null == m ? void 0 : m.sPressurePadRight) / y) && void 0 !== n ? n : 0), T = u ? -(0, Yg.ju)(N, A) : 0, x = "#67707b", D = "#00BBFF", F = "#0066FF", G = 156, B = 96, L = .12287625, R = L, P = .09537625000000001, O = 11.79612; !p && -w >= R ? _(!0) : p && -w <= P && _(!1), !h && -T >= R ? v(!0) : h && -T <= P && v(!1); const M = -w ? p ? F : D : "#00000000", H = -T ? h ? F : D : "#00000000", U = () => u, X = (e, t) => a.createElement(a.Fragment, null, a.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", className: Wg.VizElement }, a.createElement("rect", { x: e, y: 98, width: 60, height: 60, stroke: t, fill: t, strokeWidth: 3, rx: 6 }))), V = (e, t, n) => { let r = []; r.push(a.createElement(a.Fragment, null, a.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", className: Wg.VizElement }, a.createElement("rect", { x: e, y: 60, width: B, height: B, stroke: x, fill: "#101010", strokeWidth: 0, rx: 4 })))), r.push(a.createElement("div", { className: (0, k.Z)(Wg.PressureGraphLabel, 180 == e && Wg.DefaultClickLeft, 308 == e && Wg.DefaultClickRight) }, " ", (0, g.Xx)("#Settings_Controller_Calibration_DefaultClick"), " ")); const o = { id: "DefaultLine", color: x, fill: "#00000000", strokeWidth: 1, showInKey: !0, style: Wg.VizElement }; r.push(a.createElement(Zg.FE, { startX: e, startY: G - n, endX: e + B, endY: G - n, data: o, width: 1 })); let i = "M"; for (let n = 0; n < 40; n++) { let a = n / 39; i += (e + a * B).toString(), i += " ", i += (G - (0, Yg.ju)(a, t) * B).toString(), n < 39 && (i += " L") } return r.push(a.createElement(a.Fragment, null, " ", a.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", className: Wg.VizElement }, a.createElement("path", { d: i, stroke: D, fill: "#00000000", strokeWidth: 3 })))), r.push(a.createElement(a.Fragment, null, a.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", className: Wg.VizElement }, a.createElement("rect", { x: e - 2, y: 58, width: 100, height: 100, stroke: x, fill: "#00000000", strokeWidth: 3, rx: 4 })))), r }, W = e => (e / 32767 + 1) / 2, Z = (e, t) => 0 != e || 0 != t, z = e => "" + (null != e ? Number.parseFloat(e.toFixed(3)) : null); return a.createElement(Y.s, { className: (0, k.Z)(Wg.JoystickPageContainer) }, a.createElement(i.Aw, null, a.createElement("div", { className: (0, k.Z)(Wg.StartTestPrompt, Wg.Trackpads, S && Wg.ShowTestPrompt) }, " ", u ? (0, g.kQ)("#Settings_ControllerCalibration_StopTestPromptTrackpad", a.createElement(Qg.m, { button: (0, st.pc)(Ut.eV.OPTIONS), className: (0, k.Z)(Wg.InlineGlyph) })) : (0, g.kQ)("#Settings_ControllerCalibration_StartTestPromptTrackpad", a.createElement(Qg.m, { button: (0, st.pc)(Ut.eV.OPTIONS), className: (0, k.Z)(Wg.InlineGlyph) })), " "), a.createElement(Y.s, { "flow-children": "column", onButtonDown: e => { switch (e.detail.button) { case Ut.eV.OPTIONS: return d(!u), !0; case Ut.eV.CANCEL: if (u) return d(!1), !0; default: return u } }, onOptionsActionDescription: u ? (0, g.Xx)("#Settings_ControllerCalibration_UnLockOutNavigation") : (0, g.Xx)("#Settings_ControllerCalibration_LockOutNavigation") }, a.createElement(Y.s, { "flow-children": "row", className: Wg.JoystickContainer }, a.createElement("div", { className: (0, k.Z)(Wg.VisualizationMainContainer, Wg.Trackpads) }, a.createElement("img", { className: (0, k.Z)(Wg.DeckDeviceFullImage), src: jg.Z }), V(180, f, O), V(308, A, O), X(70, M), X(452, H), u && a.createElement(Zg.Dh, { LiveX: I, LiveY: w, centerX: 180, centerY: G, maxRadius: B, indicatorRadius: 5 }), u && a.createElement(Zg.Dh, { LiveX: N, LiveY: T, centerX: 308, centerY: G, maxRadius: B, indicatorRadius: 5 }), u && Z(null == m ? void 0 : m.sRightPadX, null == m ? void 0 : m.sRightPadY) && a.createElement(Zg.Dh, { LiveX: W(null == m ? void 0 : m.sRightPadX), LiveY: -W(null == m ? void 0 : m.sRightPadY), centerX: 452, centerY: 158, maxRadius: 60, indicatorRadius: 5 }), u && Z(null == m ? void 0 : m.sLeftPadX, null == m ? void 0 : m.sLeftPadY) && a.createElement(Zg.Dh, { LiveX: W(null == m ? void 0 : m.sLeftPadX), LiveY: -W(null == m ? void 0 : m.sLeftPadY), centerX: 70, centerY: 158, maxRadius: 60, indicatorRadius: 5 }), a.createElement("div", { className: (0, k.Z)(Wg.PressureGraphLabel) }, " ", (0, g.Xx)("#Settings_Controller_Calibration_PressureInput"), " "), a.createElement("div", { className: (0, k.Z)(Wg.PressureGraphLabel, Wg.Vertical) }, " ", (0, g.Xx)("#Settings_Controller_Calibration_PressureOutput"), " "))), a.createElement(Y.s, { onFocus: () => E(!0), onBlur: () => E(!1) }, a.createElement(Y.s, { className: (0, k.Z)(Wg.SliderContainer), onMoveUp: U, onMoveDown: U, onMoveLeft: U, onMoveRight: U }, a.createElement(i.z2, { className: Wg.JoystickSlider, bottomSeparator: "none", showValue: !0, renderValue: z, disabled: u, value: b, onChange: e => { let t = r; t.flLPadPressureCurve = e, SteamClient.Input.SetControllerPersonalizationSetting("flLPadPressureCurve", Math.round(100 * t.flLPadPressureCurve)), l(t) }, min: .05, max: 1.95, dpadStep: .0475, step: .025, resetValue: 1, label: (0, g.Xx)("#Settings_Controller_Calibration_LPadPressure") })), a.createElement(Y.s, { onMoveUp: U, onMoveDown: U, onMoveLeft: U, onMoveRight: U }, a.createElement(i.z2, { className: Wg.JoystickSlider, bottomSeparator: "none", showValue: !0, renderValue: z, disabled: u, value: C, onChange: e => { let t = r; t.flRPadPressureCurve = e, SteamClient.Input.SetControllerPersonalizationSetting("flRPadPressureCurve", Math.round(100 * t.flRPadPressureCurve)), l(t) }, min: .05, max: 1.95, dpadStep: .0475, step: .025, resetValue: 1, label: (0, g.Xx)("#Settings_Controller_Calibration_RPadPressure") })))))) })), nh = (0, Q.Pi)((function (e) { const { controllerSettings: t, setControllerSettings: n } = e, [r, i] = a.useState(!0), l = (0, o.SN)(), s = ce.tH.Get().GetController(l), c = !!(4 & s.unCapabilities && 8 & s.unCapabilities); let m = a.useMemo((() => [{ id: "left", title: "#Settings_ControllerCalibration_LeftJoystick", content: a.createElement(eh, { controllerSettings: t, setControllerSettings: n, bLeftStick: !0 }) }, { id: "right", title: "#Settings_ControllerCalibration_RightJoystick", content: a.createElement(eh, { controllerSettings: t, setControllerSettings: n, bLeftStick: !1 }) }]), [t, n]); if (!c) return null; return a.createElement(Fa.TI, { tabs: m, activeTab: r ? "left" : "right", onShowTab: e => i("left" == e), autoFocusContents: !0, cancelSkipTabHeader: !0 }) })), ah = (0, Q.Pi)((function (e) { const { controllerSettings: t, setControllerSettings: n } = e, r = (0, o.SN)(), l = ce.tH.Get().GetController(r), s = 0 != (262144 & l.unCapabilities); if (!l) return a.createElement(a.Fragment, null); const c = 2 == l.eControllerType, m = e => (0, _e.AM)(a.createElement(Jg, { controllerIdx: r, bHWGyroCalibration: e }), window), u = a.createElement(a.Fragment, null, c && a.createElement(i.sT, { label: (0, g.Xx)("#Settings_ControllerCalibration_CalibrateTrackpad"), onClick: () => { SteamClient.Input.CalibrateControllerTrackpads(r) } }, (0, g.Xx)("#Settings_ControllerCalibration_Start")), c && a.createElement(i.sT, { label: (0, g.Xx)("#Settings_ControllerCalibration_CalibrateJoystick"), onClick: () => { SteamClient.Input.CalibrateControllerJoystick(r) } }, (0, g.Xx)("#Settings_ControllerCalibration_Start")), c && a.createElement(i.sT, { label: (0, g.Xx)("#Settings_ControllerCalibration_CalibrateIMU"), onClick: () => { m(!0) } }, (0, g.Xx)("#Settings_ControllerCalibration_Start")), s && a.createElement(i.sT, { className: Wg.CalibrationButton, label: (0, g.Xx)("#Settings_ControllerCalibration_CalibrateIMU"), onClick: () => { m(!1) } }, "\t", (0, g.Xx)("#Settings_ControllerCalibration_Calibrate"), " "), s && a.createElement(i.fp, { onChange: () => { let e = t; e.bSWAntiDrift = !t.bSWAntiDrift, n(e) }, checked: t.bSWAntiDrift, label: (0, g.Xx)("#Settings_ControllerCalibration_SWGyroCal") })); return a.createElement(a.Fragment, null, a.createElement(i.Aw, null, a.createElement(Y.s, { "flow-children": "column" }, u))) })), rh = (0, Q.Pi)((function (e) { const { controllerSettings: t, setControllerSettings: n } = e, r = (0, o.SN)(), l = ce.tH.Get().GetController(r), s = (e, t) => { SteamClient.Input.ForceSimpleHapticEvent(r, e ? 0 : 1, 2, 0, t - 5) }; if (!l) return a.createElement(a.Fragment, null); const c = 4 == l.eControllerType, m = !!(8192 & l.unCapabilities) || c, u = !!(16384 & l.unCapabilities) || !!(2097152 & l.unCapabilities), d = 2 == l.eControllerType || 3 == l.eControllerType, p = t.nLHapticStrength > 5 ? { "--left-track-color": "linear-gradient( to right, #1a9fff 0, #1a9fff calc( (100%) * " + ((14 - t.nLHapticStrength) / 9).toString() + " ), #E35E1C calc( (100%) * " + ((14 - t.nLHapticStrength) / 9).toString() + " ), #E35E1C 100% )" } : {}, _ = t.nRHapticStrength > 5 ? { "--left-track-color": "linear-gradient( to right, #1a9fff 0, #1a9fff calc( (100%) * " + ((14 - t.nRHapticStrength) / 9).toString() + " ), #E35E1C calc( (100%) * " + ((14 - t.nRHapticStrength) / 9).toString() + " ), #E35E1C 100% )" } : {}, h = t.nLHapticStrength > 5 || t.nRHapticStrength > 5; return a.createElement(a.Fragment, null, a.createElement(i.Aw, null, a.createElement(Y.s, { "flow-children": "column" }, u && !d && a.createElement(i.fp, { onChange: () => { let e = t; e.eRumblePreference = 1 == t.eRumblePreference ? 0 : 1, n(e) }, checked: 1 == t.eRumblePreference, label: (0, g.Xx)("#Settings_ControllerCalibration_RumbleEnable") }), m && a.createElement(i.fp, { onChange: () => { let e = t; e.bHaptics = !t.bHaptics, n(e) }, checked: t.bHaptics, label: (0, g.Xx)("#Settings_ControllerCalibration_HapticsEnable") }), c && a.createElement(Y.s, { onOptionsButton: () => (s(!0, t.nLHapticStrength), !0), actionDescriptionMap: { [Ut.eV.OPTIONS]: (0, g.Xx)("#Settings_Controller_Calibration_HapticTest") } }, a.createElement(i.z2, { bottomSeparator: "none", showValue: !0, value: t.nLHapticStrength, onChange: e => { let a = t; a.nLHapticStrength = Math.round(e), n(a), s(!0, e) }, min: 1, max: 10, step: 1, label: (0, g.Xx)("#Settings_Controller_Calibration_LHapticStrength"), trackStyleOverride: p })), c && a.createElement(Y.s, { onOptionsButton: () => (s(!1, t.nRHapticStrength), !0), actionDescriptionMap: { [Ut.eV.OPTIONS]: (0, g.Xx)("#Settings_Controller_Calibration_HapticTest") } }, a.createElement(i.z2, { bottomSeparator: "none", showValue: !0, value: t.nRHapticStrength, onChange: e => { let a = t; a.nRHapticStrength = Math.round(e), n(a), s(!1, e) }, min: 1, max: 10, step: 1, label: (0, g.Xx)("#Settings_Controller_Calibration_RHapticStrength"), trackStyleOverride: _ })), c && a.createElement(Y.s, { className: (0, k.Z)(Wg.HapticsDesc, h && Wg.HapticsWarning) }, (0, g.Xx)("#Settings_Controller_Calibration_HapticsWarning")), d && a.createElement(i.z2, { bottomSeparator: "none", value: t.flLEDBrightness, onChange: e => { let a = t; a.flLEDBrightness = e, SteamClient.Input.SetControllerPersonalizationSetting("flLEDBrightness", Math.round(100 * a.flLEDBrightness)), n(a) }, min: 0, max: 1, step: .05, label: (0, g.Xx)("#Settings_Controller_Calibration_LEDBrightness") })))) })); var oh = n(8154); n(73402); const ih = { 0: "#Settings_ControllerDeviceSupport_TestingLeftTrigger", 1: "#Settings_ControllerDeviceSupport_TestingRightTrigger", 2: "#Settings_ControllerDeviceSupport_TestingLeftTrackpad", 3: "#Settings_ControllerDeviceSupport_TestingLeftTrackpadPressure", 4: "#Settings_ControllerDeviceSupport_TestingRightTrackpad", 5: "#Settings_ControllerDeviceSupport_TestingRightTrackpadPressure", 6: "#Settings_ControllerDeviceSupport_TestingLeftJoystick", 7: "#Settings_ControllerDeviceSupport_TestingRightJoystick", 8: "#Settings_ControllerDeviceSupport_TestingButtons", 9: "#Settings_ControllerDeviceSupport_TestingLeftHaptics", 10: "#Settings_ControllerDeviceSupport_TestingRightHaptics", 11: "#Settings_ControllerDeviceSupport_TestingComplete", 12: "#Settings_ControllerDeviceSupport_TestingStarted" }; function lh(e) { var t, n; const r = (0, ce.rO)(); let o = null === (t = ce.tH.Get().GetController(null == r ? void 0 : r.controllerIdx)) || void 0 === t ? void 0 : t.nLStickDeadzone; o = o < 0 ? (0, zg.CU)(null === (n = ce.tH.Get().GetController(null == r ? void 0 : r.controllerIdx)) || void 0 === n ? void 0 : n.eControllerType) : o; const l = Math.sqrt((null == r ? void 0 : r.LeftJoystickX) * (null == r ? void 0 : r.LeftJoystickX) + (null == r ? void 0 : r.LeftJoystickY) * (null == r ? void 0 : r.LeftJoystickY)), s = l >= o ? null == r ? void 0 : r.LeftJoystickX : 0, c = l >= o ? null == r ? void 0 : r.LeftJoystickY : 0, m = (null == r ? void 0 : r.LeftTrigger) > 100 ? null == r ? void 0 : r.LeftTrigger : 0; return a.createElement("div", { className: oh.InfoColumn }, a.createElement(i.Aw, null, a.createElement(i.VC, { padding: "compact", focusable: !1, label: (0, g.Xx)("#Settings_ControllerDeviceSupport_LeftTrigger") }, String(m)), a.createElement(i.VC, { padding: "compact", focusable: !1, label: (0, g.Xx)("#Settings_ControllerDeviceSupport_LeftTrackpad") }, String(null == r ? void 0 : r.LeftTrackpadX) + ", " + String(null == r ? void 0 : r.LeftTrackpadY)), a.createElement(i.VC, { padding: "compact", focusable: !1, label: (0, g.Xx)("#Settings_ControllerDeviceSupport_LeftTrackpad_Pressure") }, String(null == r ? void 0 : r.LeftTrackpadPressure)), a.createElement(i.VC, { padding: "compact", focusable: !1, bottomSeparator: "none", label: (0, g.Xx)("#Settings_ControllerDeviceSupport_LeftJoystick") }, String(s) + ", " + String(c)))) } function sh(e) { a.useEffect((() => (T.hq.DisableHomeAndQuickAccessButtons(), () => { T.hq.EnableHomeAndQuickAccessButtons() })), []); const t = a.useRef(null), n = () => { J.g4.NavigateBack() }; a.useEffect((() => () => { t.current && window.clearTimeout(t.current) }), []); const r = e => !0; return a.createElement(ln.$x, null, a.createElement(Y.s, { className: oh.Container, focusable: !0, autoFocus: !0, noFocusRing: !0, onButtonDown: e => (e.detail.button == Ut.eV.CANCEL && (t.current = window.setTimeout(n, 2e3)), !0), onButtonUp: e => { e.detail.button == Ut.eV.CANCEL && (t.current && (window.clearTimeout(t.current), t.current = null), e.preventDefault(), e.stopPropagation()) }, onCancelButton: () => { }, onCancelActionDescription: (0, g.Xx)("#Settings_ControllerDeviceSupport_HoldBToExit"), onMoveDown: r, onMoveUp: r, onMoveLeft: r, onMoveRight: r, onOKActionDescription: null }, e.children)) } function ch(e) { var t, n; const r = (0, ce.rO)(); let o = null === (t = ce.tH.Get().GetController(null == r ? void 0 : r.controllerIdx)) || void 0 === t ? void 0 : t.nRStickDeadzone; o = o < 0 ? (0, zg.CU)(null === (n = ce.tH.Get().GetController(null == r ? void 0 : r.controllerIdx)) || void 0 === n ? void 0 : n.eControllerType) : o; const l = Math.sqrt((null == r ? void 0 : r.RightJoystickX) * (null == r ? void 0 : r.RightJoystickX) + (null == r ? void 0 : r.RightJoystickY) * (null == r ? void 0 : r.RightJoystickY)), s = l >= o ? null == r ? void 0 : r.RightJoystickX : 0, c = l >= o ? null == r ? void 0 : r.RightJoystickY : 0, m = (null == r ? void 0 : r.RightTrigger) > 100 ? null == r ? void 0 : r.RightTrigger : 0; return a.createElement("div", { className: oh.InfoColumn }, a.createElement(i.Aw, null, a.createElement(i.VC, { padding: "compact", focusable: !1, label: (0, g.Xx)("#Settings_ControllerDeviceSupport_RightTrigger") }, String(m)), a.createElement(i.VC, { padding: "compact", focusable: !1, label: (0, g.Xx)("#Settings_ControllerDeviceSupport_RightTrackpad") }, String(null == r ? void 0 : r.RightTrackpadX) + ", " + String(null == r ? void 0 : r.RightTrackpadY)), a.createElement(i.VC, { padding: "compact", focusable: !1, label: (0, g.Xx)("#Settings_ControllerDeviceSupport_RightTrackpad_Pressure") }, String(null == r ? void 0 : r.RightTrackpadPressure)), a.createElement(i.VC, { padding: "compact", focusable: !1, bottomSeparator: "none", label: (0, g.Xx)("#Settings_ControllerDeviceSupport_RightJoystick") }, String(s) + ", " + String(c)))) } function mh(e) { var t; const n = (0, o.SN)(); a.useEffect((() => { T.hq.DisableHomeAndQuickAccessButtons(), n >= 0 && ce.tH.Get().StartControllerSupportFlow(n) }), [n]), a.useEffect((() => () => { T.hq.EnableHomeAndQuickAccessButtons(), ce.tH.Get().EndControllerSupportFlow() }), []); const r = ce.tH.Get().GetController(n); (0, Ct.kp)((0, g.Xx)("#Settings_ControllerDeviceSupport_Title", r.strSerialNumber), "ControllerDeviceSupport"); const i = (0, ce.rO)(); return a.createElement(sh, null, a.createElement(l.D8u, { className: oh.ControllerOutline, highlightViewButton: null == i ? void 0 : i.bViewButton, highlightOptionsButton: null == i ? void 0 : i.bOptionsButton, highlightSteamButton: null == i ? void 0 : i.bSteamButton, highlightQuickAccessButton: null == i ? void 0 : i.bQuickAccessButton, highlightLeftStick: null == i ? void 0 : i.bLeftStick, highlightRightStick: null == i ? void 0 : i.bRightStick, highlightLeftTrackpad: null == i ? void 0 : i.bLeftTrackpad, highlightRightTrackpad: null == i ? void 0 : i.bRightTrackpad, highlightDPad: (null == i ? void 0 : i.bDPadUp) && (null == i ? void 0 : i.bDPadDown) && (null == i ? void 0 : i.bDPadLeft) && (null == i ? void 0 : i.bDPadRight), highlightAButton: null == i ? void 0 : i.bAButton, highlightBButton: null == i ? void 0 : i.bBButton, highlightXButton: null == i ? void 0 : i.bXButton, highlightYButton: null == i ? void 0 : i.bYButton, highlightL1Button: null == i ? void 0 : i.bLeftBumper, highlightL2Trigger: null == i ? void 0 : i.bLeftTrigger, highlightR1Button: null == i ? void 0 : i.bRightBumper, highlightR2Trigger: null == i ? void 0 : i.bRightTrigger, highlightL4Grip: null == i ? void 0 : i.bL4, highlightL5Grip: null == i ? void 0 : i.bL5, highlightR4Grip: null == i ? void 0 : i.bR4, highlightR5Grip: null == i ? void 0 : i.bR5 }), a.createElement("div", { className: oh.TestStepLabel }, " ", (0, g.Xx)(ih[null !== (t = null == i ? void 0 : i.currentTestStep) && void 0 !== t ? t : 12]), " "), a.createElement("div", { className: oh.Row }, a.createElement(lh, null), a.createElement(ch, null))) } var uh, dh = n(79507), ph = n.n(dh), _h = n(11432), gh = n(43519); n(99591); !function (e) { e[e.SSA = 0] = "SSA", e[e.EnterCode = 1] = "EnterCode", e[e.Info = 2] = "Info", e[e.Success = 3] = "Success", e[e.Failure = 4] = "Failure", e[e.Busy = 5] = "Busy" }(uh || (uh = {})); const hh = e => { const [t, n] = a.useState({ eState: uh.EnterCode, nErrorCode: 0, strProductName: "" }), [o, s] = a.useState(""), c = a.useRef(), m = (0, _h.tp)(_h.ah); a.useEffect((() => { m && 0 != m.time_ssa_updated ? m.time_ssa_accepted < m.time_ssa_updated ? n({ eState: uh.SSA, nErrorCode: 0, strProductName: "" }) : n({ eState: uh.EnterCode, nErrorCode: 0, strProductName: "" }) : n({ eState: uh.Busy, nErrorCode: 0, strProductName: "" }) }), [m]), a.useEffect((() => { t.eState == uh.EnterCode && T.hq.VirtualKeyboardManager.SetVirtualKeyboardShown(!0) }), [t.eState]); const u = () => (0, r.mG)(void 0, void 0, void 0, (function* () { const e = Xa.gA.Init(Ua.Xf); e.Body().set_activation_code(o), e.Body().set_is_request_from_client(!0); try { n({ eState: uh.Busy, nErrorCode: 0, strProductName: "" }); let t = yield Ua.d6.RegisterCDKey(_h.ah.CMInterface.GetServiceTransport(), e), a = ""; t.Body().purchase_receipt_info().line_items().length > 0 && (a = t.Body().purchase_receipt_info().line_items()[0].line_item_description()), 0 == t.Body().purchase_result_details() ? n({ eState: uh.Success, nErrorCode: 0, strProductName: a }) : n({ eState: uh.Failure, nErrorCode: t.Body().purchase_result_details(), strProductName: a }) } catch (e) { n({ eState: uh.Failure, nErrorCode: 4, strProductName: "" }) } })), [d, p] = a.useState(""); a.useEffect((() => { (0, r.mG)(void 0, void 0, void 0, (function* () { const e = yield Ql().get(`${ue.De.STORE_BASE_URL}subscriber_agreement/${ue.De.LANGUAGE}?deck_ssa=1`); p(e.data) })) }), []); let _ = "", h = ""; if (t.eState == uh.Failure) switch (t.nErrorCode) { case 14: _ = "#Activate_InvalidCode_Headline", h = "#Activate_InvalidCode"; break; case 15: _ = "#Activate_Subscription_Rejected_Headline", h = "#Activate_Subscription_Rejected"; break; case 53: _ = "#Activate_RateLimited_Headline", h = "#Activate_RateLimited"; break; case 4: _ = "#Activate_ServiceUnavailable_Headline", h = "#Activate_ServiceUnavailable"; break; case 13: _ = "#Activate_RestrictedCountry_Headline", h = "#Activate_RestrictedCountry"; break; case 9: _ = "#Activate_AlreadyPurchased_Headline", h = "#Activate_AlreadyPurchased"; break; case 24: _ = "#Activate_MustOwnOtherApp_Headline", h = "#Activate_MustOwnOtherApp"; break; case 36: _ = "#Activate_MustLoginPS3_Headline", h = "#Activate_MustLoginPS3" }return a.createElement(de.RG, { onOK: u, onCancel: e.closeModal }, t.eState == uh.SSA && a.createElement(Y.s, { className: ph().SSAPopupContainer, onGamepadDirection: e => { if (c.current) switch (e.detail.button) { case Ut.eV.DIR_UP: return c.current.scrollBy({ top: -100, behavior: "smooth" }), !0; case Ut.eV.DIR_DOWN: return c.current.scrollBy({ top: 100, behavior: "smooth" }), !0 }return !1 } }, a.createElement(i.h4, null, (0, g.Xx)("#Settings_Library_ProdKey_Activate")), a.createElement(i.Ac, { className: ph().AgreementPrompt }, (0, g.Xx)("#Settings_Library_SSA_Agree")), a.createElement(Y.s, { ref: c, className: ph().SSAContainer }, a.createElement("div", { dangerouslySetInnerHTML: { __html: d } })), a.createElement(i.o9, { bOKDisabled: !1, onOK: () => _h.ah.AcceptSSA(0), onCancel: e.closeModal, strOKText: (0, g.Xx)("#Settings_Library_SSA_Agree_Confirm"), focusButton: "primary" })), t.eState == uh.Info && a.createElement("div", { className: ph().ProductActivationInfoContainer }, a.createElement("div", { className: ph().ModalHeader }, a.createElement(i.h4, null, a.createElement(l.daM, { className: ph().InfoIcon }), (0, g.Xx)("#Settings_Library_ProdKey_Info_Title")), a.createElement(Y.s, { focusable: !0, className: ph().CloseButtonContainer, onActivate: () => n({ eState: uh.EnterCode, nErrorCode: 0, strProductName: "" }) }, a.createElement(l.x8P, { className: ph().CloseButton }))), a.createElement(i.Ac, { className: ph().InfoBody }, (0, g.Xx)("#Settings_Library_ProdKey_Info_Details")), a.createElement("div", { className: ph().InfoExampleHeader }, (0, g.Xx)("#Settings_Library_ProdKey_Info_Examples")), a.createElement("div", { className: ph().InfoExample }, (0, g.Xx)("#Settings_Library_ProdKey_Info_Example_1")), a.createElement("div", { className: ph().InfoExample }, (0, g.Xx)("#Settings_Library_ProdKey_Info_Example_2")), a.createElement("div", { className: ph().InfoExample }, (0, g.Xx)("#Settings_Library_ProdKey_Info_Example_3")), a.createElement(i.KM, { className: ph().InfoAcceptButton, autoFocus: !0, onClick: () => n({ eState: uh.EnterCode, nErrorCode: 0, strProductName: "" }) }, (0, g.Xx)("#Generic_GotItCalm"))), t.eState == uh.EnterCode && a.createElement(Y.s, { className: ph().ActivateProductContainer }, a.createElement("div", { className: (0, k.Z)(ph().HeaderContainer, "DialogHeader") }, a.createElement(i.h4, { className: ph().CodeInputHeader }, (0, g.Xx)("#Settings_Library_ProdKey_EnterProductCode"), a.createElement(Y.s, { focusable: !0, className: ph().InfoIconContainer, onActivate: () => n({ eState: uh.Info, nErrorCode: 0, strProductName: "" }) }, a.createElement(l.daM, { className: ph().InfoIcon })))), a.createElement(i.II, { className: ph().CodeInput, autoFocus: !0, onChange: e => s(e.target.value) }), a.createElement(i.$_, null, a.createElement(i.o9, { bOKDisabled: 0 == o.length, onOK: u, onCancel: e.closeModal }))), t.eState == uh.Failure && a.createElement(a.Fragment, null, a.createElement(i.h4, null, (0, g.Xx)(_, t.strProductName)), a.createElement(i.Ac, { className: ph().ResultBody, style: { whiteSpace: "pre-line" } }, (0, g.Xx)(h, t.strProductName)), a.createElement(i.KM, { className: ph().ResultAcceptButton, autoFocus: !0, onClick: () => n({ eState: uh.EnterCode, nErrorCode: 0, strProductName: "" }) }, (0, g.Xx)("#Generic_Okay"))), t.eState == uh.Success && a.createElement(a.Fragment, null, a.createElement(i.h4, null, (0, g.Xx)("#Activate_SubscriptionSuccess_Headline")), a.createElement(i.Ac, { className: ph().ResultBody, style: { whiteSpace: "pre-line" } }, (0, g.Xx)("#Activate_SubscriptionSuccess")), a.createElement(i.KM, { className: ph().ResultAcceptButton, autoFocus: !0, onClick: () => e.closeModal() }, (0, g.Xx)("#Generic_Okay"))), t.eState == uh.Busy && a.createElement(zi.V, null)) }; var vh = n(55280), Sh = n.n(vh); function Eh() { return a.createElement(i.uT, { className: (0, k.Z)(Sh().NoScroll, Sh().LibrarySettings) }, a.createElement(i.dQ, null, a.createElement("div", { className: Sh().TableHeader }, a.createElement("div", null, (0, g.Xx)("#Settings_Library_ProdKey_Activate")))), a.createElement(i.sT, { icon: a.createElement(l.CD, null), label: (0, g.Xx)("#Settings_Library_Add_To_Library"), description: (0, g.Xx)("#Settings_Library_ProdKey_UseCode"), onClick: () => (0, _e.AM)(a.createElement(hh, null), window, {}), bottomSeparator: "none" }, (0, g.Xx)("#Settings_Library_ProdKey_AddGame"))) } function bh(e) { const t = s.HL.Output; return 0 == b(t).length ? a.createElement(i.gN, { disabled: !0, icon: a.createElement(l.D1O, null), label: (0, g.Xx)("#Audio_No_Output_Devices_Detected") }) : a.createElement(a.Fragment, null, a.createElement(G, { direction: t, label: (0, g.Xx)("#Audio_Volume") }), a.createElement(L, { direction: t, label: (0, g.Xx)("#Audio_OutputDevice") })) } function Ch(e) { const t = s.HL.Input; return 0 == b(t).length ? a.createElement(i.gN, { disabled: !0, icon: a.createElement(l.D1O, null), label: (0, g.Xx)("#Audio_No_Input_Devices_Detected") }) : a.createElement(a.Fragment, null, a.createElement(G, { direction: t, label: (0, g.Xx)("#Audio_Volume") }), a.createElement(L, { direction: t, label: (0, g.Xx)("#Audio_InputDevice") })) } function yh(e) { var t; const [n, r] = a.useState(null === (t = ie.cS.settings) || void 0 === t ? void 0 : t.bUISoundsEnabled); return a.createElement(i.fp, { onChange: () => SteamClient.Settings.SetUISoundsEnabled(!n), checked: n, label: (0, g.Xx)("#Audio_Setting_Enable_UI_Sounds") }) } function fh(e) { a.useEffect((() => (E.SuppressVolumeOverlay(), () => { E.UnSuppressVolumeOverlay() })), []); const [t, n] = (0, T.oA)(); return a.createElement(i.uT, null, a.createElement(bh, null), a.createElement(i.bU, null, (0, g.Xx)("#Audio_Header_Voice")), a.createElement(Ch, null), a.createElement(yh, null), !1) } var Ah = n(52848); class Ih { constructor(e) { this.m_rtLastUpdate = (0, _.vq)(), this.m_rtFirstSeen = 0, this.Update(e), this.m_rtFirstSeen = Date.now() } get rtLastUpdate() { return this.m_rtLastUpdate } get rtFirstSeen() { return this.m_rtFirstSeen } get bPresent() { return this.m_bPresent } Update(e) { this.m_data = e, this.m_bPresent = !0, this.OnUpdated(), 0 == this.m_rtFirstSeen && (this.m_rtFirstSeen = Date.now()) } MarkAsNotPresent() { this.m_bPresent = !1, this.m_rtLastUpdate.Set(Date.now()), this.m_rtFirstSeen = 0 } OnUpdated() { this.m_rtLastUpdate.Set(Date.now()) } } class kh extends Ih { get id() { return this.m_data.nId } get sName() { return this.m_data.sName } get bEnabled() { return this.m_data.bEnabled } get bDiscovering() { return this.m_data.bDiscovering } SetDiscovering(e) { SteamClient.System.Bluetooth.SetAdapterDiscovering(this.id, e) } } class wh extends Ih { constructor() { super(...arguments), this.m_promiseLastOperation = null, this.m_bPairingInProgress = !1 } get bWaitingOnAction() { return null != this.m_promiseLastOperation } get id() { return this.m_data.nId } get nAdapterId() { return this.m_data.nAdapterId } get eType() { return this.m_data.eType } get sName() { return this.m_data.sName } get sMAC() { return this.m_data.sMAC } get bPaired() { return this.m_data.bPaired } get bPairing() { return this.m_bPairingInProgress } get bConnected() { return this.m_data.bConnected } get nRawStrength() { return this.m_data.nStrengthRaw } get rtFirstSeen() { return this.m_rtFirstSeen } Pair() { this.m_bPairingInProgress = !0, this.m_promiseLastOperation = SteamClient.System.Bluetooth.Pair(this.nAdapterId, this.id), this.m_promiseLastOperation.then(this.OnPairCompleted), this.OnUpdated() } CancelPairing() { this.m_promiseLastOperation = SteamClient.System.Bluetooth.CancelPairing(this.nAdapterId, this.id), this.m_promiseLastOperation.then(this.OnPromiseResolved), this.OnUpdated() } UnPair() { this.m_promiseLastOperation = SteamClient.System.Bluetooth.UnPair(this.nAdapterId, this.id), this.m_promiseLastOperation.then(this.OnPromiseResolved), this.OnUpdated() } Connect() { this.m_promiseLastOperation = SteamClient.System.Bluetooth.Connect(this.nAdapterId, this.id), this.m_promiseLastOperation.then(this.OnPromiseResolved), this.OnUpdated() } Disconnect() { this.m_promiseLastOperation = SteamClient.System.Bluetooth.Disconnect(this.nAdapterId, this.id), this.m_promiseLastOperation.then(this.OnPromiseResolved), this.OnUpdated() } Update(e) { super.Update(e) } OnPairCompleted(e) { this.m_bPairingInProgress = !1, this.OnPromiseResolved(e), 1 == e.result && this.Connect() } OnPromiseResolved(e) { this.m_promiseLastOperation = null, this.OnUpdated() } } function Nh(e) { return e.some((e => e)) } (0, r.gn)([m.ak], wh.prototype, "OnPairCompleted", null), (0, r.gn)([m.ak], wh.prototype, "OnPromiseResolved", null); class Th { constructor() { var e; this.m_rtLastUpdate = (0, _.vq)(), this.m_bEnabled = (0, _.vq)(!1), this.m_mapAdapters = new Map, this.m_mapDevices = new Map, this.m_bFilterByDeviceType = (0, _.vq)(!0), this.m_rgPresentAdapters = [], this.m_rgPresentDevices = [], this.m_bRequestDiscovery = new Ah.k(Nh, "Whether to enable Bluetooth Discovery mode"), null === (e = SteamClient.System.Bluetooth) || void 0 === e || e.RegisterForStateChanges(this.OnBluetoothStateChange), this.m_bRequestDiscovery.SubscribableValue.Subscribe(this.OnRequestDiscoveryChanged) } get bEnabled() { return this.m_bEnabled } get adapters() { return this.m_rgPresentAdapters } get devices() { return this.m_rgPresentDevices } get rtLastUpdate() { return this.m_rtLastUpdate } get bFilterByDeviceType() { return this.m_bFilterByDeviceType } static Get() { return null == Th.s_Singleton && (Th.s_Singleton = new Th, window.SystemBluetoothStore = Th.s_Singleton), Th.s_Singleton } OnBluetoothStateChange(e) { var t; const n = new Set, a = null !== (t = null == e ? void 0 : e.vecAdapters) && void 0 !== t ? t : []; for (const e of a) this.UpdateOrCreateAdapter(e), n.add(e.nId); for (const e of this.m_rgPresentAdapters) n.has(e.id) || e.MarkAsNotPresent(); const r = new Set; for (const t of e.vecDevices) this.UpdateOrCreateDevice(t), r.add(t.nId); for (const e of this.m_rgPresentDevices) r.has(e.id) || e.MarkAsNotPresent(); this.m_bEnabled.Set(e.bEnabled), this.m_rgPresentAdapters = Array.from(this.m_mapAdapters.values()).filter((e => e.bPresent)), this.m_rgPresentDevices = Array.from(this.m_mapDevices.values()).filter((e => e.bPresent)), this.OnUpdated() } UpdateOrCreateAdapter(e) { this.m_mapAdapters.has(e.nId) ? this.m_mapAdapters.get(e.nId).Update(e) : this.m_mapAdapters.set(e.nId, new kh(e)) } UpdateOrCreateDevice(e) { this.m_mapDevices.has(e.nId) ? this.m_mapDevices.get(e.nId).Update(e) : this.m_mapDevices.set(e.nId, new wh(e)) } IsDiscovering() { for (const e of this.adapters) if (e.bDiscovering) return !0; return !1 } OnRequestDiscoveryChanged(e) { for (const t of this.adapters) t.bEnabled && t.SetDiscovering(e) } OnUpdated() { for (const e of this.adapters) e.bEnabled && e.bDiscovering != this.m_bRequestDiscovery.Value && e.SetDiscovering(this.m_bRequestDiscovery.Value); this.m_rtLastUpdate.Set(Date.now()) } IsBluetoothAvailable() { return null != SteamClient.System.Bluetooth } SetEnabled(e) { var t; null === (t = SteamClient.System.Bluetooth) || void 0 === t || t.SetEnabled(e) } SetFilterByDeviceType(e) { this.m_bFilterByDeviceType.Set(e) } } function xh() { (0, m.e1)(Th.Get().rtLastUpdate) } function Dh() { return xh(), function (...e) { const t = (0, m.NW)(); a.useEffect((() => { const n = e.map((e => e.rtLastUpdate.Subscribe(t))); return () => { n.forEach((e => e.Unsubscribe())) } }), [t, e]) }(...Th.Get().adapters), Th.Get().IsDiscovering() } function Fh() { return [(0, m.e1)(Th.Get().bEnabled), Th.Get().SetEnabled] } function Gh(e) { return null != e.sName && (!(e.sName.length <= 0) && !(Th.Get().bFilterByDeviceType.Value && !e.bPaired && !function (e) { switch (e) { case s.uU.k_BluetoothDeviceType_Headset: case s.uU.k_BluetoothDeviceType_Headphones: case s.uU.k_BluetoothDeviceType_Speakers: case s.uU.k_BluetoothDeviceType_OtherAudio: case s.uU.k_BluetoothDeviceType_Mouse: case s.uU.k_BluetoothDeviceType_Joystick: case s.uU.k_BluetoothDeviceType_Gamepad: case s.uU.k_BluetoothDeviceType_Keyboard: return !0; default: return !1 } }(e.eType))) } function Bh() { const e = (xh(), Th.Get().devices).filter((e => Gh(e))); e.sort(((e, t) => { let n = function (e, t) { const n = e.bConnected; return n == t.bConnected ? 0 : n ? -1 : 1 }(e, t); return 0 == n && (n = function (e, t) { return t.rtFirstSeen - e.rtFirstSeen }(e, t)), n })); return { rgPairedDevices: e.filter((e => e.bPaired)), rgAvailableDevices: e.filter((e => !e.bPaired)) } } function Lh() { return (0, m.e1)(Th.Get().bFilterByDeviceType) } Th.s_Singleton = null, (0, r.gn)([m.ak], Th.prototype, "OnBluetoothStateChange", null), (0, r.gn)([m.ak], Th.prototype, "OnRequestDiscoveryChanged", null), (0, r.gn)([m.ak], Th.prototype, "SetEnabled", null); var Rh = n(90509), Ph = n.n(Rh); function Oh(e) { const [t, n] = Fh(); return a.createElement(i.fp, { padding: e.padding, label: e.label, bottomSeparator: e.bottomSeparator, checked: t, onChange: n, disabled: !Th.Get().IsBluetoothAvailable(), icon: a.createElement(l.$4T, null) }) } function Mh(e) { const t = Lh(); return a.createElement(i.fp, { padding: e.padding, label: e.label, bottomSeparator: e.bottomSeparator, checked: !t, onChange: e => Th.Get().SetFilterByDeviceType(!e) }) } function Hh(e) { if ("SteamController" === (null == e ? void 0 : e.name)) return a.createElement(l.X7U, null); switch (e.type) { case s.uU.k_BluetoothDeviceType_Headset: case s.uU.k_BluetoothDeviceType_Headphones: return a.createElement(l.DfZ, null); case s.uU.k_BluetoothDeviceType_Speakers: case s.uU.k_BluetoothDeviceType_OtherAudio: return a.createElement(l.UkX, null); case s.uU.k_BluetoothDeviceType_Gamepad: return a.createElement(l.X7U, null); case s.uU.k_BluetoothDeviceType_Phone: return a.createElement(l.ij_, null); case s.uU.k_BluetoothDeviceType_Computer: return a.createElement(l.sSl, null); case s.uU.k_BluetoothDeviceType_Mouse: return a.createElement(l.$4T, null); case s.uU.k_BluetoothDeviceType_Joystick: return a.createElement(l.X7U, null); case s.uU.k_BluetoothDeviceType_Keyboard: return a.createElement(l.N1d, null); case s.uU.k_BluetoothDeviceType_Invalid: case s.uU.k_BluetoothDeviceType_Unknown: default: return a.createElement(l.$4T, null) } } function Uh(e) { return a.createElement(_t.xV, { label: e.device.sName }, e.device.bConnected && a.createElement(_t.Zo, { onSelected: () => e.device.Disconnect() }, (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Disconnect")), e.device.bPaired && !e.device.bConnected && a.createElement(_t.Zo, { onSelected: () => e.device.Connect() }, (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Connect")), !e.device.bPaired && a.createElement(_t.Zo, { onSelected: () => e.device.Pair() }, (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Pair")), e.device.bPaired && a.createElement(_t.Zo, { onSelected: () => e.device.UnPair() }, (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Unpair"))) } function Xh(e) { !function (...e) { const t = (0, m.NW)(); a.useEffect((() => { const n = e.map((e => e.rtLastUpdate.Subscribe(t))); return () => { n.forEach((e => e.Unsubscribe())) } }), [t, e, ...e]) }(e.device); const t = e.device.bPaired && !e.device.bConnected; return a.createElement(i.gN, { focusable: !0, disabled: t, onActivate: () => { var t; (t = e.device).bPairing ? t.CancelPairing() : t.bWaitingOnAction || (t.bPaired ? (0, it.yV)(a.createElement(Uh, { device: t }), null) : t.Pair()) }, onMenuButton: () => { (0, it.yV)(a.createElement(Uh, { device: e.device }), null) }, onMenuActionDescription: (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Options"), icon: a.createElement(Hh, { type: e.device.eType, name: e.device.sName }), label: e.device.sName, childrenLayout: "inline", childrenContainerWidth: "min", bottomSeparator: e.bottomSeparator }, t && !e.device.bWaitingOnAction && a.createElement("div", { className: Ph().NotConnectedLabel }, (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Not_Connected")), e.device.bWaitingOnAction && a.createElement(l.$jN, null)) } function Vh(e) { !function () { const e = (0, Ah.B)(Th.Get().m_bRequestDiscovery); a.useEffect((() => (e.Set(!0), () => e.Set(!1))), [e]) }(); const t = Dh(), { rgPairedDevices: n, rgAvailableDevices: r } = Bh(), [o] = Fh(), s = (Lh(), r.length > 0 ? (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Available_To_Pair") : t ? (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Searching") : (0, g.Xx)("#QuickAccess_Tab_Bluetooth_No_Devices_Found")); return a.createElement(i.V5, null, a.createElement(i.Aw, null, a.createElement(Oh, { label: (0, g.Xx)("#QuickAccess_Tab_Bluetooth_ToggleLabel"), bottomSeparator: "none" }), a.createElement(Mh, { label: (0, g.Xx)("#QuickAccess_Tab_Bluetooth_ShowAllDevices"), bottomSeparator: "none" })), n.length > 0 && a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#QuickAccess_Tab_Bluetooth_Paired")), n.map(((e, t) => a.createElement(Xh, { device: e, key: e.id, bottomSeparator: t < n.length ? "standard" : "none" })))), (o || r.length > 0) && a.createElement(i.Aw, null, a.createElement(i.dQ, { className: Ph().Header }, s, t && a.createElement(l.$jN, null)), r.map(((e, t) => a.createElement(Xh, { device: e, key: e.id, bottomSeparator: t < r.length - 1 ? "standard" : "none" }))))) } var Wh = n(57028), Zh = n.n(Wh); function zh(e) { const t = (0, oe.k6)(), n = (0, ce.Um)(); let r = T.hq.ActiveControllerIndex; r < 0 && n.length > 0 && (r = n[0].nControllerIndex); const [s, c] = a.useState(r), [m, u] = a.useState(!1), d = a.useCallback((e => { let t; if (e.detail.button == Ut.eV.BUMPER_LEFT) t = -1; else { if (e.detail.button != Ut.eV.BUMPER_RIGHT) return !1; t = 1 } const a = n.findIndex((e => e.nControllerIndex == s)), r = a + t; return r >= 0 && r < n.length ? (c(n[r].nControllerIndex), x.LT.PlayNavSound(x.qr.ChangeTabs)) : x.LT.PlayNavSound(x.qr.FailedNav), !0 }), [s, n]), p = null == n ? void 0 : n.find((e => e.nControllerIndex == s)); if (a.useEffect((() => { var e, t; (null == n ? void 0 : n.length) > 0 && !p && c(null !== (t = null === (e = n[0]) || void 0 === e ? void 0 : e.nControllerIndex) && void 0 !== t ? t : r) }), [p, n, r]), 0 == (null == n ? void 0 : n.length)) return a.createElement(i.Aw, null, a.createElement(i.gN, { disabled: !0, icon: a.createElement(l.X7U, { none: !0 }), label: (0, g.Xx)("#Settings_Controller_NoControllers") })); const _ = n.length > 1, h = 4 == (null == p ? void 0 : p.eControllerType); return a.createElement(i.Aw, null, _ && a.createElement(eo.UJ, { selectedControllerIndex: s, onControllerSelected: c, showGlyphs: m, wrapAround: !1 }), a.createElement(Y.s, { onFocusWithin: u, onButtonDown: d, retainFocus: !0 }, a.createElement(Yh, { controllerIndex: s }), a.createElement(Jh, { controllerIndex: s }), !1, h && a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Controller_Support"), onClick: () => t.push(o.Z5.GamepadUI.ControllerDeviceSupport(s)), bottomSeparator: "none" }, (0, g.Xx)("#Settings_Controller_Support_Click")), a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Controller_Calibration"), onClick: () => t.push(o.Z5.GamepadUI.ControllerDeviceCalibration.Root(s)), bottomSeparator: "none" }, (0, g.Xx)("#Settings_Controller_Calibration_Click")))) } function qh(e) { return ue.De.IN_GAMEPADUI ? null : a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Controller_GuideButtonFocus"), checked: ie.cS.settings.bGuideButtonFocusEnabled, onChange: e => SteamClient.Settings.SetGuideButtonFocusEnabled(e) }) } function Kh(e) { let t = ie.cS.settings.bUseNintendoSwitchLayout; const n = t ? "/images/controller_nintendo_layout.png" : "/images/controller_standard_layout.png"; return a.createElement("div", { className: Zh().NintendoSwitchLayoutToggle }, a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Controller_SwitchLayout"), checked: t, onChange: e => SteamClient.Settings.SetUseNintendoButtonLayout(e) }), a.createElement("span", { className: Zh().NintendoSwitchLayoutToggleDesc }, (0, g.Xx)("#Settings_Controller_SwitchLayoutDesc")), a.createElement("img", { className: Zh().NintendoButtonLayoutImg, src: n })) } function jh(e) { const { label: t, controllerType: n, children: r } = e, o = 0 != (ie.cS.settings.nEnabledControllerMask & n); return a.createElement(a.Fragment, null, a.createElement(i.gE, { label: t, checked: o, onChange: e => SteamClient.Settings.ToggleControllerTypeEnabled(n) }), o && r) } function Qh(e) { return a.createElement(a.Fragment, null, !ue.De.ON_DECK && a.createElement(jh, { label: (0, g.Xx)("#Settings_Controller_PS4Support"), controllerType: 1 }), !ue.De.ON_DECK && a.createElement(jh, { label: (0, g.Xx)("#Settings_Controller_XboxSupport"), controllerType: 2 }), !ue.De.ON_DECK && a.createElement(jh, { label: (0, g.Xx)("#Settings_Controller_SwitchSupport"), controllerType: 8 }, a.createElement(Kh, null), a.createElement($h, null)), ue.De.ON_DECK && e.bShowNintendoLayoutToggle && a.createElement(Kh, null), ue.De.ON_DECK && e.bShowNintendoLayoutToggle && a.createElement($h, null), !ue.De.ON_DECK && a.createElement(jh, { label: (0, g.Xx)("#Settings_Controller_GenericGamepadSupport"), controllerType: 4 })) } const Yh = (0, Q.Pi)((function (e) { const t = null == e.controllerIndex ? T.hq.MostRecentlyActiveController : ce.tH.Get().GetControllers().find((t => t.nControllerIndex == e.controllerIndex)); return null == t ? null : a.createElement(i.fp, { label: (0, g.Xx)("#QuickAccess_Tab_ControllerSettings_Section_Device_Rumble"), checked: 1 == t.eRumblePreference, onChange: e => SteamClient.Input.SetControllerRumbleSetting(t.nControllerIndex, e), icon: a.createElement(l.CtA, { controllerType: t.eControllerType, className: Zh().Rumble }) }) })), Jh = (0, Q.Pi)((function (e) { const t = null == e.controllerIndex ? T.hq.MostRecentlyActiveController : ce.tH.Get().GetControllers().find((t => t.nControllerIndex == e.controllerIndex)); return null == t || 0 == (8192 & t.unCapabilities) ? null : a.createElement(i.fp, { label: (0, g.Xx)("#QuickAccess_Tab_ControllerSettings_Section_Device_Haptics"), checked: t.bHaptics, onChange: e => SteamClient.Input.SetControllerHapticSetting(t.nControllerIndex, e), icon: a.createElement(l.ejF, null) }) })), $h = (0, Q.Pi)((function (e) { var t, n; const r = null == e.controllerIndex ? T.hq.MostRecentlyActiveController : ce.tH.Get().GetControllers().find((t => t.nControllerIndex == e.controllerIndex)); return null != r && (0, Yg.l5)(r.eControllerType) && null != (null === (t = null === ie.cS || void 0 === ie.cS ? void 0 : ie.cS.settings) || void 0 === t ? void 0 : t.bNintendoJoyconCombined) ? a.createElement(i.fp, { label: (0, g.Xx)("#QuickAccess_Tab_ControllerSettings_Section_CombinedJoycon"), checked: null === (n = ie.cS.settings) || void 0 === n ? void 0 : n.bNintendoJoyconCombined, onChange: e => SteamClient.Settings.SetJoyconCombinedMode(e), icon: e.bShowIcon && a.createElement(l.CtA, { controllerType: ie.cS.settings.bNintendoJoyconCombined ? 41 : 39 }) }) : null })), ev = (0, Q.Pi)((function (e) { (0, ce.Qk)(); const t = null != ce.tH.Get().GetControllers().find((e => (0, Yg.DA)(e.eControllerType))); return a.createElement(i.uT, null, a.createElement(zh, null), a.createElement(i.Aw, null, (t || !ue.De.ON_DECK) && a.createElement(a.Fragment, null, a.createElement(i.bU, null, (0, g.Xx)("#Settings_ExternalController_Settings")), a.createElement(qh, null), a.createElement(Qh, { bShowNintendoLayoutToggle: t })))) })); class tv { constructor() { SteamClient.System.Devkit.RegisterForPairingPrompt(this.OnPairingPrompt) } static Get() { return null == tv.s_Singleton && (tv.s_Singleton = new tv, window.SystemDevkitStore = tv.s_Singleton), tv.s_Singleton } RegisterPairingFunction(e) { this.m_fnShowDevkitPairingConfirmation = e } OnPairingPrompt(e) { return this.m_fnShowDevkitPairingConfirmation(e), !1 } RespondToPairingPrompt(e, t) { SteamClient.System.Devkit.RespondToPairingPrompt(e, t) } SetPairing(e) { SteamClient.System.Devkit.SetPairing(e) } } tv.s_Singleton = null, (0, r.gn)([m.ak], tv.prototype, "OnPairingPrompt", null); var nv = n(39023), av = n(70538); class rv { constructor() { var e; this.m_msgState = {}, null === (e = SteamClient.System.AudioDevices) || void 0 === e || e.RegisterForStateChanges(this.OnStateChanged) } static Get() { return null == rv.s_Singleton && (rv.s_Singleton = new rv, window.SystemAudioDevicesStore = rv.s_Singleton), rv.s_Singleton } get msgState() { return this.m_msgState } OnStateChanged(e) { const t = av.lQ.deserializeBinary(e).toObject(); Object.keys(t).forEach((e => this.m_msgState[e] = t[e])) } SetCounter(e) { var t; let n = new av.zk; n.set_counter(Math.round(e)), null === (t = SteamClient.System.AudioDevices) || void 0 === t || t.UpdateSomething(n.serializeBase64String()) } RunSpeakerTest() { var e; let t = new av.zk; t.set_counter(0), null === (e = SteamClient.System.AudioDevices) || void 0 === e || e.UpdateSomething(t.serializeBase64String()) } } function ov() { return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Developer_SpeakerTest"), onClick: rv.Get().RunSpeakerTest }, (0, g.Xx)("#Settings_Developer_SpeakerTest_Start")) } rv.s_Singleton = null, (0, r.gn)([u.LO], rv.prototype, "m_msgState", void 0), (0, r.gn)([u.aD.bound], rv.prototype, "OnStateChanged", null), (0, r.gn)([m.ak], rv.prototype, "SetCounter", null), (0, r.gn)([m.ak], rv.prototype, "RunSpeakerTest", null); var iv = n(99565); function lv() { const [e, t] = (0, nv.Cp)(); return a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Tracing"), description: (0, g.Xx)("#Settings_Tracing_Description"), checked: t, onChange: e => { nv.KU.Get().SetSystemTracingEnabled(e) }, disabled: !e }) } function sv() { const [e, t] = (0, nv.ql)(); return a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Profiling"), description: (0, g.Xx)("#Settings_Profiling_Description"), checked: t, onChange: e => { nv.KU.Get().SetGraphicsProfilingEnabled(e) }, disabled: !e }) } function cv(e) { return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Profiling_Title")), a.createElement(lv, null), a.createElement(sv, null)) } function mv(e) { const [t, n] = a.useState(!1), r = a.useCallback((e => { (0, _e.AM)(a.createElement(de.uH, { strTitle: (0, g.Xx)("#Settings_System_Devkit_Pairing_Confirmation"), strDescription: e, onOK: () => tv.Get().RespondToPairingPrompt(1, "access granted"), onCancel: () => tv.Get().RespondToPairingPrompt(15, "access denied") }), window) }), []); return a.useEffect((() => (tv.Get().RegisterPairingFunction(r), () => { t && tv.Get().SetPairing(!1) }))), a.createElement(i.sT, { label: (0, g.Xx)("#Settings_System_Devkit_PairingLabel"), onClick: () => { let e = !t; tv.Get().SetPairing(e), n(e) } }, t ? (0, g.Xx)("#Settings_System_Devkit_Pairing") : (0, g.Xx)("#Settings_System_Devkit_DoPairing")) } function uv(e) { return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_Devkit")), a.createElement(mv, null)) } function dv() { var e; const [t, n] = a.useState(null !== (e = ie.cS.settings.bSteamInputErrorMsgEnabled) && void 0 !== e && e); return a.createElement(i.fp, { label: (0, g.Xx)("#Settings_Developer_SteamInputDev"), description: (0, g.Xx)("#Settings_Developer_SteamInputDev_Desc"), checked: t, onChange: e => { n(e), SteamClient.Settings.SetSteamInputErrorMsgEnabled(e) } }) } function pv(e) { return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_System_SteamInput")), a.createElement(dv, null)) } function _v() { var e; const [t, n] = a.useState(null !== (e = ie.cS.settings.bForceOOBE) && void 0 !== e && e); return a.createElement(i.fp, { label: (0, g.Xx)("#Settings_ForceOOBE"), description: (0, g.Xx)("#Settings_ForceOOBE_Description"), checked: t, onChange: e => { n(e), SteamClient.Settings.SetForceOOBE(e) } }) } function gv() { const [e, t] = (0, T.Hv)(); return a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Developer_ShowAdvancedOSBranches"), checked: e, onChange: t }) } function hv() { (0, _e.AM)(a.createElement(de.uH, { strTitle: (0, g.Xx)("#Modal_ConfirmSteamRestart_Title"), strOKButtonText: (0, g.Xx)("#Modal_ConfirmSteamRestart_RestartNow"), strCancelButtonText: (0, g.Xx)("#Modal_ConfirmSteamRestart_RestartLater"), onOK: () => { SteamClient.User.StartRestart() } }), window) } function vv() { const e = (0, ie.rV)(); return a.createElement(i.gE, { label: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Shortcuts_GLComposer"), checked: 1 == (null == e ? void 0 : e.eBrowserComposerMode), onChange: e => { SteamClient.Settings.SetBrowserComposerMode(e ? 1 : 0), hv() } }) } function Sv() { const e = (0, ie.rV)(); return a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Developer_CefRemoteDebugging"), description: (0, g.Xx)("#Settings_Developer_CefRemoteDebugging_Desc"), checked: null == e ? void 0 : e.bCefRemoteDebuggingEnabled, onChange: e => { SteamClient.Settings.SetCefRemoteDebuggingEnabled(e), hv() } }) } function Ev(e) { var t; const n = (0, ie.rV)(), r = n.bCompatEnabled, o = n.strCompatTool, [l, s] = a.useState(r && 0 != (null == o ? void 0 : o.length)), c = (0, m.fJ)((() => SteamClient.Settings.GetGlobalCompatTools()), []), u = null !== (t = null == c ? void 0 : c.map((e => ({ label: e.strDisplayName, data: e.strToolName })))) && void 0 !== t ? t : [], d = a.useRef(), p = a.useCallback((e => { SteamClient.Settings.SpecifyGlobalCompatTool(e) }), []), _ = a.useCallback((e => { Hn({ strDescription: (0, g.Xx)("#Settings_SteamPlay_NeedsRestart"), fnOnOK: () => { p(e) } }) }), [p]), h = a.useCallback((() => { let e = a.createElement(_t.xV, { label: (0, g.Xx)("#Settings_SteamPlay_ChooseTool") }, c.map((e => a.createElement(_t.Zo, { key: e.strToolName, onSelected: () => _(e.strToolName) }, e.strDisplayName)))); (0, it.yV)(e, null) }), [c, _]), v = a.useCallback((e => { e ? h() : _("") }), [h, _]); return a.createElement(i.Aw, null, a.createElement(i.bU, null, (0, g.Xx)("#Settings_SteamPlay_SteamPlay")), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_SteamPlay_Enable"), description: (0, g.Xx)("#Settings_SteamPlay_Enable_Desc"), controlled: !0, checked: r, onChange: e => SteamClient.Settings.SetSteamPlayEnabled(e) }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_SteamPlay_EnableForOtherTitles"), description: (0, g.Xx)("#Settings_SteamPlay_EnableForOtherTitles_Desc"), controlled: !0, disabled: !r, checked: r && l, onChange: e => v(e) }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_SteamPlay_RunOtherTitlesWith"), dropDownControlRef: d, rgOptions: u, disabled: !r || !l || 0 == u.length, selectedOption: o, onChange: e => _(e.data) })) } function bv(e) { return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Developer_ClearGameLaunchInterstitialsSeen"), onClick: () => { Object.values(mr.v).forEach((e => { mr.B.ClearInterstitialVersionSeen(e) })) } }, (0, g.Xx)("#Settings_Developer_ClearGameLaunchInterstitialsSeenButton")) } function Cv(e) { return a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_Miscellaneous_Title")), a.createElement(Io, null), a.createElement(iv.Zp, null), a.createElement(ov, null), a.createElement(vv, null), a.createElement(Sv, null), a.createElement(_v, null), a.createElement(gv, null), a.createElement(wo, { bForceFormat: !0, strLabel: (0, g.Xx)("#Settings_System_ForceFormatSD_Label") }), a.createElement(bv, null)) } function yv(e) { return a.createElement(i.uT, null, a.createElement(cv, null), a.createElement(uv, null), a.createElement(Ev, null), a.createElement(Cv, null), a.createElement(pv, null)) } var fv = n(46278), Av = n.n(fv), Iv = n(98924), kv = n(69510); function wv() { const e = (0, kv.Yv)(), [t] = Rv(); return e || t } function Nv(e = !1) { var t; const n = (0, kv.Yv)(), a = e ? null : (0, g.Xx)("#Settings_Display_ExternalDisplay"); let r = (0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.strDisplayName })); return null != r && 0 != r.length || (r = a), r = null === (t = null == r ? void 0 : r.replace("Internal: ", "")) || void 0 === t ? void 0 : t.replace("External: ", ""), (null == r ? void 0 : r.toLowerCase().startsWith("xwayland")) && (r = a), n ? null != r ? r : (0, g.Xx)("#Settings_Display_ExternalDisplay_DefaultName") : (0, g.Xx)("#SteamDeckName") } function Tv() { const e = Nv(!0); return null == e ? (0, g.Xx)("#Settings_Display_DisplayScaling_Scaling") : (0, g.Xx)("#Settings_Display_DisplayScaling_ScalingForTVName", e) } function xv(e) { const t = (0, d.SZ)((() => { var e, t; return null !== (t = null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flCurrentUnderscanLevel) && void 0 !== t ? t : 0 })), n = (0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bUnderscanEnabled })), [r, o] = a.useState(t); a.useEffect((() => o(t)), [t]); const l = e => 1 - (e - 0) + 0, s = l(0), c = [{ notchIndex: 0, label: (0, g.Xx)("#Settings_Display_Underscan_Notch_Smaller") }, { notchIndex: 1, label: (0, g.Xx)("#Settings_Display_Underscan_Notch_Larger") }]; if (!n) return null; const m = l(r); return a.createElement(i.z2, { disabled: !n, layout: "below", value: m, min: 0, max: 1, step: .04, resetValue: s, onChange: (e, t) => { const n = l(e); 2 != t && 4 != t || SteamClient.System.Display.SetUnderscanLevel(n), o(n) }, onChangeComplete: (e, t) => { const n = l(e); 2 != t && 4 != t && SteamClient.System.Display.SetUnderscanLevel(n) }, notchCount: 2, notchLabels: c, notchTicksVisible: !1 }) } function Dv(e) { const t = !(0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bUnderscanEnabled })); let n = e.bottomSeparator; return "auto" == n && (n = t ? "standard" : "none"), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Display_Underscan_Auto"), checked: t, onChange: e => { SteamClient.System.Display.EnableUnderscan(!e) }, bottomSeparator: n }) } function Fv(e) { const t = (0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bDisplayIsUsingAutoScale })), n = (0, d.SZ)((() => { var e, t; return null !== (t = null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flCurrentDisplayScaleFactor) && void 0 !== t ? t : 1.5 })), [r, o] = a.useState(n); a.useEffect((() => o(n)), [n]); const l = (0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flAutoDisplayScaleFactor })), s = (0, d.SZ)((() => { var e, t; return null !== (t = null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flMinDisplayScaleFactor) && void 0 !== t ? t : .5 })), c = (0, d.SZ)((() => { var e, t; return null !== (t = null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flMaxDisplayScaleFactor) && void 0 !== t ? t : 2.5 })), m = (c - s) / 10, u = [{ notchIndex: 0, label: (0, g.Xx)("#Settings_Display_DisplayScaling_MoreContent") }, { notchIndex: 1, label: (0, g.Xx)(ue.De.ON_DECK ? "#Settings_Display_DisplayScaling_LargerText_SteamDeck" : "#Settings_Display_DisplayScaling_LargerText") }]; return t ? null : a.createElement(i.z2, { layout: "below", value: r, min: s, max: c, step: m, resetValue: l, onChange: (e, t) => { 2 != t && 4 != t || SteamClient.Window.SetManualDisplayScaleFactor(e), o(e) }, onChangeComplete: (e, t) => { 2 != t && 4 != t && SteamClient.Window.SetManualDisplayScaleFactor(e) }, notchCount: 2, notchLabels: u, notchTicksVisible: !1 }) } function Gv(e) { const t = (0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bDisplayIsUsingAutoScale })), n = void 0 === t, r = e.concise ? (0, g.Xx)("#Settings_Display_DisplayScaling_Automatically_Scale_UI_Concise") : (0, g.Xx)("#Settings_Display_DisplayScaling_Automatically_Scale_UI_Verbose"); let o = e.bottomSeparator; return "auto" == o && (o = t ? "standard" : "none"), a.createElement(i.gE, { disabled: n, label: r, checked: t, onChange: e => { SteamClient.Window.SetAutoDisplayScale(e) }, bottomSeparator: o }) } function Bv(e) { const t = Nv(!0), n = null != t ? (0, g.Xx)("#Settings_Display_DisplayScaling_ChooseScalingForTVName", t) : (0, g.Xx)("#Settings_Display_DisplayScaling_ChooseScaling"), r = (0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bDisplayIsUsingAutoScale })), o = (0, d.SZ)((() => { var e; return !(null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bUnderscanEnabled) })), l = !r || !o, s = a.useMemo((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flCurrentDisplayScaleFactor }), []), c = a.useMemo((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bDisplayIsUsingAutoScale }), []), m = a.useMemo((() => { var e, t; return null !== (t = null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.flCurrentUnderscanLevel) && void 0 !== t ? t : 0 }), []), u = a.useMemo((() => { var e; return !(null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bUnderscanEnabled) }), []), p = () => (c ? SteamClient.Window.SetAutoDisplayScale(!0) : SteamClient.Window.SetManualDisplayScaleFactor(s), SteamClient.System.Display.EnableUnderscan(!u), u || SteamClient.System.Display.SetUnderscanLevel(m), e.closeModal && e.closeModal(), !0); return a.createElement(de.RG, { closeModal: p, onCancel: p, className: Av().Dialog }, a.createElement(i.h4, null, n), a.createElement(i.uT, null, a.createElement(Gv, { bottomSeparator: "auto" }), a.createElement(Fv, null), l && a.createElement("div", { className: Av().SectionSeparator }), a.createElement(Dv, { bottomSeparator: "auto" }), a.createElement(xv, null), a.createElement("div", { className: Av().YouCanChangeThisLater }, a.createElement("span", null, (0, g.kQ)("#Settings_Display_DisplayScaling_YouCanChangeThisIn_Section", a.createElement("strong", null, (0, g.Xx)("#MainTabsSettings")), a.createElement("strong", null, (0, g.Xx)("#Settings_Page_Display")))))), a.createElement(i.$_, null, a.createElement(i.o9, { onOK: e.closeModal, onCancel: p }))) } class Lv { constructor() { this.m_DisplayScalingDevSettings = void 0, this.m_bAllowInternalDisplayScaling = void 0, this.m_DisplayScalingDevSettings = new Iv.Z, this.Load().then((() => (0, u.EH)(this.Save))) } static Get() { return null == Lv.s_Singleton && (Lv.s_Singleton = new Lv), Lv.s_Singleton } Load() { return (0, r.mG)(this, void 0, void 0, (function* () { this.m_bAllowInternalDisplayScaling = yield this.m_DisplayScalingDevSettings.GetObject(Lv.k_strAllowInternalDisplayScaling_StorageKey) })) } Save() { return (0, r.mG)(this, void 0, void 0, (function* () { yield this.m_DisplayScalingDevSettings.StoreObject(Lv.k_strAllowInternalDisplayScaling_StorageKey, this.m_bAllowInternalDisplayScaling) })) } } function Rv() { return [(0, d.SZ)((() => Lv.Get().m_bAllowInternalDisplayScaling)), e => { Lv.Get().m_bAllowInternalDisplayScaling = e }] } Lv.s_Singleton = void 0, Lv.k_strAllowInternalDisplayScaling_StorageKey = "AllowInternalDisplayScaling", (0, r.gn)([u.LO], Lv.prototype, "m_bAllowInternalDisplayScaling", void 0), (0, r.gn)([m.ak], Lv.prototype, "Save", null); var Pv = n(72084), Ov = n.n(Pv), Mv = n(38645); function Hv(e) { const { displayId: t, previousModeId: n, closeModal: r } = e, o = a.useCallback((() => { kv.OE.Get().SetMode(t, n) }), [t, n]), i = a.useCallback((() => { o(), r && r() }), [o, r]), { fnStopTimer: l } = (0, m.J7)(15e3, i), [s, c] = a.useState(15); (0, m.Yz)((() => { c(s - 1) }), 1e3); const u = a.useCallback((() => { l(), o() }), [l, o]), d = a.useCallback((() => { l() }), [l]); return a.createElement(de.uH, { strTitle: (0, g.Xx)("#Settings_Display_Resolution_ConfirmChange_Title"), strDescription: (0, g.Xx)("#Settings_Display_Resolution_ConfirmChange_Body", (0, Mv.Lh)(s, 0, 15)), strOKButtonText: (0, g.Xx)("#Settings_Display_Resolution_ConfirmChange_Revert"), onOK: u, strCancelButtonText: (0, g.Xx)("#Settings_Display_Resolution_ConfirmChange_Accept"), onCancel: d, closeModal: r }) } function Uv(e) { var t, n; const o = (0, kv.m$)(), l = (0, kv.dK)(), s = a.useMemo((() => { var e, t; return null !== (t = null === (e = l.data) || void 0 === e ? void 0 : e.modes) && void 0 !== t ? t : [] }), [l]), c = void 0 === (null === (t = l.data) || void 0 === t ? void 0 : t.has_mode_override), m = !1 === (null === (n = l.data) || void 0 === n ? void 0 : n.has_mode_override), u = (0, g.Xx)("#Settings_Display_Resolution_Auto_Resolution"); let d = e.bottomSeparator; "auto" == d && (d = m ? "standard" : "none"); const p = function () { const e = a.useRef(), t = a.useCallback((() => { if (e.current) { const t = (0, gt.Et)(e.current); t && (t.scrollTop = 0) } }), []); return a.useEffect((() => { const e = new ResizeObserver(t); return e.observe(document.body), () => e.disconnect() }), [t]), e }(); return l.data ? !0 !== o.data ? null : a.createElement(a.Fragment, null, a.createElement(i.gE, { disabled: c, label: u, checked: m, onChange: e => (0, r.mG)(this, void 0, void 0, (function* () { var t, n; yield kv.OE.Get().SetMode(null === (t = l.data) || void 0 === t ? void 0 : t.id, s[0].id), e && kv.OE.Get().ClearModeOverride(null === (n = l.data) || void 0 === n ? void 0 : n.id) })), bottomSeparator: d }), a.createElement("div", { ref: p, style: { visibility: "hidden" } })) : null } function Xv() { const e = (0, kv.m$)(), t = (0, kv.dK)(), n = a.useMemo((() => { var e, n; return null !== (n = null === (e = t.data) || void 0 === e ? void 0 : e.modes) && void 0 !== n ? n : [] }), [t]), o = n.find((e => e.id === t.data.current_mode_id)), l = a.useMemo((() => [...n.map((e => ({ data: e, label: `${e.width}x${e.height}@${e.refresh_hz}` })))]), [n]), s = a.useCallback((e => (0, r.mG)(this, void 0, void 0, (function* () { var n, r, i; const l = null == o ? void 0 : o.id; yield kv.OE.Get().SetMode(null === (n = null == t ? void 0 : t.data) || void 0 === n ? void 0 : n.id, null === (r = null == e ? void 0 : e.data) || void 0 === r ? void 0 : r.id), (0, _e.AM)(a.createElement(Hv, { displayId: null === (i = null == t ? void 0 : t.data) || void 0 === i ? void 0 : i.id, previousModeId: l }), window) }))), [t, o]); return t.data ? !0 !== e.data ? null : t.data.has_mode_override ? a.createElement(i.gB, { label: (0, g.Xx)("#Settings_Display_Resolution"), rgOptions: l, selectedOption: o, onChange: s }) : null : null } function Vv() { const e = (0, co.Xp)(); return a.createElement(i.fp, { checked: e, onChange: e => co.Mj.Get().SetNightModeEnabled(e), label: (0, g.Xx)("#Settings_Display_NightMode"), description: (0, g.Xx)("#Settings_Display_NightMode_Desc") }) } function Wv(e) { const [t, n] = (0, co.O$)(), [r, o] = (0, m.rA)(t, n, 1e3), l = a.useMemo((() => [{ notchIndex: 0, label: (0, g.Xx)("#Settings_Display_NightModeColor_Cool") }, { notchIndex: 1, label: (0, g.Xx)("#Settings_Display_NightModeColor_Warm") }]), []); return a.createElement(i.z2, { layout: "inline", bottomSeparator: e.bottomSeparator, label: (0, g.Xx)("#Settings_Display_NightModeColor"), value: r, onChange: o, min: .1, max: 1, step: 0, notchCount: 2, notchLabels: l, notchTicksVisible: !1 }) } function Zv() { const e = (0, co.TX)(); return a.createElement(i.z2, { layout: "inline", label: (0, g.Xx)("#Settings_Display_NightModeDominantHue"), value: e, onChange: e => co.Mj.Get().SetNightModeMaxHue(e), min: 0, max: 60, step: 0 }) } function zv() { const e = (0, co.sP)(); return a.createElement(i.z2, { layout: "inline", label: (0, g.Xx)("#Settings_Display_NightModePeakSaturation"), value: e, onChange: e => co.Mj.Get().SetNightModeMaxSat(e), min: .5, max: 1, step: 0 }) } function qv() { const e = (0, co.ER)(); return a.createElement(i.z2, { layout: "inline", label: (0, g.Xx)("#Settings_Display_NightModeShadowSaturation"), value: e, onChange: e => co.Mj.Get().SetNightModeBlend(e), min: -1, max: 1, step: 0 }) } function Kv() { const [e, t, n] = (0, co.mH)(), r = (0, ie.rV)().vecNightModeScheduledHours.map((e => ({ data: e.nHour, label: e.strDisplay }))); return a.createElement(a.Fragment, null, a.createElement(i.fp, { checked: e, onChange: e => co.Mj.Get().SetNightModeScheduleEnabled(e), label: (0, g.Xx)("#Settings_Display_ScheduleNightMode") }), a.createElement(i.gN, { label: (0, g.Xx)("#Settings_Display_AutoEnableBetween"), childrenLayout: "inline", childrenContainerWidth: "fixed" }, a.createElement(Y.s, { className: Ov().TimeRangeControls }, a.createElement(i.TW, { disabled: !e, rgOptions: r, selectedOption: Math.floor(t), onChange: (e, t) => { co.Mj.Get().SetNightModeScheduleStartTime(e.data) } }), a.createElement("div", { className: Ov().And }, (0, g.Xx)("#Settings_Display_AutoEnableBetween_And")), a.createElement(i.TW, { disabled: !e, rgOptions: r, selectedOption: Math.floor(n), onChange: (e, t) => { co.Mj.Get().SetNightModeScheduleEndTime(e.data) } })))) } function jv() { const e = (0, co.LM)(); return a.createElement(a.Fragment, null, a.createElement(i.Aw, null, a.createElement(i.dQ, null, " ", (0, g.Xx)("#Settings_Display_NightModeSection"), " "), a.createElement(Kv, null), a.createElement(Vv, null), a.createElement(Wv, { bottomSeparator: e ? "standard" : "none" }), e && a.createElement(a.Fragment, null, a.createElement(Zv, null), a.createElement(zv, null), a.createElement(qv, null), a.createElement(i.gN, { bottomSeparator: "none", childrenLayout: "below", childrenContainerWidth: "fixed" }, a.createElement("img", { style: { width: "100%", imageRendering: "pixelated" }, src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAALCAYAAAC3SYXQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpCRjAzN0Y1RDU5ODhFQzExOTg2MEQwRjhBQkYyQ0M4OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRUYzRjlBMzg4NUYxMUVDQkU3RUFCNjgyMTIyOUFGNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRUYzRjlBMjg4NUYxMUVDQkU3RUFCNjgyMTIyOUFGNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMDAzN0Y1RDU5ODhFQzExOTg2MEQwRjhBQkYyQ0M4OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCRDAzN0Y1RDU5ODhFQzExOTg2MEQwRjhBQkYyQ0M4OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Phx76n8AAAFNSURBVHja7JjdksMgCIXB66SvvJMnPxv8yRJWpV50a3fkoojB7xCHmEyZiEAN2/aduAQAgTnG+7alcZnLXubluowlX4wz5xP44rfH48YuWntD45pX/KgttZ4xznntZd6yb5w/5gfqGKsxVFzG1ts86nXXhHx01ng2kjtTfvAxejthxtbbPHLKmI3PnTWejeTOkx88CPI+MuOK5fc8cCo+JQMc9fmJZ3QuvmX7T1KNn+J0+lqv67Za7+AH9xhRO3CLKx5azMYfwI+7aBsq6zRbrMFvvl4a9/EuvvsNAM4bAv6Jo8Jvz8gdmtdc8dR8fWAartJpNlmNXxilZuVn4wf3TZIXe8K2gFvx0/H1yZEaoWjYXE+nt6Z2D/PxMfJhsey/2WqA1QCrAVYDvFqEj0GRr6Fs+ROsde1gxuuUo3hVm48x3VFhdL/tn7dvAQYA7D+tEgev8ZYAAAAASUVORK5CYII=" }))), a.createElement(i.aV, { childrenLayout: "inline", bottomSeparator: "none" }, e && a.createElement(i.zx, { onClick: co.Mj.Get().ResetNightMode }, (0, g.Xx)("#Settings_Display_NightModeReset")), a.createElement(i.zx, { onClick: () => co.Mj.Get().SetNightModeAdvancedView(!e) }, e ? (0, g.Xx)("#Common_Basic_View") : (0, g.Xx)("#Common_Advanced_View"))))) } function Qv() { const e = Tv(); return wv() ? a.createElement(i.Aw, null, a.createElement(i.dQ, null, e), a.createElement(Uv, { bottomSeparator: "auto" }), a.createElement(Xv, null), a.createElement(Gv, { bottomSeparator: "auto" }), a.createElement(Fv, null), a.createElement(Dv, { bottomSeparator: "auto" }), a.createElement(xv, null)) : null } function Yv(e) { const [t, n] = (0, T.oA)(); return a.createElement(i.uT, null, a.createElement(vo, null), a.createElement(So, null), a.createElement(To, null), !1, a.createElement(Qv, null), a.createElement(jv, null), a.createElement(i.Aw, null, a.createElement(i.dQ, null, " ", (0, g.Xx)("#Settings_System_Idle_Dim")), a.createElement(bo, { bOnAC: !0 }), a.createElement(bo, { bOnAC: !1 }), a.createElement(i.dQ, null, " ", (0, g.Xx)("#Settings_System_Idle_Sleep")), a.createElement(Co, { bOnAC: !0 }), a.createElement(Co, { bOnAC: !1 })), !1) } var Jv = n(1565), $v = n.n(Jv); const eS = () => { const e = (0, ie.rV)(), t = e.nDownloadRegionActiveCellID, n = e.vecValidDownloadRegions.map((e => ({ data: e.nRegionID, label: e.strRegionName }))); return a.createElement(i.gB, { label: (0, g.Xx)("#DownloadSettings_SelectRegion"), rgOptions: n, selectedOption: t, onChange: (e, t) => { SteamClient.Settings.SetDownloadRegion(e.data), Hn({ strCancelButtonText: (0, g.Xx)("#Settings_RestartLater_ButtonText") }) }, layout: "inline" }) }, tS = () => { const e = (0, ie.rV)(), [t, n] = a.useState(e.nDownloadThrottleRateValue), r = (0, u.aD)((e => { const t = Number(e.target.value); isNaN(t) || n(t) })); return a.createElement(i.gN, { label: (0, g.Xx)("#DownloadSettings_BandwidthLimit"), focusable: !ue.De.IN_GAMEPADUI }, a.createElement("div", { className: $v().BandwidthInputWrapper }, a.createElement(i.II, { className: $v().BandwidthInput, type: "numeric", value: t, onChange: r, onBlur: n => { t != e.nDownloadThrottleRateValue && SteamClient.Settings.SetDownloadThrottleRate(t) }, inlineControls: a.createElement("div", null, (0, g.Xx)("#Kilobits_PerSecond", "")) }))) }, nS = () => { const e = (0, ie.rV)(), t = e.vecValidAutoUpdateRestrictHours.map((e => ({ data: e.nHour, label: e.strDisplay }))); return a.createElement(a.Fragment, null, a.createElement(i.gE, { checked: e.bRestrictAutoUpdateTimes, label: (0, g.Xx)("#DownloadSettings_ScheduleAutoUpdates"), onChange: e => { SteamClient.Settings.SetRestrictAutoUpdateTimes(e) } }), a.createElement(i.gN, { label: (0, g.Xx)("#DownloadSettings_RestrictUpdatesFrom"), childrenLayout: "inline", childrenContainerWidth: "fixed" }, a.createElement(Y.s, { className: $v().TimeRangeControls }, a.createElement(i.TW, { disabled: !e.bRestrictAutoUpdateTimes, rgOptions: t, selectedOption: e.nRestrictAutoUpdateStartTime, onChange: (e, t) => { SteamClient.Settings.SetRestrictAutoUpdateStartTime(e.data) } }), a.createElement("div", { className: $v().And }, (0, g.Xx)("#DownloadSettings_RestrictUpdatesTo")), a.createElement(i.TW, { disabled: !e.bRestrictAutoUpdateTimes, rgOptions: t, selectedOption: e.nRestrictAutoUpdateEndTime, onChange: (e, t) => { SteamClient.Settings.SetRestrictAutoUpdateEndTime(e.data) } })))) }, aS = () => { const e = (0, ie.rV)(); return a.createElement(i.gE, { checked: e.bAllowDownloadsWhileAnyAppRunning, label: (0, g.Xx)("#DownloadSettings_AllowDownloadDuringGameplay"), description: (0, g.Xx)("#DownloadSettings_AllowDownloadDuringGameplay_Description"), onChange: e => { SteamClient.Settings.SetAllowDownloadsWhileAnyAppRunning(e) } }) }, rS = () => { const e = (0, ie.rV)(); return a.createElement(i.gE, { checked: e.bThrottleDownloadsWhileStreaming, label: (0, g.Xx)("#DownloadSettings_ThrottleDuringStreaming"), description: (0, g.Xx)("#DownloadSettings_ThrottleDuringStreaming_Description"), onChange: e => { SteamClient.Settings.SetThrottleDownloadsWhileStreaming(e) } }) }, oS = e => { const t = (0, ie.rV)(); return a.createElement(i.fp, { bottomSeparator: e.bottomSeparator, checked: t.bDisplayDownloadRateInBitsPerSec, label: (0, g.Xx)("#DownloadSetings_DisplayInBitsPerSecond"), onChange: e => { SteamClient.Settings.SetDisplayDownloadRateInBitsPerSec(e) } }) }; function iS(e) { return a.createElement(i.uT, null, a.createElement(eS, null), a.createElement(tS, null), a.createElement(nS, null), a.createElement(aS, null), a.createElement(rS, null), a.createElement(oS, { bottomSeparator: "none" })) } const lS = () => { const e = (0, ie.rV)(); return a.createElement(i.gE, { checked: e.bCloudEnabled, label: (0, g.Xx)("#CloudSettings_CloudEnabled"), description: (0, g.Xx)("#CloudSettings_CloudEnabled_Description"), onChange: e => { SteamClient.Settings.SetCloudEnabled(e) } }) }, sS = () => { const e = (0, ie.rV)(); return a.createElement(i.gE, { checked: e.bCheckScreenshotsEnabled, label: (0, g.Xx)("#CloudSettings_ShowScreenshotManager"), description: (0, g.Xx)("#CloudSettings_ShowScreenshotManager_Description"), onChange: e => { SteamClient.Settings.SetCheckScreenshotsEnabled(e) } }) }; function cS(e) { return a.createElement(i.uT, null, a.createElement(lS, null), a.createElement(sS, null)) } var mS = n(75006), uS = n.n(mS); const dS = () => a.createElement(i.Aw, null, a.createElement(i.bU, null, (0, g.Xx)("#FamilySettings_Header")), a.createElement(i.gN, { description: (0, g.Xx)("#FamilySettings_Description"), bottomSeparator: "none" })), pS = e => { const { bIsDeviceAuthorizedForFamilySharing: t } = e.settings, n = a.useRef(); return a.createElement(i.gE, { ref: n, checked: t, label: (0, g.Xx)("#FamilySettings_AuthorizeLocalDevice"), onChange: e => { e ? SteamClient.FamilySharing.AuthorizeLocalDevice().then((t => { if (1 != t) { let r; switch (t) { case 18: r = (0, g.Xx)("#FamilySettings_SteamGuardRequired", t); break; case 25: r = (0, g.Xx)("#FamilySettings_LimitExceeded", t); break; default: (0, g.Xx)("#FamilySettings_FailedToAuthorize", t) }(0, _e.AM)(a.createElement(de.JX, { strTitle: (0, g.Xx)("#Error_Generic"), strDescription: r }), window, { strTitle: (0, g.Xx)("#Error_Generic"), bForcePopOut: !0 }), n.current.SetChecked(!e, !1) } })) : SteamClient.FamilySharing.DeauthorizeLocalDevice().then((t => { 1 != t && ((0, _e.AM)(a.createElement(de.JX, { strTitle: (0, g.Xx)("#Error_Generic"), strDescription: (0, g.Xx)("#FamilySettings_FailedToDeauthorize", t) }), window, { strTitle: (0, g.Xx)("#Error_Generic"), bForcePopOut: !0 }), n.current.SetChecked(!e, !1)) })) } }) }, _S = () => { const e = (0, o.BN)(q.de.ResolveURL("FamilySharing")); return a.createElement(i.sT, { label: (0, g.Xx)("#FamilySettings_ManageDevices"), onClick: e }, (0, g.Xx)("#FamilySettings_Manage_ButtonText")) }, gS = (0, Q.Pi)((e => { const t = K.i8.GetFriendState(e.user.nAccountID), n = a.useRef(); if (!t.displayName) return null; return a.createElement(i.gE, { ref: n, disabled: !e.enabled, className: uS().User, label: t.displayName, checked: e.user.bAuthorized, onChange: t => { SteamClient.FamilySharing.UpdateAuthorizedBorrower(e.user.nAccountID, t).then((r => { 25 == r ? ((0, _e.AM)(a.createElement(de.JX, { strTitle: (0, g.Xx)("#Error_Generic"), strDescription: (0, g.Xx)("#FamilySettings_TooManyBorrowers", e.nMaxBorrowers) }), window, { strTitle: (0, g.Xx)("#Error_Generic"), bForcePopOut: !0 }), n.current.SetChecked(!t, !1)) : 1 != r && ((0, _e.AM)(a.createElement(de.JX, { strTitle: (0, g.Xx)("#Error_Generic"), strDescription: (0, g.Xx)("FamilySettings_FailedToUpdateBorrower", r) }), window, { strTitle: (0, g.Xx)("#Error_Generic"), bForcePopOut: !0 }), n.current.SetChecked(!t, !1)) })) } }) })), hS = e => { const { bIsDeviceAuthorizedForFamilySharing: t, nMaxAuthorizedAccounts: n, vecFamilySharingUsers: r } = e.settings, [o, l] = a.useState([]), s = (e, t) => e.bAuthorized && !t.bAuthorized ? -1 : t.bAuthorized && !e.bAuthorized ? 1 : e.nAccountID - t.nAccountID, c = JSON.stringify(r.map((e => e.nAccountID))); if (a.useEffect((() => { l(r.filter((e => e.nAccountID != K.i8.currentUserSteamID.GetAccountID())).sort(s).map((e => e.nAccountID))) }), [l, c]), !t) return null; if (0 == o.length) return null; const m = r.reduce(((e, t) => t.bAuthorized ? e + 1 : e), 0), u = o.map((e => { const t = r.find((t => t.nAccountID == e)); return a.createElement(gS, { key: e, user: t, enabled: m < n || t.bAuthorized, nMaxBorrowers: n }) })); return a.createElement(i.Aw, { className: uS().UserListContainer }, a.createElement(i.gN, { description: (0, g.Xx)("#FamilySettings_UserListDescription", n), bottomSeparator: "none" }), a.createElement("div", { className: uS().UserList }, a.createElement(i.gN, { className: uS().UserListHeader, childrenLayout: "inline", label: (0, g.Xx)("#FamilySettings_UserList_LeftColumn") }, a.createElement("div", null, (0, g.Xx)("#FamilySettings_UserList_RightColumn"))), u)) }, vS = e => { const { bIsDeviceAuthorizedForFamilySharing: t, bShowFamilySharingNotifications: n } = e.settings; return t ? a.createElement(i.Aw, null, a.createElement(i.gE, { checked: n, label: (0, g.Xx)("#FamilySettings_ShowNotifications"), onChange: () => { SteamClient.Settings.SetShowFamilySharingNotifications(!n) } })) : null }; function SS() { const e = (0, ie.PM)(); return e ? a.createElement(i.uT, null, a.createElement(dS, null), a.createElement(pS, { settings: e }), a.createElement(_S, null), a.createElement(hS, { settings: e }), a.createElement(vS, { settings: e })) : a.createElement(i.uT, null, (0, g.Xx)("#FamilySettings_Offline")) } var ES = n(56902); function bS(e) { var t; const n = (0, m.fJ)((() => SteamClient.Settings.GetCurrentLanguage()), []), r = (0, m.fJ)((() => SteamClient.Settings.GetAvailableLanguages()), []), o = null !== (t = null == r ? void 0 : r.map((e => { return { label: (t = e.strShortName, "none" === t ? "None" : (0, g.Xx)(`#language_selection_${t}`)), data: e.strShortName }; var t }))) && void 0 !== t ? t : [], l = a.useRef(), s = a.useCallback((() => { l.current.SetSelectedOption(n) }), [l, n]), c = a.useCallback((e => { SteamClient.Settings.SetCurrentLanguage(e), ES.J.AddValidKeyboardLayoutByLanguage((0, wt.jM)(e)) }), []), u = a.useCallback((e => { e != n && Hn({ strDescription: (0, g.Xx)("#Settings_Language_NeedsRestart"), fnOnOK: () => c(e), fnOnCancel: s }) }), [c, s, n]); return a.createElement(i.gB, { autoFocus: e.autoFocus, bottomSeparator: e.bottomSeparator, strClassName: e.className, label: e.strLabel, disabled: void 0 === n || 0 == o.length, rgOptions: o, selectedOption: n, onChange: e => u(e.data), dropDownControlRef: l }) } function CS(e) { const t = (0, m.e1)(ie.cS.GetBatteryPreferences()); return a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Battery_Percentage"), description: (0, g.Xx)("#Settings_Battery_Percentage_Desc"), checked: null == t ? void 0 : t.bShowBatteryPercentage, onChange: e => { let t = { bShowBatteryPercentage: e }; t.bShowBatteryPercentage = e, ie.cS.SetBatteryPreferences(t) } }) } function yS(e) { return a.createElement(i.uT, null, a.createElement(bS, { bottomSeparator: "standard", strLabel: (0, g.Xx)("#Settings_Language_Select") }), a.createElement(CS, null), a.createElement(Bo, null)) } var fS = n(27777), AS = n.n(fS); const IS = (0, Q.Pi)((e => { const { appid: t } = e, n = z.dk.GetAppOverviewByAppID(t); return a.createElement("div", { className: AS().AppSelectorLabel }, a.createElement("div", { className: AS().PortraitContainer }, a.createElement(si.A, { className: AS().Portrait, eAssetType: 3, app: n })), a.createElement("div", { className: AS().Name }, n.display_name)) })), kS = e => { const { appid: t } = e, n = a.useCallback((() => { Vi.EL.ResetUserAppPriorityForApp(t) }), [t]); return a.createElement(i.sT, { bottomSeparator: "none", className: AS().AppSelectorButton, label: a.createElement(IS, { appid: t }), onClick: n }, a.createElement(al.pVO, { color: "currentColor" })) }, wS = e => { const { count: t } = e, n = 1 == t ? "#HomeSettings_HiddenGameCount" : "#HomeSettings_HiddenGameCount_Plural"; return a.createElement("div", { className: AS().HiddenGameLabel }, a.createElement("div", null, (0, g.kQ)(n, a.createElement("span", { className: AS().GameCount }, t))), a.createElement("div", { className: AS().Description }, (0, g.Xx)("#HomeSettings_HiddenGameCount_Description"))) }, NS = () => { const e = (0, d.SZ)((() => Ga.NW.GetCollection(Ga.ZK.Hidden).allApps)), t = (0, oe.k6)(), n = a.useCallback((() => { t.push(o.Z5.Library.Collection(Ga.ZK.Hidden)) }), [t]); return 0 == e.length ? null : a.createElement(i.sT, { bottomSeparator: "standard", label: a.createElement(wS, { count: e.length }), onClick: n }, (0, g.Xx)("#HomeSettings_ManageHiddenGames")) }, TS = e => { const { rgApps: t, strHeader: n } = e; return 0 == t.length ? null : a.createElement("div", { className: (0, k.Z)(AS().AppPrioritySection, AS().ShowLess) }, a.createElement("div", { className: AS().AppPriorityHeader }, n), a.createElement("div", { className: AS().AppPriorityList }, t.map((e => a.createElement(kS, { key: e, appid: e }))))) }, xS = () => { const e = (0, ie.rV)(); let t = (0, Vi.sR)(), n = (0, Vi.AY)(); a.useEffect((() => { Vi.EL.FetchUpdatedEventAppPrioritiesForUser() }), []); const r = a.useCallback((e => { SteamClient.Settings.SetShowStoreContentOnHome(e) }), []), o = a.useCallback((e => { SteamClient.Settings.SetLibraryWhatsNewShowOnlyProductUpdates(e), Vi.EL.ScheduleUpdateBestEventsForUser(300) }), []); return a.createElement(i.uT, { className: (0, k.Z)(AS().HomeSettings) }, a.createElement(i.gE, { label: (0, g.Xx)("#HomeSettings_ShowStoreContent"), checked: e.bShowStoreContentOnHome, onChange: r }), a.createElement(i.bU, null, (0, g.Xx)("#WhatsNewSettings")), a.createElement(i.gE, { bottomSeparator: "standard", label: (0, g.Xx)("#HomeSettings_WhatsNewUpdatesOnly"), checked: e.bLibraryWhatsNewShowOnlyProductUpdates, onChange: o }), a.createElement(NS, null), a.createElement("div", { className: AS().Instructions }, (0, g.Xx)("#HomeSettings_WhatsNew_Instructions")), a.createElement(TS, { rgApps: t, strHeader: (0, g.Xx)("#HomeSettings_ShowingLess") }), a.createElement(TS, { rgApps: n, strHeader: (0, g.Xx)("#HomeSettings_ShowingMore") })) }; var DS = n(24676); function FS() { const e = (0, d.SZ)((() => ie.cS.settings.bEnableGamepadUIOverlay)); return a.createElement(i.gE, { label: "Enable GamepadUI Overlay", checked: e, onChange: e => { SteamClient.Settings.SetEnableGamepadUIOverlay(e) } }) } function GS() { const e = (0, m.e1)(T.hq.NavigationManager.GetShowDebugFocusRing()); return a.createElement(i.gE, { label: "Show Debug Focus Ring", checked: e, onChange: e => { T.hq.NavigationManager.SetShowDebugFocusRing(e) } }) } function BS() { const e = (0, d.SZ)((() => ie.cS.settings.bEnableSoftProcessKill)); return a.createElement(i.gE, { label: "Enable Soft Process Kill", checked: e, onChange: e => { SteamClient.Settings.SetEnableSoftProcessKill(e) } }) } function LS() { return a.createElement(a.Fragment, null, a.createElement(i.bU, null, "Log Settings"), a.createElement(DS.g, null)) } function RS() { const e = (0, sn.k4)(); return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, "Internet Connectivity Test"), a.createElement(i.gB, { label: "Simulate connectivity condition", layout: "inline", rgOptions: [{ label: "None", data: s.F8.k_ENetFakeLocalSystemState_Normal }, { label: "Not connected to AP (NoLAN)", data: s.F8.k_ENetFakeLocalSystemState_NoLAN }, { label: "No Internet", data: s.F8.k_ENetFakeLocalSystemState_NoInternet }, { label: "Captive Portal - redirected", data: s.F8.k_ENetFakeLocalSystemState_CaptivePortal_Redirected }, { label: "Captive Portal - in place", data: s.F8.k_ENetFakeLocalSystemState_CaptivePortal_InPlace }, { label: "Can't connect to Steam", data: s.F8.k_ENetFakeLocalSystemState_NoSteam }], selectedOption: e.eFakeState, onChange: e => sn.$u.Get().SetNetFakeLocalSystemState(e.data) }), a.createElement(i.sT, { label: "Connectivity state", description: s.kg[e.eConnectivityTestResult], icon: e.bChecking && a.createElement(l.$jN, null), disabled: e.bChecking, onClick: () => sn.$u.Get().RecheckConnectivity() }, "Retest"), e.strCaptivePortalURL && a.createElement(i.sT, { label: "Captive portal detected", description: e.strCaptivePortalURL, onClick: () => Sn() }, "Open")) } function PS() { const e = (0, oe.k6)(), t = (0, d.SZ)((() => ie.cS.settings.bIsSteamSideload)) ? "Set system Steam as default" : "Set sideload Steam as default"; return a.createElement(i.aV, { alignItems: "right" }, a.createElement(i.zx, { onClick: () => e.push(o.Z5.GamepadUI.Zoo.Root()) }, "Open Zoo"), a.createElement(i.zx, { onClick: () => (0, _e.AM)(a.createElement(XS, null), window) }, "Open Drive Info"), a.createElement(i.zx, { onClick: () => SteamClient.Settings.ToggleSteamInstall() }, t), a.createElement(i.zx, { onClick: () => (0, _e.AM)(a.createElement(VS, null), window, {}) }, "Add Client Beta")) } function OS() { const e = (0, oe.k6)(); let t = a.useCallback((() => { (0, fp.PS)({}) }), []); return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, "Internal Links"), a.createElement(i.aV, null, a.createElement(i.zx, { onClick: t }, "Lock Screen"), a.createElement(i.zx, { onClick: () => e.push(o.Z5.Library.Home(), { bShowGuidedTour: !0 }) }, "Guided Tour"), a.createElement(i.zx, { onClick: be }, "Hardware Survey"))) } function MS() { const e = (0, rg.Oj)(); return a.createElement(a.Fragment, null, a.createElement(i.dQ, null, "Miscellaneous"), a.createElement(i.gE, { controlled: !0, checked: e, onChange: () => { }, disabled: !0, label: "Use New Achievements Pages" }), a.createElement(Ne.Zu, null)) } function HS(e) { const t = (0, go.$8)(e.nBlockDeviceId); return a.createElement(a.Fragment, null, a.createElement(i.VC, { label: "Path" }, t.sPath), a.createElement(i.VC, { label: "FriendlyPath" }, t.sFriendlyPath), a.createElement(i.VC, { label: "Label" }, t.sLabel), a.createElement(i.VC, { label: "Size" }, (0, lo.l)(t.nSizeBytes)), a.createElement(i.VC, { label: "ContentType" }, (0, Pa.Om)(t.eContentType)), a.createElement(i.VC, { label: "PartitionType" }, (0, Pa.Eb)(t.eFileSystemType)), a.createElement(i.VC, { label: "RootDevice" }, "" + t.bRootDevice), a.createElement(i.VC, { label: "ReadOnly" }, "" + t.bReadOnly), a.createElement(i.VC, { label: "Formatable" }, "" + t.bFormatable)) } function US(e) { const t = (0, go.tD)(e.nDriveId), n = (0, m.e1)(t.m_vecBlockDeviceIds); return a.createElement(i.Aw, null, a.createElement(i.VC, { label: "Model" }, t.sModel), a.createElement(i.VC, { label: "id" }, t.nId), a.createElement(i.VC, { label: "Vendor" }, t.sVendor), a.createElement(i.VC, { label: "Serial" }, t.sSerial), a.createElement(i.VC, { label: "Size" }, (0, lo.l)(t.nSizeBytes)), a.createElement(i.VC, { label: "Ejectable" }, "" + t.bEjectable), a.createElement(i.VC, { label: "Partitions" }, n.length), n.map((e => a.createElement(HS, { key: e, nBlockDeviceId: e })))) } function XS(e) { const t = (0, go.DO)(); return a.createElement(de.e1, { onEscKeypress: e.closeModal }, a.createElement(i.VY, null, a.createElement(i.h4, null, "Drives"), a.createElement(i.uT, null, t.map((e => a.createElement(US, { key: e.nId, nDriveId: e.nId })))))) } function VS(e) { const [t, n] = a.useState(""), [r, o] = a.useState(""); return a.createElement(sr.ms, Object.assign({}, e, { title: "Add Client Beta", description: "Specify a name and password for a new Steam Client beta", disableCommit: 0 == t.length || 0 == r.length, onCommitResult: () => { t.length > 0 && SteamClient.Settings.AddClientBeta(t, r) } }), a.createElement(i.II, { autoFocus: !0, label: "Beta Name", onChange: e => n(e.target.value), placeholder: "New Beta" }), a.createElement(i.II, { label: "Beta Password", onChange: e => o(e.target.value), placeholder: "Password" })) } function WS() { (0, _e.AM)(a.createElement(de.uH, { strTitle: "Reboot to alternate OS partition?", strDescription: "Confirm will restart your device", onOK: () => { var e; null === (e = SteamClient.System) || void 0 === e || e.RebootToAlternateSystemPartition() } }), window, { strTitle: "Error" }) } function ZS(e) { return a.createElement(i.sT, { label: "Reboot to alternate system partition", onClick: WS }, "Reboot") } function zS() { (0, _e.AM)(a.createElement(de.uH, { strTitle: "Delete all browser data?", strDescription: "This includes the Chrome browser as well as Steam internal HTTP client", onOK: () => { SteamClient.Settings.ClearAllHTTPCaches() } }), window, { strTitle: "Error" }) } function qS(e) { return a.createElement(i.sT, { label: "Delete all CEF & internal HTTP client data", onClick: zS }, "Delete") } function KS(e) { const [t, n] = Rv(); return a.createElement(i.Aw, null, a.createElement(i.dQ, null, "Display"), a.createElement(i.gE, { label: "Show display scaling settings for Internal Display", checked: t, onChange: n }), a.createElement(i.aV, { alignItems: "right" }, a.createElement(i.zx, { onClick: () => { SteamClient.Window.ResizeTo(1280, 800) } }, "Reset window size"), a.createElement(i.zx, { onClick: () => { (0, _e.AM)(a.createElement(Bv, null), window) } }, "Show display scale dialog"))) } function jS(e) { return a.createElement(i.uT, null, a.createElement(PS, null), a.createElement(i.dQ, null, "Internal Settings"), a.createElement(FS, null), a.createElement(GS, null), a.createElement(BS, null), a.createElement(ZS, null), a.createElement(Ao, null), a.createElement(qS, null), a.createElement(KS, null), a.createElement(RS, null), a.createElement(LS, null), a.createElement(OS, null), a.createElement(MS, null)) } var QS = n(85378), YS = n(36374), JS = n.n(YS), $S = n(50473); function eE(e) { const t = a.useCallback((e => { }), []), n = a.useCallback((() => { }), []), r = (0, hi.CJ)({ onTextEntered: t, onKeyboardNavOut: n }); return a.createElement(i.zx, { className: JS().ShowKeyboardButton, onClick: () => r.ShowVirtualKeyboard(), onOKActionDescription: (0, g.Xx)("#Settings_Keyboard_Preview") }, a.createElement(l.Fo8, null)) } function tE(e) { const t = (0, o.BN)(q.de.ResolveURL("PointsShop") + "c/keyboard"); return a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Keyboard_PointsShop"), description: (0, g.Xx)("#Settings_Keyboard_PointsShop_Desc"), onClick: t, bottomSeparator: "standard" }, (0, g.Xx)("#Settings_Keyboard_PointsShop_Visit")) } function nE(e) { const t = (0, d.SZ)((() => ES.J.HapticPreset)), n = (0, d.SZ)((() => ES.J.HapticSettings)), r = (0, T.CA)() || t == ES.N.Custom, o = [{ data: ES.N.Off, label: (0, g.Xx)("#Settings_Keyboard_Haptics_Off") }, { data: ES.N.Low, label: (0, g.Xx)("#Settings_Keyboard_Haptics_Low") }, { data: ES.N.Medium, label: (0, g.Xx)("#Settings_Keyboard_Haptics_Medium") }, { data: ES.N.High, label: (0, g.Xx)("#Settings_Keyboard_Haptics_High") }]; return r && o.push({ data: ES.N.Custom, label: "Custom (Valve only)" }), a.createElement(a.Fragment, null, a.createElement(i.gB, { label: (0, g.Xx)("#Settings_Keyboard_Haptics"), rgOptions: o, selectedOption: t, onChange: e => ES.J.SetHapticSettings(e.data) }), t == ES.N.Custom && a.createElement(a.Fragment, null, a.createElement(i.gB, { indentLevel: 1, label: "Haptic Type", disabled: t != ES.N.Custom, rgOptions: [{ data: QS.X.Tick, label: "Tick" }, { data: QS.X.Click, label: "Click" }], selectedOption: n.eHapticType, onChange: e => ES.J.SetHapticSettings(Object.assign(Object.assign({}, n), { eHapticType: e.data })) }), a.createElement(i.z2, { indentLevel: 1, label: "Intensity", description: "Changes the waveform specification between four intensities.", disabled: t != ES.N.Custom, min: 1, max: 4, value: n.unIntensity, onChange: e => ES.J.SetHapticSettings(Object.assign(Object.assign({}, n), { unIntensity: e })), layout: "inline", showValue: !0 }), a.createElement(i.z2, { indentLevel: 1, label: "Gain", description: "Modulates the amplitude of the waveform.", disabled: t != ES.N.Custom, min: -5, max: 5, value: n.ndBGain, onChange: e => ES.J.SetHapticSettings(Object.assign(Object.assign({}, n), { ndBGain: e })), showValue: !0, valueSuffix: "dB", layout: "inline" }))) } function aE(e) { var t, n; a.useEffect((() => { me.Pg.ForceRefreshEquippedItems() }), []); const r = (0, d.SZ)((() => ce.tH.Get().GetControllers())).find((e => 4 == e.eControllerType)), o = (0, me.he)(null == r ? void 0 : r.strSerialNumber), l = (0, pe.gV)().BIsOfflineMode(), s = (0, sn.I3)(), c = (0, me.al)(), m = (0, me._Y)(); let u = [{ label: (0, g.Xx)("#Settings_Keyboard_DefaultTheme"), data: "0" }]; (null == m ? void 0 : m.length) > 0 && (u = u.concat(m.map((e => ({ label: e.item_title, data: e.communityitemid }))))); let p = a.useRef(), _ = u.length > 1 && !l && s, h = null; _ || (h = l ? (0, g.Xx)("#Settings_Keyboard_CannotSetTheme_Offline") : s ? o ? (0, g.Xx)("#Settings_Keyboard_CannotSetTheme_NoThemes") : (0, g.Xx)("#Settings_Keyboard_CannotSetTheme_ClaimThemes") : (0, g.Xx)("#Settings_Keyboard_CannotSetTheme_NoNetworkConnection")); return a.createElement(i.gN, { label: (0, g.Xx)("#Settings_Keyboard_Theme"), description: h, childrenContainerWidth: "min" }, a.createElement(Y.s, { className: JS().KeyboardThemeButtons }, a.createElement(i.TW, { ref: p, disabled: !_, selectedOption: null !== (n = null === (t = null == c ? void 0 : c.steam_deck_keyboard_skin) || void 0 === t ? void 0 : t.communityitemid) && void 0 !== n ? n : "0", rgOptions: u, onChange: e => { return t = e.data, void me.Pg.EquipKeyboardSkin(t).then((e => { 1 != e && (0, _e.AM)(a.createElement(de.JX, { strDescription: (0, g.Xx)("#Settings_Keyboard_SetThemeError_Body", e) }), window) })); var t } }), a.createElement(eE, null))) } function rE(e) { let t = (0, d.SZ)((() => ES.J.TrackpadTypingTriggerAsClick)), n = (0, d.SZ)((() => ES.J.TrackPadTypingInputScale)); return a.createElement(i.Aw, null, a.createElement(i.dQ, null, " ", (0, g.Xx)("#Settings_Keyboard_TrackpadingTyping_Section"), " "), a.createElement(i.fp, { checked: t, onChange: e => ES.J.TrackpadTypingTriggerAsClick = e, label: (0, g.Xx)("#Settings_Keyboard_TrackpadingTyping_TriggerAsClick"), description: (0, g.Xx)("#Settings_Keyboard_TrackpadingTyping_TriggerAsClick_Desc") }), a.createElement(i.z2, { layout: "inline", label: (0, g.Xx)("#Settings_Keyboard_TrackpadingTyping_InputScale"), description: (0, g.Xx)("#Settings_Keyboard_TrackpadingTyping_InputScale_Desc"), value: n, onChange: e => ES.J.TrackPadTypingInputScale = e, min: 1, max: 2, step: .25, showValue: !0, notchCount: 5, renderValue: e => e + "x" })) } function oE(e) { const t = (0, d.SZ)((() => ES.J.GetKeyboardLayoutSettings().currentLayout)), n = (0, d.SZ)((() => (0, $S.o8)())), r = ((0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bIsValveEmail })), a.useCallback((e => { ES.J.SetKeyboardLayout(e) }), [])); return a.createElement(Y.s, null, a.createElement(i.sT, { label: (0, g.Xx)("#Settings_Keyboard_ActiveKeyboards"), description: n.length > 1 && (0, g.kQ)("#Settings_Keyboard_SwitchHint", a.createElement(l.ZcK, { height: "16px", style: { verticalAlign: "bottom" } })), onClick: () => (0, $S.m0)(), bottomSeparator: "none" }, (0, g.Xx)("#Settings_Keyboard_ActiveKeyboards_Edit")), n.map(((e, n) => a.createElement(i.VC, { focusable: !0, key: n, label: (0, g.Xx)(e.locToken), bottomSeparator: "none", padding: "none", onClick: () => r(e.layout) }, t == e.layout ? (0, g.Xx)("#Settings_Keyboard_CurrentLayout") : "")))) } function iE(e) { return a.createElement(i.uT, null, a.createElement(aE, null), a.createElement(tE, null), a.createElement(nE, null), a.createElement(oE, null), a.createElement(rE, null)) } var lE = n(10071), sE = n.n(lE), cE = n(11550), mE = (n(35431), n(65946)); function uE(e) { return e.enable_performance_overlay() ? 2 : e.enable_performance_icons() ? 1 : 0 } function dE(e) { const t = (0, cE.CI)(), [n, r] = (0, cE.Q2)(), o = [0, 1, 2, 3, 4, 5, 6, 7, 8].map((e => ({ label: 0 == e ? (0, g.Xx)("#Settings_RemotePlay_SoftwareEncodingThreads_Auto") : e.toString(), data: e }))); return a.createElement(i.uT, { className: sE().Advanced }, a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_HostPlayAudioAlways"), checked: 1 == n.host_play_audio(), onChange: e => { n.set_host_play_audio(e ? 1 : 0), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_ChangeDesktopResolution"), checked: n.change_desktop_resolution(), onChange: e => { n.set_change_desktop_resolution(e), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_DynamicallyAdjustResolution"), checked: n.dynamically_adjust_resolution(), onChange: e => { n.set_dynamically_adjust_resolution(e), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableCaptureNVFBC"), checked: n.enable_capture_nvfbc(), onChange: e => { n.set_enable_capture_nvfbc(e), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableHardwareEncoding"), checked: n.enable_hardware_encoding_nvidia() || n.enable_hardware_encoding_amd() || n.enable_hardware_encoding_intel(), onChange: e => { n.set_enable_hardware_encoding_nvidia(!!e && t.bDefaultEncodeNVIDIA), n.set_enable_hardware_encoding_amd(!!e && t.bDefaultEncodeAMD), n.set_enable_hardware_encoding_intel(!!e && t.bDefaultEncodeIntel), r(n) } }), a.createElement("div", { className: sE().SubSetting }, a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableHardwareEncodingNVIDIA"), checked: n.enable_hardware_encoding_nvidia(), onChange: e => { n.set_enable_hardware_encoding_nvidia(e), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableHardwareEncodingAMD"), checked: n.enable_hardware_encoding_amd(), onChange: e => { n.set_enable_hardware_encoding_amd(e), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableHardwareEncodingIntel"), checked: n.enable_hardware_encoding_intel(), onChange: e => { n.set_enable_hardware_encoding_intel(e), r(n) } })), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_SoftwareEncodingThreads_Description"), rgOptions: o, selectedOption: n.software_encoding_threads(), onChange: e => { n.set_software_encoding_threads(e.data), r(n) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableTrafficPriority"), description: (0, g.Xx)("#Settings_RemotePlay_EnableTrafficPriority_Description"), checked: n.enable_traffic_priority(), onChange: e => { n.set_enable_traffic_priority(e), r(n) } })) } function pE(e) { var t, n, r, o, l; const s = (0, cE.CI)(), [c, m] = (0, cE.zg)(), u = [{ label: (0, g.Xx)("#Settings_RemotePlay_VideoQualityFast"), data: 1 }, { label: (0, g.Xx)("#Settings_RemotePlay_VideoQualityBalanced"), data: 2 }, { label: (0, g.Xx)("#Settings_RemotePlay_VideoQualityBeautiful"), data: 3 }]; let d = []; (0 == c.audio_channels() || 0 == s.unStreamingSessionID && s.nDefaultAudioChannels > 0) && d.push({ label: (0, g.Xx)("#Settings_RemotePlay_AudioChannels_AutoDetect" + s.nDefaultAudioChannels), data: 0 }), [2, 4, 6].forEach((e => { d.push({ label: (0, g.Xx)("#Settings_RemotePlay_AudioChannels_" + e), data: e }) })); const p = [{ label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyAuto"), data: "auto" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyStart"), data: "start" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyBack"), data: "back" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyGuide"), data: "guide" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyY"), data: "y" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyNone"), data: "none" }], _ = [{ label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyAuto"), data: "auto" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyMenu"), data: "start" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyView"), data: "back" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeySteam"), data: "guide" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyY"), data: "y" }, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyNone"), data: "none" }], h = [{ label: (0, g.Xx)("#Settings_RemotePlay_PerformanceOverlay_Disabled"), data: 0 }, { label: (0, g.Xx)("#Settings_RemotePlay_PerformanceOverlay_Icons"), data: 1 }, { label: (0, g.Xx)("#Settings_RemotePlay_PerformanceOverlay_Details"), data: 2 }], v = [-1, 3e3, 5e3, 1e4, 15e3, 2e4, 25e3, 3e4, 4e4, 5e4, 75e3, 0].map((e => ({ label: -1 == e ? (0, g.Xx)("#Settings_RemotePlay_Bandwidth_Auto") : 0 == e ? (0, g.Xx)("#Settings_RemotePlay_Bandwidth_Unlimited") : (0, lo.l)(e, { bUseBinary1K: !1, bValueIsRate: !0 }), data: e }))), S = [0, 3e3, 4975, 5e3, 5975, 6e3, 9e3, 12e3].map((e => ({ label: (0, g.Xx)("#Settings_RemotePlay_Framerate_" + e), data: e }))), E = [{ label: (0, g.Xx)("#Settings_RemotePlay_ResolutionDesktop"), data: "0x0" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution480p"), data: "852x480" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution720p"), data: "1280x720" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution900p"), data: "1600x900" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution1080p"), data: "1920x1080" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution1440p"), data: "2560x1440" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution2160p"), data: "3840x2160" }, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution8K"), data: "7680x4320" }]; let b = (null !== (t = c.maximum_resolution_x()) && void 0 !== t ? t : 0).toString() + "x" + (null !== (n = c.maximum_resolution_y()) && void 0 !== n ? n : 0).toString(); return a.createElement(i.uT, { className: sE().Advanced }, a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_Video"), rgOptions: u, selectedOption: c.enable_video_streaming() ? c.quality() : -1, onChange: e => { e.data >= 0 ? (c.set_enable_video_streaming(!0), c.set_quality(e.data)) : c.set_enable_video_streaming(!1), m(c) } }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_Audio"), rgOptions: d, selectedOption: c.enable_audio_streaming() ? c.audio_channels() : -1, onChange: e => { e.data >= 0 ? (c.set_enable_audio_streaming(!0), c.set_audio_channels(e.data)) : c.set_enable_audio_streaming(!1), m(c) } }), !ue.De.ON_DECK && a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkey"), description: (0, g.Xx)("#Settings_RemotePlay_ControllerOverlayHotkeyDescription"), rgOptions: ue.De.ON_DECK ? _ : p, selectedOption: null !== (r = c.controller_overlay_hotkey()) && void 0 !== r ? r : "auto", onChange: e => { c.set_controller_overlay_hotkey(e.data), m(c) } }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_PerformanceOverlay"), rgOptions: h, selectedOption: uE(c), onChange: e => { !function (e, t) { switch (t) { case 2: e.set_enable_performance_icons(!0), e.set_enable_performance_overlay(!0); break; case 1: e.set_enable_performance_icons(!0), e.set_enable_performance_overlay(!1); break; default: e.set_enable_performance_icons(!1), e.set_enable_performance_overlay(!1) } }(c, e.data), m(c) } }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_Bandwidth"), rgOptions: v, selectedOption: null !== (o = c.maximum_bitrate_kbps()) && void 0 !== o ? o : -1, onChange: e => { c.set_maximum_bitrate_kbps(e.data), m(c) } }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_Framerate"), rgOptions: S, selectedOption: null !== (l = c.maximum_framerate_numerator()) && void 0 !== l ? l : 0, onChange: e => { e.data > 0 ? (c.set_maximum_framerate_numerator(e.data), c.set_maximum_framerate_denominator(100)) : (c.set_maximum_framerate_numerator(0), c.set_maximum_framerate_denominator(0)), m(c) } }), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_Resolution"), rgOptions: E, selectedOption: b, onChange: e => { let [t, n] = e.data.split("x"); c.set_maximum_resolution_x(parseInt(t)), c.set_maximum_resolution_y(parseInt(n)), m(c) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_HardwareDecoding"), checked: c.enable_hardware_decoding(), onChange: e => { c.set_enable_hardware_decoding(e), m(c) } }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_TouchControls"), checked: c.enable_touch_controller(), onChange: e => { c.set_enable_touch_controller(e), m(c) } })) } function _E(e) { return "Streaming" === e.status ? sE().Streaming : "Connected" === e.status ? sE().Connected : sE().Normal } function gE(e) { const t = (0, cE.CI)(), n = (0, cE.ov)(), r = a.useRef(), o = [{ label: (0, g.Xx)("#Settings_RemotePlay_P2PScopeAutomatic"), data: 0 }, { label: (0, g.Xx)("#Settings_RemotePlay_P2PScopeDisabled"), data: 1 }, { label: (0, g.Xx)("#Settings_RemotePlay_P2PScopeOnlyMe"), data: 2 }, { label: (0, g.Xx)("#Settings_RemotePlay_P2PScopeEveryone"), data: 4 }], s = a.useCallback((e => { var n; SteamClient.RemotePlay.SetStreamingClientConfigEnabled(e, t.unStreamingSessionID), null === (n = r.current) || void 0 === n || n.scrollIntoView({ behavior: "smooth", block: e ? "center" : "end" }) }), [t]); return a.createElement(i.uT, null, a.createElement(i.Aw, null, a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_Enabled"), description: ue.De.ON_DECK ? (0, g.Xx)("#Settings_RemotePlay_Description_SteamDeck") : (0, g.Xx)("#Settings_RemotePlay_Description"), checked: t.bRemotePlayEnabled, onChange: e => SteamClient.RemotePlay.SetRemotePlayEnabled(e) })), a.createElement(i.Aw, null, a.createElement("div", { className: sE().TableHeader }, a.createElement("div", null, (0, g.Xx)("#Settings_RemotePlay_DeviceName")), a.createElement("div", null, (0, g.Xx)("#Settings_RemotePlay_Status"))), 0 == n.length && a.createElement(i.gN, { className: sE().DeviceList, disabled: !0, icon: a.createElement(l.HPn, null), label: (0, g.Xx)("#Settings_RemotePlay_DevicesEmpty"), bottomSeparator: "none" }), n.length > 0 && n.map((e => a.createElement(i.VC, { label: e.clientName, key: e.clientName, bottomSeparator: "none" }, a.createElement("span", { className: _E(e) }, (0, g.Xx)("#Settings_RemotePlay_Status_" + e.status)))))), a.createElement(i.Aw, null, a.createElement(i.aV, null, a.createElement(i.zx, { onClick: () => (0, mE.Qv)("Steam Link") }, (0, g.Xx)("#Settings_RemotePlay_Pair")), a.createElement(i.zx, { onClick: () => (0, mE.Kq)() }, (0, g.Xx)("#Settings_RemotePlay_Unpair")), a.createElement(i.zx, { onClick: () => (0, mE.ky)() }, (0, g.Xx)("#Settings_RemotePlay_SetPIN")))), a.createElement(i.gB, { label: (0, g.Xx)("#Settings_RemotePlay_P2PScope_Description"), rgOptions: o, selectedOption: t.eRemotePlayP2PScope, onChange: e => SteamClient.RemotePlay.SetStreamingP2PScope(e.data) }), a.createElement(i.Aw, null, a.createElement(i.dQ, null, (0, g.Xx)("#Settings_RemotePlay_AdvancedConfig"), " ")), t.bRemotePlayServerConfigAvailable && a.createElement(i.uT, null, a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableServerConfig"), description: t.bRemotePlaySupported ? (0, g.Xx)("#Settings_RemotePlay_ServerConfigDescription") : (0, g.Xx)("#Settings_RemotePlay_UnsupportedPlatform"), checked: t.bRemotePlayServerConfigEnabled, disabled: !t.bRemotePlaySupported, onChange: e => SteamClient.RemotePlay.SetStreamingServerConfigEnabled(e) }), t.bRemotePlaySupported && t.bRemotePlayServerConfigEnabled && a.createElement(dE, null)), 0 == t.unStreamingSessionID && a.createElement(i.uT, null, a.createElement("div", { ref: r }, a.createElement(i.gE, { label: (0, g.Xx)("#Settings_RemotePlay_EnableClientConfig"), description: (0, g.Xx)("#Settings_RemotePlay_ClientConfigDescription"), checked: t.bRemotePlayClientConfigEnabled, onChange: s })), t.bRemotePlayClientConfigEnabled && a.createElement(pE, null), !t.bRemotePlayClientConfigEnabled && a.createElement("div", { className: sE().ClientAdvancedPadder })), t.unStreamingSessionID > 0 && a.createElement(i.uT, null, a.createElement(i.VC, { label: (0, g.Xx)("#Settings_RemotePlay_RemoteClientConfig"), description: (0, g.Xx)("#Settings_RemotePlay_RemoteClientConfigDescription", t.strStreamingClientName) }), a.createElement(pE, null))) } function hE(e, t) { (0, fp.f0)({ allowAnyPIN: !0, strPromptOverride: "#LockScreen_NewPINPrompt", hideForgotPIN: !0, onSuccess: n => { (0, fp.f0)({ allowAnyPIN: !0, strPromptOverride: "#LockScreen_NewPINPrompt2", hideForgotPIN: !0, onSuccess: r => { if (n === r) t(Object.assign(Object.assign({}, e), { strPIN: r, strOwnerAccountName: (0, pe.gV)().GetCurrentUser().strAccountName })); else { let e = a.createElement(de.uH, { strTitle: (0, g.Xx)("#LockScreen_PINSetMismatch_Title"), strDescription: (0, g.Xx)("#LockScreen_PINSetMismatch_Body"), bAlertDialog: !0 }); (0, _e.AM)(e, window, { strTitle: (0, g.Xx)("#LockScreen_PINSetMismatch_Title") }) } } }) } }) } function vE(e) { let [t, n] = (0, yp.uD)(); const [r, o] = a.useState(!1); !function (e) { let t = a.useRef(!1); t.current = e, a.useEffect((() => () => { t.current && yp.mg.ClearPINIfNotUsed() }), [t]) }(r); let l = e => { t.strPIN ? r ? n(e) : (0, fp.f0)({ onSuccess: () => { n(e), o(!0) } }) : (hE(e, n), o(!0)) }; return a.createElement(i.uT, null, a.createElement(i.Aw, null, a.createElement(i.bU, null, (0, g.Xx)("#Settings_Security_LockScreenSection")), t && a.createElement(a.Fragment, null, a.createElement(i.gN, { description: (0, g.Xx)("#Settings_Security_LockScreen_Desc"), bottomSeparator: "none" }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Security_LockOnWake"), controlled: !0, checked: t.bLockOnWake, onChange: e => l(Object.assign(Object.assign({}, t), { bLockOnWake: e })) }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Security_LockOnLogin"), controlled: !0, checked: t.bLockOnLogin, onChange: e => l(Object.assign(Object.assign({}, t), { bLockOnLogin: e })) }), a.createElement(i.gE, { label: (0, g.Xx)("#Settings_Security_LockOnDesktopMode"), controlled: !0, checked: t.bLockDesktopMode, onChange: e => l(Object.assign(Object.assign({}, t), { bLockDesktopMode: e })) }), t.strPIN && a.createElement(i.sT, { onClick: () => function (e, t) { (0, fp.f0)({ onSuccess: () => { hE(e, t) } }) }(t, n), bottomSeparator: "none" }, (0, g.Xx)("#Settings_Security_ResetPIN")), !1))) } var SE = n(59021), EE = n(44081), bE = n.n(EE); const CE = e => { const { bParenthesizeNicknames: t } = e, n = new ae.Pv(new j.K); return n.m_strPlayerName = (0, g.Xx)("#FriendSettings_ExampleFriend"), n.m_ePersonaState = 1, n.m_strAvatarHash = SE.W, a.createElement("div", { className: (0, k.Z)(bE().FakeFriend, "online") }, a.createElement(Nt.vV, { persona: n, statusPosition: "right" }), a.createElement(xt.o, { persona: n, eFriendRelationship: 3, bIsSelf: !1, strNickname: (0, g.Xx)("#FriendSettings_ExampleNickname"), bParenthesizeNicknames: t, bCompactView: !1 })) }, yE = () => { const e = (0, ie.hv)(), t = a.createElement("div", null, a.createElement("div", null, (0, g.Xx)("#FriendSettings_ParenthesizeNicknames")), a.createElement(CE, { bParenthesizeNicknames: e.bParenthesizeNicknames })), n = a.useCallback((t => { e.bParenthesizeNicknames = t, ie.cS.UpdateCommunityPreferences(e) }), [e]); return a.createElement(i.fp, { label: t, checked: e.bParenthesizeNicknames, onChange: n }) }, fE = e => { const { settingName: t, description: n } = e, r = (0, ie.eL)(), o = a.useCallback((e => { r[t] = e, ie.cS.UpdateFriendSettings(r) }), [r, t]); return a.createElement(i.fp, { label: (0, g.Xx)(n), checked: r[t], onChange: o }) }, AE = e => a.createElement(i.uT, null, a.createElement(i.Aw, null, a.createElement(i.h4, null, (0, g.Xx)("#FriendSettings_Heading_FriendsList")), a.createElement(yE, null), a.createElement(fE, { settingName: "bCategorizeInGameFriendsByGame", description: "#FriendSettings_CategorizeInGameFriendsByGame" }), a.createElement(fE, { settingName: "bHideOfflineFriendsInTagGroups", description: "#FriendSettings_HideOfflineFriendsInCategories" }), a.createElement(fE, { settingName: "bHideCategorizedFriends", description: "#FriendSettings_HideCategorizedFriends" }), a.createElement(fE, { settingName: "bForceAlphabeticFriendSorting", description: "#FriendSettings_SortFriendsByStatus" }), a.createElement(fE, { settingName: "bSignIntoFriends", description: "#FriendSettings_SignInToFriends" }), a.createElement(fE, { settingName: "bAnimatedAvatars", description: "#FriendSettings_AnimatedAvatars" })), a.createElement(i.Aw, null, a.createElement(i.h4, null, (0, g.Xx)("#FriendSettings_Heading_Chat")), a.createElement(fE, { settingName: "bDisableEmbedInlining", description: "#FriendSettings_DisableEmbedInlining" }), a.createElement(fE, { settingName: "b24HourClock", description: "#FriendSettings_AlwaysUse24HourClock" }), a.createElement(fE, { settingName: "bDisableRoomEffects", description: "#FriendSettings_DisableRoomEffects" }))); var IE = n(83500), kE = n.n(IE); const wE = e => { const { label: t, description: n, checked: r, onChange: o } = e; return a.createElement(i.fp, { label: (0, g.Xx)(t), description: n && (0, g.Xx)(n), checked: r, onChange: o }) }, NE = e => { const { settingNotify: t, settingSound: n, description: r } = e, [o, l] = (0, ie.bT)(t), [s, c] = (0, ie.bT)(n); return a.createElement(i.gN, { highlightOnFocus: !0, label: (0, g.Xx)(r) }, a.createElement(Y.s, { className: kE().Toggles, "flow-children": "row", navEntryPreferPosition: ku.c4.MAINTAIN_X }, a.createElement(i.hQ, { value: o, onChange: l }), a.createElement(i.hQ, { value: s, onChange: c }))) }, TE = () => { const e = (0, ie.rV)(); return a.createElement(i.uT, null, a.createElement(i.Aw, null, a.createElement(i.h4, null, (0, g.Xx)("#NotificationsSettings_Heading_Notifications")), a.createElement(wE, { label: "#NotificationsSettings_DisableAll", checked: e.bDisableAllToasts, onChange: e => { SteamClient.Settings.SetDisableAllToasts(e) } }), a.createElement(wE, { label: "#NotificationsSettings_HideInGame", checked: e.bDisableToastsInGame, onChange: e => { SteamClient.Settings.SetDisableToastsInGame(e) } })), a.createElement(i.Aw, null, a.createElement(i.h4, null, (0, g.Xx)("#NotificationsSettings_Heading_Friends")), a.createElement(i.Ac, { className: kE().FriendsDescription }, (0, g.Xx)("#NotificationsSettings_Heading_FriendsDescription")), a.createElement(i.gN, { className: kE().ToggleHeader, bottomSeparator: "none" }, a.createElement("div", { className: kE().Toggles }, a.createElement("div", null, (0, g.Xx)("#NotificationsSettings_Column_Notification")), a.createElement("div", null, (0, g.Xx)("#NotificationsSettings_Column_Sound")))), a.createElement(NE, { settingNotify: "bNotifications_ShowIngame", settingSound: "bSounds_PlayIngame", description: "#NotificationsSettings_Notification_FriendJoins" }), a.createElement(NE, { settingNotify: "bNotifications_ShowOnline", settingSound: "bSounds_PlayOnline", description: "#NotificationsSettings_Notification_FriendOnline" }), a.createElement(NE, { settingNotify: "bNotifications_ShowMessage", settingSound: "bSounds_PlayMessage", description: "#NotificationsSettings_Notification_ChatMessage" }), a.createElement(NE, { settingNotify: "bNotifications_ShowChatRoomNotification", settingSound: "bSounds_PlayChatRoomNotification", description: "#NotificationsSettings_Notification_ChatRoomNotification" }), a.createElement(NE, { settingNotify: "bNotifications_EventsAndAnnouncements", settingSound: "bSounds_EventsAndAnnouncements", description: "#NotificationsSettings_Notification_GroupEvent" }))) }; function xE() { const e = ue.De.IN_GAMEPADUI, t = (0, d.SZ)((() => Wn.F.GetServicesInitialized())), [n] = (0, T.oA)(), r = function () { const e = ue.De.IN_GAMEPADUI, [t] = (0, T.oA)(); return !!(0, d.SZ)((() => { var e; return null === (e = ie.cS.settings) || void 0 === e ? void 0 : e.bIsValveEmail })) && t && e }(), s = (0, Do.q)(); a.useEffect((() => (x.LT.PlayNavSound(x.qr.ShowModal), function () { x.LT.PlayNavSound(x.qr.HideModal) })), []); let c = [{ visible: t, title: (0, g.Xx)("#Settings_Page_General"), icon: a.createElement(l.Zrf, null), route: o.Z5.GamepadUI.Settings.General(), content: a.createElement(yS, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_System"), icon: s ? a.createElement(l.X0v, null) : a.createElement(l.aeH, null), route: o.Z5.GamepadUI.Settings.System(), content: a.createElement(ri, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_Security"), icon: a.createElement(l.HEZ, { locked: !0 }), route: o.Z5.GamepadUI.Settings.Security(), content: a.createElement(vE, null) }, { visible: e, title: (0, g.Xx)("#Settings_Page_Internet"), icon: a.createElement(l.Zcv, null), route: o.Z5.GamepadUI.Settings.Internet(), content: a.createElement(jn, null) }, { visible: e && t, title: (0, g.Xx)("#Settings_Page_Notifications"), icon: a.createElement(l.Zpg, null), route: o.Z5.GamepadUI.Settings.Notifications(), hideTitle: !0, content: a.createElement(TE, null) }, i.rR, { visible: e && t, title: (0, g.Xx)("#Settings_Page_Display"), icon: a.createElement(l.sSl, null), route: o.Z5.GamepadUI.Settings.Display(), content: a.createElement(Yv, null) }, { visible: e && t, title: (0, g.Xx)("#Settings_Page_Audio"), icon: a.createElement(B, null), route: o.Z5.GamepadUI.Settings.Audio(), content: a.createElement(fh, null) }, { visible: e, title: (0, g.Xx)("#Settings_Page_Bluetooth"), icon: a.createElement(l.$4T, null), route: o.Z5.GamepadUI.Settings.Bluetooth(), content: a.createElement(Vh, null) }, { visible: e && t, title: (0, g.Xx)("#Settings_Page_Controller"), icon: a.createElement(l.X7U, null), route: o.Z5.GamepadUI.Settings.Controller(), content: a.createElement(ev, null) }, { visible: e && t, title: (0, g.Xx)("#Settings_Page_Keyboard"), icon: a.createElement(l.N1d, null), route: o.Z5.GamepadUI.Settings.Keyboard(), content: a.createElement(iE, null) }, i.rR, { visible: t, title: (0, g.Xx)("#Settings_Page_Friends"), icon: a.createElement(l._Oo, null), route: o.Z5.GamepadUI.Settings.Friends(), hideTitle: !0, content: a.createElement(AE, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_Downloads"), icon: a.createElement(l.UWx, null), route: o.Z5.GamepadUI.Settings.Downloads(), content: a.createElement(iS, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_Cloud"), icon: a.createElement(l.SWB, null), route: o.Z5.GamepadUI.Settings.Cloud(), content: a.createElement(cS, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_Family"), icon: a.createElement(l.qt5, null), route: o.Z5.GamepadUI.Settings.Family(), content: a.createElement(SS, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_RemotePlay"), icon: a.createElement(l.Shs, null), route: o.Z5.GamepadUI.Settings.RemotePlay(), content: a.createElement(gE, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_Storage"), hideTitle: !0, icon: a.createElement(l.OOJ, null), route: o.Z5.GamepadUI.Settings.Storage(), content: a.createElement(we.Td, null), padding: "none" }, i.rR, { visible: t, title: (0, g.Xx)("#Settings_Page_Home"), icon: a.createElement(l.SK8, null), route: o.Z5.GamepadUI.Settings.Home(), content: a.createElement(xS, null) }, { visible: t, title: (0, g.Xx)("#Settings_Page_Library"), icon: a.createElement(l.Zu5, null), route: o.Z5.GamepadUI.Settings.Library(), content: a.createElement(Eh, null) }, { visible: n && e && t, title: (0, g.Xx)("#Settings_Page_Developer"), icon: a.createElement(l.exe, null), route: o.Z5.GamepadUI.Settings.Developer(), content: a.createElement(yv, null) }, { visible: r && t, title: (0, g.Xx)("#Settings_Page_Internal"), icon: a.createElement(l.ui7, null), route: o.Z5.GamepadUI.Settings.Internal(), content: r ? a.createElement(jS, null) : null }]; c = c.filter((e => e == i.rR || e.visible)); let m = []; for (let e = 0; e < c.length; e++) { let t = c[e]; if (t == i.rR) { if (0 == e || e == c.length - 1) continue; if (c[e + 1] == i.rR) continue } m.push(t) } return m } function DE() { let e = xE(), t = (0, pe.gV)().BHasCurrentUser(); return (0, pt.co)(t ? "show-icon" : "hidden", "Settings"), a.createElement(ln.AF, { onCancel: T.hq.GetBackstackRootTest() }, a.createElement(rr.r, { title: (0, g.Xx)("#Settings_Title"), pages: e })) } var FE = n(97622), GE = n.n(FE); const BE = a.memo((function () { return a.createElement(a.Fragment, null, a.createElement(a_, null, a.createElement(o._n, { path: o.Z5.GamepadUI.Login() }, a.createElement(Vp, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.CreateAccount() }, a.createElement(Xp, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.Account() }, a.createElement(pa, null)), a.createElement(LE, { path: o.Z5.GamepadUI.Invites() }, a.createElement(oo.FQ, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.Error() }, a.createElement(ro, null)), a.createElement(LE, { path: o.Z5.Library.Home() }, a.createElement(Fd, null)), a.createElement(LE, { path: o.Z5.AppProperties.Root() }, a.createElement(Ag.nu, null)), a.createElement(oe.AW, { path: o.Z5.GamepadUI.ControllerConfigurator.Root() }, " ", a.createElement(eo.UO, null)), a.createElement(LE, { path: o.Z5.GamepadUI.App.Achievements.Root() }, a.createElement(ig, null)), a.createElement(LE, { path: o.Z5.Library.App() }, a.createElement(fg.SK, { renderFunc: PE })), a.createElement(LE, { path: o.Z5.Library.Root(), noTransitionZoom: !0 }, a.createElement(Kd, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.Setup() }, a.createElement(qp, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.Workshop() }, a.createElement(M.IS, { autoFocus: !0, href: "steam://open/workshop", className: GE().DeveloperPlaceholderButton }, "WORKSHOP")), a.createElement(LE, { path: o.Z5.GamepadUI.Chat() }), a.createElement(LE, { path: o.Z5.Media.Root() }, a.createElement(Vg, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.Settings.Root() }, a.createElement(DE, null)), a.createElement(LE, { path: o.Z5.GamepadUI.Search.Root() }, a.createElement(__, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.Zoo.Root() }, a.createElement($r, null)), a.createElement(LE, { path: o.Z5.Downloads() }, a.createElement(Ig.a, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.About() }, a.createElement(oi, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.GameAPIOSK() }, a.createElement(tr, null)), a.createElement(o._n, { path: ["/", "/index.html"], exact: !0 }), a.createElement(o._n, { path: o.Z5.GamepadUI.ControllerDeviceSupport() }, a.createElement(mh, null)), a.createElement(o._n, { path: o.Z5.GamepadUI.ControllerDeviceCalibration.Root() }, a.createElement($g, null))), a.createElement(oe.rs, null, a.createElement(LE, { path: o.Z5.GamepadUI.AppRunning() }, a.createElement(r_, null, a.createElement(Jp, null))), a.createElement(LE, { path: o.Z5.GamepadUI.AppOverlay.Root() }, a.createElement(r_, null, a.createElement(Ei, null))))) })); function LE(e) { let { children: t } = e, n = (0, r._T)(e, ["children"]); return (0, d.SZ)((() => Wn.F.GetServicesInitialized())) || (t = a.createElement(RE, null)), a.createElement(o._n, Object.assign({}, n), t) } function RE(e) { return a.createElement(ge.t, null, (0, g.Xx)("#LibraryHome_Loading")) } function PE(e, t) { return a.createElement(ha.VF.Provider, { value: Wa }, a.createElement(fg.d3, { overview: e, details: t })) } var OE = n(69858), ME = n(20998), HE = n.n(ME), UE = n(44462); function XE(e) { const { installRequest: t } = e, [n, r] = (0, a.useState)(0), o = a.useCallback((() => di.U6.CancelRequestedInstall()), []), i = () => { n >= s.length - 1 ? di.U6.StartRequestedInstall() : r(n + 1) }, l = (0, d.SZ)((() => t.rgAppIDs.map((e => z.dk.GetAppOverviewByAppID(e))))).filter((e => e && di.U6.BShowDeckCompatForInstall(e.appid))), s = [l.length > 0 && a.createElement(VE, { onCancel: o, overviews: l, onContinue: i }), di.U6.BShowDiskSettingsForInstall(t) && a.createElement(WE, { installRequest: t, onCancel: o, onContinue: i })].filter(Boolean); return (0, a.useEffect)((() => { 0 === s.length && (console.error("Attempted to render InstallRequestModal but there was nothing to show"), di.U6.StartRequestedInstall()) }), [s.length]), a.createElement(de.On, { active: !0, onDismiss: o }, s[n]) } function VE(e) { var t, n; const { onCancel: r, onContinue: o, overviews: l } = e, [s, c] = (0, a.useState)(0), { appid: m, steam_deck_compat_category: u, display_name: d } = l[s], p = (0, va.i)(m), _ = null !== (t = null == p ? void 0 : p.vecDeckCompatTestResults) && void 0 !== t ? t : [], h = null !== (n = null == p ? void 0 : p.strSteamDeckBlogURL) && void 0 !== n ? n : "", v = () => { T.hq.NavigateToSteamWeb(h), r() }; let S = {}; return h && (S.onOptionsActionDescription = (0, g.Xx)("#SteamDeckVerified_ViewDeveloperPost"), S.onOptionsButton = v), a.createElement(a.Fragment, null, a.createElement(i.uT, null, a.createElement(Ha.bK, { appName: d, results: { appid: m, resolved_category: u, resolved_items: _.map((({ test_result: e, test_loc_token: t }) => ({ display_type: e, loc_token: t }))), steam_deck_blog_url: h }, onOpenBlogPost: v })), a.createElement(i.$_, null, a.createElement(Y.s, Object.assign({}, S), a.createElement(i.o9, { strOKText: (0, g.Xx)("#GameAction_Install"), onOK: () => { s < l.length - 1 ? c(s + 1) : o() }, onCancel: r })))) } function WE(e) { const { installRequest: t, onCancel: n, onContinue: r } = e; return a.createElement(a.Fragment, null, a.createElement(i.h4, null, (0, g.Xx)("#GameAction_Install")), a.createElement(i.uT, null, a.createElement(i.Ac, null, a.createElement(zE, { rgAppIDs: t.rgAppIDs }), a.createElement(jE, { installRequest: t }), a.createElement(KE, { installRequest: t })), a.createElement(i.$_, null, a.createElement(ZE, { installRequest: t, onCancel: n, onContinue: r })))) } function ZE(e) { const { installRequest: t, onContinue: n, onCancel: r } = e, l = (0, d.SZ)((() => ke.J.MountedInstallFolders)), s = t.nDiskSpaceRequired < t.nDiskSpaceAvailable, c = (0, oe.k6)(), m = a.useCallback((() => { r(), c.push(o.Z5.GamepadUI.Settings.Storage()) }), [r, c]); return !s || t.bCanChangeInstallFolder && l.length > 1 ? a.createElement(i.o9, { focusButton: "primary", strOKText: (0, g.Xx)("#Installer_ManageStorage"), onOK: m, onCancel: r }) : a.createElement(i.o9, { focusButton: "primary", strOKText: (0, g.Xx)("#GameAction_Install"), onOK: n, onCancel: r }) } function zE(e) { const { rgAppIDs: t } = e, n = (0, d.SZ)((() => t.map((e => z.dk.GetAppOverviewByAppID(e))))); return 0 == n.length ? null : a.createElement("div", { className: HE().AppsToInstall }, n.map((e => a.createElement(qE, { appOverview: e, key: e.gameid })))) } function qE(e) { const { appOverview: t } = e, n = (0, va.i)(t.appid); return a.createElement("div", { className: HE().AppToInstall }, a.createElement(si.A, { eAssetType: 3, className: HE().AppLogo, app: t }), a.createElement("div", { className: HE().AppName }, t.display_name), a.createElement("div", { className: (0, k.Z)(HE().AppSizeRequired, HE().DiskSpace) }, n && (0, lo.l)(n.lDiskSpaceRequiredBytes))) } function KE(e) { const { installRequest: t } = e; return -1 == t.iUnmountedFolder ? null : a.createElement("div", { className: HE().NoticeUnmountedFolder }, (0, g.Xx)("#Installer_NoticeUnmountedFolder")) } function jE(e) { const { installRequest: t } = e, n = (0, d.SZ)((() => ke.J.MountedInstallFolders)); if (!t.bCanChangeInstallFolder) return null; const r = n.length > 1; return a.createElement("div", { className: HE().FolderSelector }, n.length > 1 && a.createElement("div", { className: HE().Header }, (0, g.Xx)("#Installer_ChooseDestinationFolder")), a.createElement("div", { className: HE().FolderOptions }, n.map((e => a.createElement(QE, { key: e.nFolderIndex, folder: e, bCanSelectFolder: r, active: t.iInstallFolder == e.nFolderIndex, nSpaceRequired: t.nDiskSpaceRequired }))))) } function QE(e) { const { folder: t, active: n, bCanSelectFolder: r, nSpaceRequired: o } = e, i = a.useCallback((() => { di.U6.SetInstallFolderIndexAndStartInstall(t.nFolderIndex) }), [t.nFolderIndex]), s = o < Number(t.strFreeSpace), c = t.bIsDefaultFolder; let m = a.createElement(UE.Hb, { folder: t }); return s || (m = a.createElement(l.Zpg, null)), a.createElement(Y.s, { focusable: s && r, onActivate: i, className: (0, k.Z)(HE().FolderOption, n && HE().Active), focusClassName: HE().Focused, noFocusRing: !0 }, a.createElement("div", { className: (0, k.Z)(HE().FolderFlag, !s && HE().Warning) }, m), a.createElement("div", { className: (0, k.Z)(HE().FolderName, !s && HE().NoSpace) }, a.createElement(UE.IZ, { folder: t }), !s && a.createElement("span", null, " " + (0, g.Xx)("#Installer_NoticeNotEnoughSpace"))), c && a.createElement("div", { className: HE().FolderFlag }, a.createElement(l.Uxw, null)), a.createElement("div", { className: (0, k.Z)(HE().FreeSpace, HE().DiskSpace) }, (0, g.Xx)("#Installer_FolderSpaceFree", (0, lo.l)(Number(t.strFreeSpace))))) } var YE = n(5763), JE = n(99475), $E = n.n(JE); function eb() { const { hActiveInstaller: e, installRequest: t, installError: n } = (0, d.SZ)((() => { const e = di.U6.GetActiveInstalls(); return { hActiveInstaller: e.length ? e[0] : null, installRequest: di.U6.GetInstallRequest(), installError: di.U6.GetInstallError() } })); return n ? a.createElement(tb, { installError: n }) : e ? a.createElement(nb, { installHandler: e }) : t ? a.createElement(XE, { installRequest: t }) : null } function tb(e) { const { installError: t } = e, n = (0, d.SZ)((() => z.dk.GetAppOverviewByAppID(t.appid))), r = n ? n.display_name : `{unknown app #${t.appid}}`; let o = null; return o = 0 != t.eAppError ? (0, g.Xx)("#Installer_Error_AppName_ErrorDescription", r, (0, g.Xx)("#Steam_AppUpdateError_" + t.eAppError)) : (0, g.Xx)("#Installer_UnknownError_AppName", r), a.createElement(de.Yy, { active: !0 }, a.createElement(de.JX, { onOK: () => di.U6.ClearInstallError(), strDescription: o })) } function nb(e) { const t = e.installHandler.useInstallState(), { state: n, appid: r, eulaWorkflow: o, handler: i } = t, l = (0, d.SZ)((() => z.dk.GetAppOverviewByAppID(r))); if (!l) return console.error("Installer unable to display as we do not have an app overview"), null; const s = () => { i.Close() }, c = () => { i.CancelGameAction() }; let m; switch (n) { case OE.l.Initial: return null; case OE.l.Busy: m = a.createElement(rb, { installState: t, appOverview: l, onOK: s, onCancel: c }); break; case OE.l.ShowEula: m = a.createElement(YE.yB, { appid: r, eulaWorkflow: o, onCancel: () => { } }); break; case OE.l.ExternalSignup: console.error("External signup not handled"); break; case OE.l.Complete: return null; case OE.l.Cancelling: m = a.createElement(ob, { installState: t, appOverview: l }); break; default: return console.error("Unknown installer state: ", n), null }return a.createElement(de.Yy, { active: !0 }, m) } function ab(e) { return a.createElement(de.RG, null, a.createElement(Y.s, { id: "install_dialog", className: $E().InstallerModalContent }, a.createElement(i.h4, { className: $E().ModalHeader }, (0, g.Xx)("#Installer_Install")), a.createElement(i.uT, null, e.children))) } function rb(e) { const { installState: t, appOverview: n, onOK: r, onCancel: o } = e; let l = (0, g.Xx)("#Installer_Installing"); return n && n.display_name && (l = (0, g.Xx)("#Installer_InstallingApp", n.display_name)), a.createElement(ab, null, a.createElement(i.Ac, null, a.createElement("div", { className: $E().InstallingText }, l), a.createElement(zi.V, { className: $E().Throbber, size: "medium", position: "center" })), a.createElement(i.$_, null, a.createElement(i.o9, { onCancel: o, onOK: r, strOKText: (0, g.Xx)("#Button_OK"), strCancelText: (0, g.Xx)("#Installer_CancelInstall") }))) } function ob(e) { const { installState: t, appOverview: n } = e; let r = (0, g.Xx)("#Installer_Cancelling"); return n && n.display_name && (r = (0, g.Xx)("#Installer_CancellingApp", n.display_name)), a.createElement(ab, null, a.createElement(i.Ac, null, a.createElement("div", { className: $E().InstallingText }, r), a.createElement(zi.V, { className: $E().Throbber, size: "medium", position: "center" }))) } var ib = n(88602); n(7670); const lb = "FocusNavHistoryID"; function sb() { const e = (0, oe.k6)(), t = a.useRef(), n = (0, oe.TH)(), r = n.state && n.state.FocusNavHistoryID, o = a.useRef(); return a.useLayoutEffect((() => { if (!t.current) return; const n = t.current; return n.Node().Tree.Controller.FocusChangedCallbacks.Register(((t, a, r) => { const i = e.location; let l = i.state && i.state.FocusNavHistoryID; l || (l = `State_${i.key}`, o.current = l, e.replace(i.pathname, Object.assign(Object.assign({}, i.state), { [lb]: l }))), o.current == l && n.SaveState(l) })).Unregister }), [e]), a.useEffect((() => { if (t.current && o.current != r) { const e = t.current.NavTree().DeferredFocus; e.SuppressFocus(); const n = window.setTimeout((() => { let n = t.current.RestoreState(r, 1); n ? e.Reset() : e.ExecuteQueuedFocus(), o.current = r }), 2); return () => { window.clearTimeout(n), e.ExecuteQueuedFocus() } } }), [r, e]), t } const cb = (0, Q.Pi)((function () { const e = (0, oe.TH)(); let t = e.pathname.startsWith(o.Z5.GamepadUI.Chat()); const n = (0, pe.xY)(), r = sb(); return a.createElement(a.Fragment, null, a.createElement(Y.s, { className: GE().AppDetailsMain, navRef: r }, n && a.createElement(oo.PM, null), a.createElement(kt.d, null), a.createElement(mt.S, { errorKey: e.key }, a.createElement(BE, null), n && a.createElement(oo.qL, { visible: t })), a.createElement(mb, null), a.createElement(ub, null))) })); function mb() { return a.createElement(mt.S, null, a.createElement(rn, null), a.createElement(eb, null), a.createElement(tn, null), a.createElement(Ne.d0, null)) } function ub() { const e = parseInt(GE().OverlayTransitionDurationMS), t = (0, o.xI)(), n = (0, o.zr)(), [r, i] = a.useState(!1), l = a.useRef(); (0, M.cp)(l, !!t); const s = a.useCallback((() => { i(!0) }), []), c = a.useCallback((() => { n(), i(!1) }), [n]), m = { enter: GE().OverlayAppDetailsTransitionEnter, enterActive: GE().OverlayAppDetailsTransitionEnterActive, enterDone: GE().OverlayAppDetailsTransitionEntered, exit: GE().OverlayAppDetailsTransitionExit, exitActive: GE().OverlayAppDetailsTransitionExitActive }, u = !J.g4.BLowPerfMode(); return a.createElement(M.Fe, { NavigationManager: T.hq.NavigationManager, navID: "PartnerEventOverlayContainer", navTreeRef: l, onCancelButton: s, secondary: !0 }, a.createElement("div", { className: GE().PartnerEventOverlayContainer }, a.createElement(op.Z, { in: !r && !!t, appear: u, enter: u, exit: u, classNames: m, timeout: e, onExited: c }, a.createElement("div", { className: GE().TransitionWrapper }, a.createElement(ib.$, { onClose: s, showAppIcon: !0, appid: null == t ? void 0 : t.appid, initialEventID: null == t ? void 0 : t.eventid, additionalParams: null == t ? void 0 : t.additionalParams }))))) } var db = n(61992), pb = n.n(db), _b = n(15522), gb = n.n(_b); const hb = a.memo((function (e) { const { VirtualKeyboardManager: t, bQuickAccessFooter: n } = e, r = (0, _n.oL)(t), o = (0, d.SZ)((() => T.hq.BShowFooter())); return (0, mo.Mw)(), o || n ? a.createElement("div", { id: "Footer", className: (0, k.Z)(gb().BasicFooter, r && gb().WithKeyboard, n && gb().QuickAccessFooter), onTouchStart: e => e.preventDefault(), onTouchEnd: e => e.preventDefault(), onMouseMove: e => e.preventDefault(), onMouseDown: e => e.preventDefault() }, a.createElement(Eb, { minimal: n })) : null })), vb = { [st.FX.HomeMenu]: "#ActionButtonLabelMenu", [st.FX.A]: "#ActionButtonLabelSelect", [st.FX.B]: "#ActionButtonLabelBack" }; function Sb(e) { return (0, io.F7)() ? a.createElement("div", null, (0, g.Xx)("#Devkit_Unsupported_Footer")) : null } const Eb = e => { const { minimal: t } = e, n = [st.FX.HomeMenu, st.FX.A, st.FX.B], r = Object.values(st.FX).filter((e => "number" == typeof e)).filter((e => -1 == n.indexOf(e))); return a.createElement("div", { className: gb().FooterLegend }, a.createElement(bb, { minimal: t, button: st.FX.HomeMenu }), a.createElement("div", { className: gb().Spacer }, a.createElement(Sb, null)), r.map((e => a.createElement(bb, { key: e, minimal: t, button: e }))), a.createElement(bb, { minimal: t, button: st.FX.A }), a.createElement(bb, { minimal: t, button: st.FX.B })) }; function bb(e) { return (0, st.EQ)(e.button) ? e.minimal && e.button == st.FX.HomeMenu || e.minimal && e.button == st.FX.B && st.Dg.Instance().IsDefaultAction(e.button) ? null : a.createElement("div", { className: gb().Item }, a.createElement(Qg.a, { button: e.button })) : null } var Cb = n(4321), yb = n.n(Cb), fb = n(36254), Ab = n(63685), Ib = n.n(Ab), kb = n(72554), wb = n(24001), Nb = n(14966), Tb = n(78753); function xb(e) { return `favoriteguides_${e}` } function Db(e) { return `guidedetails_${e}` } function Fb(e) { return `guidesubsections_${e}` } function Gb(e) { return `guidefavorite_${e}` } function Bb(e) { return `guidevotestatus_${e}` } function Lb(e) { return `publishedfiledetailsforbbcode_${e}` } function Rb(e, t) { return (0, bl.useQuery)([xb(e), t], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield function (e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { let n = { page: t, totalpages: 0, publishedfiledetails: [] }; if (0 == e) return n; let a = Xa.gA.Init(Tb.AO); a.Body().set_steamid(gh.kv.CMInterface.steamid.ConvertTo64BitString()), a.Body().set_type("myfavorites"), a.Body().set_page(t), a.Body().set_numperpage(5), a.Body().set_sortmethod("subscriptiondate"), a.Body().set_privacy(30), a.Body().set_appid(e), a.Body().set_filetype(11), a.Body().set_strip_description_bbcode(!0), a.Body().set_return_vote_data(!0); let r = yield Tb.vx.GetUserFiles(gh.kv.CMInterface.GetServiceTransport(), a); if (1 == r.GetEResult()) { const e = r.Body().toObject(); return n.publishedfiledetails = e.publishedfiledetails || [], n.totalpages = Math.ceil(e.total / 5), n } throw `Failed FetchFavoriteGuides { appid: ${e}, page: ${t} }` })) }(e, t) }))), { staleTime: 10 * re._H.PerMinute * 1e3 }) } function Pb(e, t) { return (0, bl.useQuery)([(n = e, `popularguides_${n}`), t], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield function (e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { let n = { page: t, totalpages: 0, publishedfiledetails: [] }; if (0 == e) return n; let a = Xa.gA.Init(Tb.Wb); a.Body().set_filetype(11), a.Body().set_appid(e), a.Body().set_query_type(3), a.Body().set_days(7), a.Body().set_page(t), a.Body().set_numperpage(10), a.Body().set_return_details(!0), a.Body().set_return_short_description(!0), a.Body().set_strip_description_bbcode(!0), a.Body().set_requiredtags([ue.De.LANGUAGE]), a.Body().set_return_vote_data(!0), a.Body().set_cache_max_age_seconds(re._H.PerDay); let r = yield Tb.vx.QueryFiles(gh.kv.CMInterface.GetServiceTransport(), a); if (1 == r.GetEResult()) { const e = r.Body().toObject(); return n.publishedfiledetails = e.publishedfiledetails || [], n.totalpages = Math.ceil(e.total / 10), n } throw `Failed FetchPopularGuides { appid: ${e}, page: ${t} }` })) }(e, t) }))), { staleTime: 1e3 * re._H.PerDay }); var n } function Ob(e, t) { return (0, bl.useQuery)([Db(t)], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield function (e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { let n = Xa.gA.Init(Tb.An); n.Body().set_publishedfileids([t]), n.Body().set_appid(e), n.Body().set_includeadditionalpreviews(!0), n.Body().set_includevotes(!0); let a = yield Tb.vx.GetDetails(gh.kv.CMInterface.GetServiceTransport(), n); if (1 == a.GetEResult()) { const e = a.Body().toObject(); if (e.publishedfiledetails.length > 0) return e.publishedfiledetails[0] } throw `Failed FetchGuideDetails { publishedfileid: ${t} }` })) }(e, t) }))), { staleTime: 1e3 * re._H.PerHour }) } function Mb(e) { return (0, bl.useQuery)([Fb(e)], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield function (e) { return (0, r.mG)(this, void 0, void 0, (function* () { let t = Xa.gA.Init(Tb.mV); t.Body().set_publishedfileid(e); let n = yield Tb.vx.GetSubSectionData(gh.kv.CMInterface.GetServiceTransport(), t); if (1 == n.GetEResult()) { const e = n.Body().toObject(); if (e.sub_sections) return e.sub_sections.sort(((e, t) => e.sort_order - t.sort_order)), e.sub_sections } throw `Failed FetchGuideSubSections { publishedfileid: ${e} }` })) }(e) }))), { staleTime: 1e3 * re._H.PerHour }) } function Hb(e) { return (0, bl.useQuery)([Lb(e)], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield function (e) { return (0, r.mG)(this, void 0, void 0, (function* () { if (!e) return null; let t = Xa.gA.Init(Tb.An); t.Body().set_publishedfileids([e]), t.Body().set_short_description(!0), t.Body().set_strip_description_bbcode(!0); let n = yield Tb.vx.GetDetails(gh.kv.CMInterface.GetServiceTransport(), t); if (1 == n.GetEResult()) { const e = n.Body().toObject(); if (e.publishedfiledetails.length > 0) return e.publishedfiledetails[0] } throw `Failed FetchPublishedFileDetailsForBBCode { publishedfileid: ${e} }` })) }(e) }))), { staleTime: 1e3 * re._H.PerHour }) } function Ub(e, t) { return (0, bl.useQuery)([Gb(t)], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield function (e, t) { return (0, r.mG)(this, void 0, void 0, (function* () { let n = Xa.gA.Init(Tb.M3); n.Body().set_appid(e), n.Body().set_publishedfileids([t]), n.Body().set_listtype(2), n.Body().set_workshopfiletype(9); const a = yield Tb.vx.AreFilesInSubscriptionList(gh.kv.CMInterface.GetServiceTransport(), n); if (a && 1 == a.GetEResult()) { const e = a.Body().toObject(); return e.files.length > 0 && e.files[0].inlist } throw `Failed FetchGuideIsFavorite { publishedfileid: ${t} }` })) }(e, t) }))), { staleTime: 1e3 * re._H.PerMinute }) } var Xb = n(9652), Vb = n(17762), Wb = n(73417), Zb = n(9880), zb = n(28341); function qb(e) { let { app: t, bVisible: n } = e, r = (0, d.SZ)((() => kb.kH.GetSelectedGuide(t.appid))), [o, i] = a.useState(0), l = a.useRef(), s = a.useCallback((() => (kb.kH.SetSelectedGuide(t.appid, null), i(o + 1), !0)), [t.appid, o, i]), c = a.useCallback((e => { var n; null === (n = l.current) || void 0 === n || n.PushState(), kb.kH.SetSelectedGuide(t.appid, e) }), [t.appid]); return a.useEffect((() => { var e; l.current && (null === (e = l.current) || void 0 === e || e.PopState()) }), [o]), n ? a.createElement(Y.s, { retainFocus: !0, className: zb.OverlayGuides, navRef: l }, r && a.createElement(dC, { appid: t.appid, publishedfileid: r, onClose: s }), !r && a.createElement(Kb, { app: t, onActivateGuide: c })) : null } function Kb(e) { let { app: t, onActivateGuide: n } = e; return a.createElement(Y.s, { className: zb.OverlayGuidesHome }, a.createElement(jb, { app: t }), a.createElement(Qb, { type: "Favorites", title: (0, g.Xx)("#AppOverlay_Guides_Favorites"), appid: t.appid, onActivateGuide: n, useGuidesQuery: Rb, childComponentType: rC }), a.createElement(Qb, { type: "Popular", title: (0, g.Xx)("#AppOverlay_Guides_Popular"), appid: t.appid, onActivateGuide: n, useGuidesQuery: Pb, childComponentType: oC })) } const jb = e => a.createElement("div", { className: zb.GuidesHomeHeader }, a.createElement("div", { className: zb.AppName }, e.app.display_name), a.createElement("div", { className: zb.GuidesHomeHeaderDesc }, (0, g.Xx)("#AppOverlay_Guides_Desc", e.app.display_name))); function Qb(e) { const { type: t, title: n, className: r, childComponentType: o, appid: l, onActivateGuide: s, useGuidesQuery: c } = e, m = o; let [u, d] = (0, dt.i4)(`${t}_${l}_page`, 1), p = c(l, u), _ = p.data, h = p.isSuccess && (_.totalpages > 1 || u > _.totalpages); const v = a.useCallback((e => { if (p.isSuccess) { let t = p.data, n = u + e; n >= 1 && n <= t.totalpages && d(n) } }), [u, d, p]); return a.createElement(Y.s, { navKey: t, "flow-children": "column", className: (0, k.Z)(zb.GuideList, r) }, a.createElement(Y.s, { className: zb.Header }, a.createElement(Yb, null, n), p.isSuccess && a.createElement(Y.s, { className: (0, k.Z)(!h && zb.Hidden, zb.PagingControls), fnCanTakeFocus: () => h }, a.createElement(i.zx, { className: zb.PagingButton, onClick: () => v(-1), disabled: u <= 1, focusable: u > 1 }, "<"), a.createElement("div", { className: zb.PageNumber }, _.page, " / ", Math.max(_.totalpages, 1)), a.createElement(i.zx, { className: zb.PagingButton, onClick: () => v(1), disabled: u >= _.totalpages, focusable: u < _.totalpages }, ">"))), p.isLoading && a.createElement(Y.s, { focusable: !0 }, a.createElement(ge.t, { showFooter: !0 })), !p.isSuccess && !p.isLoading && a.createElement(Y.s, { className: zb.LoadingGuidesError, focusable: !0 }, (0, g.Xx)("#AppOverlay_Guides_Error")), p.isSuccess && !p.isLoading && 0 == _.totalpages && a.createElement(Y.s, { className: zb.NoGuides, focusable: !0 }, (0, g.Xx)("#AppOverlay_Guides_None")), p.isSuccess && _.publishedfiledetails.map((e => a.createElement(m, { navKey: `${t}_${e.publishedfileid}`, key: e.publishedfileid, details: e, onActivateGuide: s })))) } const Yb = e => a.createElement("div", { className: zb.ListTitle }, e.children); function Jb(e) { const { details: t, onActivateGuide: n } = e, o = (0, r._T)(e, ["details", "onActivateGuide"]); return 1 != t.result ? null : a.createElement(Y.s, Object.assign({ focusable: !0, className: zb.GuideListItemBase }, o, { onActivate: () => n(t.publishedfileid) }), a.createElement("div", { className: zb.Container }, a.createElement("div", { className: zb.Media }, a.createElement(nC, { details: t })), a.createElement("div", { className: zb.Content }, a.createElement(aC, { className: zb.GuideContent }, a.createElement(Y.s, { style: { display: "flex", flexDirection: "row", justifyContent: "space-between" } }, a.createElement($b, null, t.title), a.createElement(gC, { details: t })), a.createElement(eC, { steamid: t.creator }), a.createElement(tC, null, t.short_description + (256 == t.short_description.length ? "..." : "")))))) } const $b = e => a.createElement("div", { className: zb.GuideTitle }, e.children), eC = e => { let t = (0, d.SZ)((() => K.i8.GetFriendState(new j.K(e.steamid)).displayName)); return a.createElement("div", { className: zb.GuideAuthor }, (0, g.Xx)("#AppOverlay_Guides_Author", t)) }, tC = e => a.createElement("div", { className: zb.GuideDescription }, e.children), nC = e => a.createElement(sc.J, { className: (0, k.Z)(e.className, zb.GuideImage), srcs: [e.details.preview_url + (0, Zb.LE)(128, 128)] }), aC = e => a.createElement("div", { className: (0, k.Z)(zb.VerticalContent, e.className) }, e.children); function rC(e) { const { details: t, onActivateGuide: n } = e, o = (0, r._T)(e, ["details", "onActivateGuide"]); return a.createElement(Jb, Object.assign({ details: t, onActivateGuide: n }, o)) } function oC(e) { const { details: t, onActivateGuide: n } = e, o = (0, r._T)(e, ["details", "onActivateGuide"]); return a.createElement(Jb, Object.assign({ details: t, onActivateGuide: n }, o)) } function iC(e) { const { text: t, details: n } = e, r = a.useMemo((() => new Map([...Array.from(Wb.Be), ...Array.from(Wb.YY), ["img", { Constructor: lC, autocloses: !1 }], ["previewimg", { Constructor: cC, autocloses: !1, skipFollowingNewline: !0 }], ["previewicon", { Constructor: cC, autocloses: !1 }], ["screenshot", { Constructor: mC, autocloses: !1 }], ["publishedfile", { Constructor: uC, autocloses: !1 }]])), []), o = a.useCallback((e => new Vb.So(new Vb.LT, 0)), []), i = a.useRef(); i.current || (i.current = new Xb.Z6(r, o)); return i.current.ParseBBCode(t, { details: n }) } function lC(e) { var t; const n = null === (t = e.children) || void 0 === t ? void 0 : t.toString(); return n ? a.createElement("img", { src: n }) : null } function sC(e) { let t = "", n = [zb.SharedFilePreviewImage]; return e.forEach((e => { switch (e) { case "sizeThumb": n.push(zb.SizeThumb); break; case "sizeFull": case "full": n.push(zb.SizeFull); break; case "sizeOriginal": case "original": n.push(zb.SizeOriginal); break; case "floatLeft": n.push(zb.FloatLeft); break; case "floatRight": n.push(zb.FloatRight); break; case "inline": break; case "leftthumb": n.push(zb.SizeThumb), n.push(zb.FloatLeft), t = "512x0.resizedimage"; break; case "rightthumb": n.push(zb.SizeThumb), n.push(zb.FloatRight), t = "512x0.resizedimage" } })), { cssClassNames: (0, k.Z)(...n), extension: t } } function cC(e) { var t; let n = e.context.details, r = Wb.im(e.args), o = null == r ? void 0 : r.split(";"); if (!o || o.length < 2) return null; let i = o[0], l = sC(o[1].split(",")), s = function (e, t) { for (let n = 0; n < t.previews.length; ++n) { let a = t.previews[n]; if (a.previewid == e) return a.url } return "" }(i, n), c = null === (t = e.children) || void 0 === t ? void 0 : t.toString(); return a.createElement("img", { className: l.cssClassNames, src: s + l.extension, title: c }) } function mC(e) { var t; let n = Wb.im(e.args), r = null == n ? void 0 : n.split(";"); if (!r || r.length < 2) return null; let o = r[0], i = sC(r[1].split(",")), l = r[2].replace(".steampowered.com", ".steamusercontent.com").replace("http://", "https://"); l.startsWith("https://") || (l = "https://" + l); let s = null === (t = e.children) || void 0 === t ? void 0 : t.toString(), c = q.de.BuildSteamURL("CommunityFilePage", o); return a.createElement(M.IS, { href: c }, a.createElement("img", { className: i.cssClassNames, src: l + i.extension, title: s })) } function uC(e) { let t = Wb.im(e.args), n = null == t ? void 0 : t.split(";"), r = 1 == (null == n ? void 0 : n.length) ? n[0] : null, o = Hb(r); if (!o.isSuccess || !o.data) return null; const i = o.data, l = q.de.BuildSteamURL("CommunityFilePage", r); return a.createElement(M.IS, { href: l }, a.createElement(nC, { details: i }), a.createElement(Y.s, null, i.title), a.createElement(Y.s, null, i.short_description)) } function dC(e) { const { appid: t, publishedfileid: n, onClose: r } = e; let o = Ob(t, n), i = Mb(n), l = a.useRef(new Map); const s = a.useCallback(((e, t) => { l.current.set(e, t) }), []), c = a.useCallback((e => { var t; null === (t = $.on.Get()) || void 0 === t || t.ReopenPreModalSideMenu(); let n = l.current.get(e); n && n.TakeFocus() }), [l]); a.useCallback((e => { const t = a.createElement(_t.xV, null, a.createElement(_t.Zo, { onSelected: () => c("overview") }, (0, g.Xx)("#AppOverlay_Guides_TOC_Overview")), i.data.map((e => a.createElement(_t.Zo, { key: e.sectionid, onSelected: () => c(e.sectionid) }, a.createElement(iC, { text: e.title, details: o.data }))))); (0, it.yV)(t, e) }), [o.data, i.data, c]); return a.createElement(Y.s, { className: zb.GuideDetails, onCancelButton: r, retainFocus: !0, focusableIfNoChildren: !0 }, (o.isLoading || i.isLoading) && a.createElement(Y.s, { noFocusRing: !0, focusable: !0, style: { height: "100%" } }, a.createElement(ge.t, { showFooter: !0 }, (0, g.Xx)("#AppOverlay_Guides_Loading"))), o.isSuccess && i.isSuccess && a.createElement(Y.s, { className: zb.GuideDetailsContainer }, a.createElement(he.z2, { name: "OverlayGuide_" + o.data.publishedfileid, className: zb.GuideSubSections, scrollPaddingTop: 20, scrollPaddingBottom: 20, scrollIntoViewType: ku.mz.NoTransform }, a.createElement(Y.s, { className: zb.GuideDetailsHeader, navRef: e => s("overview", e), focusable: !0, noFocusRing: !0 }, a.createElement(nC, { details: o.data }), a.createElement("div", null, a.createElement(Y.s, { className: zb.GuideDetailsTitle }, o.data.title), a.createElement(eC, { steamid: o.data.creator })), a.createElement("div", { style: { marginLeft: "auto" } }, a.createElement(gC, { details: o.data, bShowTotalRatings: !0 }))), a.createElement(hC, { details: o.data }), a.createElement(Y.s, { className: zb.GuideDetailsDesc }, a.createElement(iC, { text: o.data.file_description, details: o.data })), i.data.map((e => a.createElement(_C, { navRef: t => s(e.sectionid, t), key: e.sectionid, details: o.data, subSection: e })))), a.createElement(pC, { details: o.data, rgSubSections: i.data, onSelectSubsection: c }))) } function pC(e) { let { details: t, rgSubSections: n, onSelectSubsection: r } = e; return a.createElement(he.P8, { className: zb.TableOfContents }, a.createElement(Y.s, { key: "overview", className: zb.TOCEntry, onActivate: () => r("overview"), focusable: !0 }, (0, g.Xx)("#AppOverlay_Guides_TOC_Overview")), n.map((e => e.title.length > 0 ? a.createElement(Y.s, { key: e.sectionid, className: zb.TOCEntry, onActivate: () => r(e.sectionid), focusable: !0 }, a.createElement(iC, { text: e.title, details: t })) : null))) } function _C(e) { let { details: t, subSection: n, navRef: r } = e; return a.createElement(Y.s, { className: zb.SubSection }, a.createElement(Y.s, { className: zb.SubSectionTitle, navRef: r, focusable: !0, noFocusRing: !0 }, a.createElement(iC, { text: n.title, details: t })), a.createElement(Y.s, { className: zb.SubSectionDesc }, a.createElement(iC, { text: n.description_text, details: t }))) } function gC(e) { let { details: t, bShowTotalRatings: n } = e, r = t.vote_data.votes_up + t.vote_data.votes_down, o = Math.ceil(5 * t.vote_data.score), i = r >= 25, s = []; for (let e = 0; e < 5; ++e)s.push(e + 1 <= o && i ? a.createElement(l.Uxw, { className: zb.UGCRatingStar }) : a.createElement(l.vw5, { className: zb.UGCRatingStar })); return a.createElement("div", { className: zb.UGCRating }, a.createElement("div", { className: zb.UGCRatingStars }, ...s), a.createElement("div", { className: zb.UGCTotalRatings }, n && i && (0, g.Xx)("#AppOverlay_Guides_TotalRatings", r), n && !i && (0, g.Xx)("#AppOverlay_Guides_TotalRatings_NotEnough"))) } function hC(e) { let { details: t } = e; return a.createElement(Y.s, { className: zb.UGCControls }, a.createElement(vC, { nAppID: t.consumer_appid, publishedfileid: t.publishedfileid }), a.createElement(SC, { nAppID: t.consumer_appid, publishedfileid: t.publishedfileid })) } function vC(e) { var t, n; let { nAppID: o, publishedfileid: s } = e, c = function (e) { return (0, bl.useQuery)([Bb(e)], (() => (0, r.mG)(this, void 0, void 0, (function* () { return yield (0, wb.Ry)([e]) }))), { staleTime: re._H.PerMinute }) }(s), m = c.isSuccess && c.data && (null === (t = c.data.get(s)) || void 0 === t ? void 0 : t.vote) == wb.Mo.Up, u = c.isSuccess && c.data && (null === (n = c.data.get(s)) || void 0 === n ? void 0 : n.vote) == wb.Mo.Down; const d = a.useCallback((e => { c.isSuccess && function (e, t) { (0, r.mG)(this, void 0, void 0, (function* () { let n = new Map; n.set(e, { vote: t, bReported: !1 }), Nb.U.setQueryData(Bb(e), n); let a = yield (0, wb.Y)(e, t); if (1 == a) return Nb.U.invalidateQueries(Bb(e)), a; throw `Failed VoteOnGuide { publishedfileid: ${e} }` })) }(s, e) }), [c, s]); return a.createElement(a.Fragment, null, a.createElement(i.zx, { className: (0, k.Z)(zb.UGCButton, zb.VotingButton), onClick: () => d(wb.Mo.Up) }, a.createElement(l.VwZ, { className: (0, k.Z)(zb.VoteIcon, m ? zb.ThumbsUpColor : "") })), a.createElement(i.zx, { className: (0, k.Z)(zb.UGCButton, zb.VotingButton), onClick: () => d(wb.Mo.Down) }, a.createElement(l.LXC, { className: (0, k.Z)(zb.VoteIcon, u ? zb.ThumbsDownColor : "") }))) } function SC(e) { let { nAppID: t, publishedfileid: n } = e, o = Ub(t, n), l = o.isSuccess && o.data; const s = a.useCallback((() => { o.isSuccess && function (e, t, n) { (0, r.mG)(this, void 0, void 0, (function* () { let a; if (n) { let n = Xa.gA.Init(Tb.sc); n.Body().set_publishedfileid(t), n.Body().set_list_type(2), n.Body().set_appid(e), a = yield Tb.vx.Subscribe(gh.kv.CMInterface.GetServiceTransport(), n) } else { let n = Xa.gA.Init(Tb.I$); n.Body().set_publishedfileid(t), n.Body().set_list_type(2), n.Body().set_appid(e), a = yield Tb.vx.Unsubscribe(gh.kv.CMInterface.GetServiceTransport(), n) } 1 == a.GetEResult() && (Nb.U.setQueryData(Gb(t), n), Nb.U.invalidateQueries(xb(e))) })) }(t, n, !o.data) }), [o, t, n]); return a.createElement(i.zx, { className: zb.UGCButton, onClick: s }, (0, g.Xx)(l ? "#AppOverlay_Guides_Favorites_Remove" : "#AppOverlay_Guides_Favorites_Add")) } function EC(e) { let { app: t, menuOpen: n } = e, r = function (e) { let [t, n] = a.useState(!1); return a.useEffect((() => { let t = e => { n(!0) }, a = va.d.RegisterForAppData(e, t); return () => a.unregister() }), [e, n]), t }(t.appid), o = (0, kb.QP)(), i = function (e) { let t = a.useRef(); return a.useEffect((() => { e == kb.Un.Menu && t.current && t.current.scrollTo({ left: 0, top: 0, behavior: "smooth" }) }), [t, e]), t }(o); const l = a.useRef(); if (!r) return null; let s = (0, k.Z)(Ib().MainMenuAppRunning, o != kb.Un.Menu && Ib().Collapsed, n && Ib().MenuOpen); return a.createElement("div", { className: (0, k.Z)(Ib().ScrollMask, o == kb.Un.Controller && Ib().HideMask) }, a.createElement(Y.s, { ref: i, className: s, scrollIntoViewType: ku.mz.NoTransform, resetNavOnEntry: !0 }, a.createElement(CC, { app: t, navRef: l }), a.createElement(wC, { onCancel: () => { var e; return null === (e = l.current) || void 0 === e ? void 0 : e.TakeFocus() } }, a.createElement(TC, { app: t }), a.createElement(xC, { app: t }), a.createElement(DC, { app: t })))) } function bC(e) { var t; let { app: n } = e, r = 2 === (null === (t = n.local_per_client_data) || void 0 === t ? void 0 : t.display_status), [o, i] = fC(n), l = (0, d.SZ)((() => T.hq.GetAppWindowIDs(n.appid))), s = (0, d.SZ)((() => T.hq.GetAppFocusedWindowID(n.appid))), [u, p] = a.useState(null), _ = (0, m.e1)(c.BO.Get().GetCurrentlyFocusedAppidSubscribableValue()); a.useEffect((() => { let e = Array.from(l.values()); SteamClient.System.UI.GetGameWindowsInfo(n.appid, e).then((e => { let t = new Map(e.map((e => [e.windowid, e]))); p(t) }), (e => { console.log("Window titles fail: ", e) })) }), [_, n.appid, l, p]); let h = []; return l.forEach(((e, t) => { var a; const i = () => { T.hq.SetFocusedAppWindowID(n.appid, e) }; let l = null == u ? void 0 : u.get(e); if (l && (l.strTitle || r)) { let r = e == s || 0 == t && 0 == s, c = { strLabel: null !== (a = l.strTitle) && void 0 !== a ? a : "", bActive: r, bDisabled: o, fnAction: i }; l.bCanClose && (c.fnSecondaryAction = () => { SteamClient.System.UI.CloseGameWindow(n.appid, e) }, c.strSecondaryActionLabel = (0, g.Xx)("#AppOverlay_CloseWindow")), h.push(c) } })), h.length <= 1 && !r ? null : a.createElement(a.Fragment, null, a.createElement("div", { className: Ib().NavigationMenuItemSeparator }), a.createElement(Y.s, { className: (0, k.Z)(Ib().NavigationMenuItem, Ib().SwitchAppsTitle), focusable: !1 }, (0, g.Xx)("#AppOverlay_SwitchWindows")), h.map((e => a.createElement(kC, { className: Ib().SelectableAppWindow, key: e.strLabel, text: e.strLabel, active: e.bActive, disabled: e.bDisabled, onActivate: e.fnAction, onSecondaryButton: e.fnSecondaryAction, onSecondaryActionDescription: e.strSecondaryActionLabel })))) } function CC(e) { let { app: t, navRef: n } = e, r = function (e) { let t = (0, J.UK)(e.appid); return a.useCallback((() => { t(), T.hq.CloseSideMenus() }), [t]) }(t), o = yC(t), i = (0, d.SZ)((() => kb.kH.GetSelectedNavEntry())), l = AC(kb.FY.Achievements), s = AC(kb.FY.Controller), c = AC(kb.FY.Guides), [m, u] = fC(t); const p = (0, va.i)(t.appid); let _; a.useEffect((() => { t != kb.kH.GetFocusedApp() && kb.kH.SetSelectedNavEntry(kb.FY.Controller) }), [t]), _ = T.hq.BIsStreamingRemotePlayTogetherGame(t.appid) ? "#AppOverlay_StopStreaming" : m ? "#AppOverlay_ExitingGame" : "#AppOverlay_ExitGame"; let h = [{ strLabel: (0, g.Xx)("#AppOverlay_Resume"), bDisabled: m, fnAction: o }]; h.push({ strLabel: (0, g.Xx)("#AppOverlay_ControllerSettings"), bDisabled: !1, bActive: i == kb.FY.Controller, fnAction: s }), h.push({ strLabel: (0, g.Xx)("#AppOverlay_GameDetails"), bDisabled: !1, fnAction: r }), p && p.achievements.nTotal > 0 && h.push({ strLabel: (0, g.Xx)("#AppOverlay_Achievements"), bDisabled: !1, bActive: i == kb.FY.Achievements, fnAction: l }), h.push({ strLabel: (0, g.Xx)("#AppOverlay_Guides"), bDisabled: !1, bActive: i == kb.FY.Guides, fnAction: c }), h.push({ strLabel: (0, g.Xx)(_), bDisabled: m, fnAction: u }); let v = (0, kb.QP)(), S = (0, k.Z)(Ib().NavigationColumn, v == kb.Un.NavEntries && Ib().NavColumnFocused, v == kb.Un.Controller && Ib().ControllerColumnFocused), E = (0, kb.vc)(kb.Un.NavEntries); return a.createElement(Y.s, { className: S, "flow-children": "column", onFocusWithin: E, navRef: n }, a.createElement(si.A, { imageClassName: Ib().CurrentGameLogo, eAssetType: 2, app: t, backgroundType: "transparent" }), a.createElement(IC, null, h.map((e => a.createElement(kC, { key: e.strLabel, text: e.strLabel, disabled: e.bDisabled, active: e.bActive, onActivate: e.fnAction }))), a.createElement(bC, { app: t }))) } function yC(e) { return a.useCallback((() => { (0, ar.tt)("ResumeGameInProgress", e, "selected", 100)(), T.hq.CloseSideMenus(), kb.kH.SetSelectedNavEntry(kb.FY.Controller) }), [e]) } function fC(e) { let [t, n] = a.useState(!1), r = e.gameid, o = e.appid, i = a.useCallback((() => { let e = () => { var e; o == T.hq.MainRunningApp.appid && 1 == (null === (e = T.hq.MainRunningApp) || void 0 === e ? void 0 : e.display_status) && di.U6.CancelAllGameActions(), n(!0) }; t || (T.hq.BIsStreamingRemotePlayTogetherGame(o) ? (0, ar.Kj)(r, e) : (0, ar.Ny)(r, e)) }), [t, r, o]); return [t, i] } function AC(e) { return a.useCallback((() => { kb.kH.SetFocusedColumn(kb.Un.Controller), kb.kH.SetSelectedNavEntry(e) }), [e]) } function IC(e) { return a.createElement(Y.s, { className: Ib().NavigationBox, "flow-children": "column" }, e.children) } function kC(e) { let { className: t, text: n, disabled: o, active: i, onActivate: l } = e, s = (0, r._T)(e, ["className", "text", "disabled", "active", "onActivate"]), c = (0, k.Z)(t, Ib().NavigationMenuItem, o && Ib().Disabled, i && Ib().Active); return a.createElement(Y.s, Object.assign({ className: c, onActivate: l }, s), i && a.createElement("div", { className: Ib().ActiveDot }), n) } function wC(e) { const { onCancel: t, children: n } = e, r = (0, kb.vc)(kb.Un.Controller), o = (0, kb.QP)(), i = (0, k.Z)(Ib().AppColumn, o == kb.Un.Controller && Ib().FocusedColumn); return a.createElement(Y.s, { className: i, focusable: !1, onFocusWithin: r, onCancelButton: t, scrollIntoViewWhenChildFocused: !0 }, n) } function NC(e, t) { const n = (0, kb.QP)(), r = (0, d.SZ)((() => kb.kH.GetSelectedNavEntry())) == e; a.useEffect((() => { var e; n == kb.Un.Controller && r && (null === (e = t.current) || void 0 === e || e.TakeFocus()) }), [t, n, r]) } function TC(e) { const { app: t } = e, n = a.useRef(), r = (0, d.SZ)((() => kb.kH.GetSelectedNavEntry())) == kb.FY.Controller, o = a.useCallback((() => r), [r]); NC(kb.FY.Controller, n); const i = T.hq.MostRecentlyActiveControllerIndex; return cr._A.EnsureEditingConfiguration(t.appid, i), a.createElement(Y.s, { className: (0, k.Z)(r && Ib().ActiveContent, Ib().AppColumnContent), navRef: n, fnCanTakeFocus: o }, a.createElement(ci.w, { inMainMenu: !0, appid: t.appid, controllerIndex: i })) } function xC(e) { const { app: t } = e, n = (0, va.i)(t.appid), r = a.useRef(), o = (0, d.SZ)((() => kb.kH.GetSelectedNavEntry())), i = (0, a.useRef)(), l = og(i, "0"), s = o == kb.FY.Achievements, c = a.useCallback((() => s), [s]); return NC(kb.FY.Achievements, r), n && 0 != n.achievements.nTotal ? a.createElement(Y.s, { className: (0, k.Z)(s && Ib().ActiveContent, Ib().AppColumnContent), navRef: r, fnCanTakeFocus: c }, a.createElement(ln.$x, { padForHeader: !1, minimumOpacity: 0, scrollable: !1, flexed: !0 }, a.createElement(he.P8, { className: Ib().OverlayAchievements, ref: i, scrollPaddingTop: 0, scrollIntoViewType: ku.mz.NoTransform }, a.createElement(Y.s, { "flow-children": "column", className: Ib().Container }, a.createElement(sg, { appid: t.appid, scrollTabsTop: l, autoFocus: !1 }))))) : null } function DC(e) { const { app: t } = e, n = a.useRef(), r = (0, d.SZ)((() => kb.kH.GetSelectedNavEntry())) == kb.FY.Guides, o = a.useCallback((() => r), [r]); return NC(kb.FY.Guides, n), a.createElement(Y.s, { className: (0, k.Z)(r && Ib().ActiveContent, Ib().AppColumnContent), navRef: n, fnCanTakeFocus: o }, a.createElement(ln.$x, { padForHeader: !1, minimumOpacity: 0, scrollable: !1, flexed: !0 }, a.createElement(he.YC, { name: "OverlayGuides_" + t.appid, className: Ib().OverlayGuides, scrollPaddingTop: 200, scrollPaddingBottom: 20, scrollIntoViewType: ku.mz.NoTransform }, a.createElement(qb, { app: t, bVisible: r })))) } const FC = a.memo((function (e) { (0, Ct.DC)(e.visible, "MainMenuBrowserView"); const t = a.useCallback((e => T.hq.NavigationManager.RegisterInputSource(e)), []), n = (0, H.Hm)(t, { title: "MainMenu" }); let r = (0, T.K6)(), o = function (e) { let t = parseInt(yb().mainMenuCloseDurationMS), n = a.useRef(!1), r = a.useRef(void 0), o = (0, m.NW)(), i = a.useCallback((() => { void 0 !== r.current && window.clearTimeout(r.current), r.current = void 0 }), [r]); a.useEffect((() => i), [i]); let l = a.useCallback((() => { n.current = !1, i(), o() }), [n, i, o]); n.current && !e ? void 0 === r.current && (r.current = window.setTimeout(l, t)) : (n.current = e, i()); return n.current }(e.visible); if (!n) return null; n.GetBrowserView().SetTouchGesturesToCancel([9, 10]); let i = T.hq.IsNewOverlapEnabled(), l = (0, k.Z)(yb().ViewPlaceholder, yb().Fullscreen); return a.createElement(bt, { appearance: "blur", visible: e.visible, onClick: () => { r && i || T.hq.CloseSideMenus() }, zIndex: 4e3 }, a.createElement(H.z4, { className: l, browser: n.GetBrowserView(), visible: o }), R.createPortal(a.createElement(RC, { bLoggedIn: e.loggedIn, open: e.visible, onFocusNavActivated: () => { n.GetBrowserView().SetFocus(!0), n.GetBrowserView().SetTopWindow() }, onFocusNavDeactivated: () => { n.GetBrowserView().SetFocus(!1), T.hq.GetOpenSideMenu() == T.MA.Main && T.hq.CloseSideMenus() } }), n.GetRenderElement())) })); function GC(e) { const { label: t, action: n, active: o, blocked: i, className: l, children: s } = e, c = (0, r._T)(e, ["label", "action", "active", "blocked", "className", "children"]); let m = (0, k.Z)(l, yb().Item, o && yb().Active, i && yb().Blocked), u = i ? void 0 : n; return a.createElement("div", { className: yb().ItemOuter }, a.createElement(Y.s, Object.assign({ className: m, onClick: u, onActivate: u }, c, { preferredFocus: o }), o && a.createElement("div", { className: yb().ActiveDot, style: { width: "10px", height: "50%" } }), a.createElement("div", { className: yb().ItemIcon }, s), a.createElement(Sr.R, { className: yb().ItemLabel }, t))) } function BC(e) { const { route: t, routeState: n, label: o, exactRouteMatch: i } = e, l = (0, r._T)(e, ["route", "routeState", "label", "exactRouteMatch"]), s = !!(0, oe.$B)({ path: t, exact: i }), c = (0, fb.QU)(t); let m = (0, oe.k6)(), u = a.useCallback((() => OC(m, t, n)), [m, t, n]); return a.createElement(GC, Object.assign({ active: s, blocked: c, label: o, action: u }, l)) } function LC(e) { var t; let { app: n } = e, r = (0, oe.k6)(); const i = (null === (t = T.hq.MainRunningApp) || void 0 === t ? void 0 : t.appid) == n.appid; let l = yC(n); const s = a.useCallback((() => OC(r, o.Z5.GamepadUI.AppOverlay.AppActions())), [r]), c = !!(0, oe.$B)({ path: o.Z5.GamepadUI.AppRunning(), exact: !0 }) && i; let m = a.useCallback((() => kb.kH.SetFocusedApp(n)), [n]), u = T.hq.IsNewOverlapEnabled() ? l : s; return a.createElement(GC, { active: c, action: u, label: e.app.display_name, onFocus: m }, a.createElement(si.A, { app: e.app, eAssetType: 4, className: yb().RunningAppIcon })) } function RC(e) { const { bLoggedIn: t, open: n, onFocusNavActivated: r, onFocusNavDeactivated: o } = e, i = a.useRef(), l = a.useRef(); (0, M.cp)(l, e.open, !0); let s = (0, kb.JJ)(), c = (0, kb.QP)() != kb.Un.Menu; a.useEffect((() => { c && i.current.scrollTo(0, 0) }), [c]), T.hq.IsNewOverlapEnabled() || (s = null, c = !1); let m = (0, k.Z)("BasicUI", yb().Container, n && yb().Open); return a.createElement(M.Fe, { ref: i, navID: "MainNavMenuContainer", NavigationManager: T.hq.NavigationManager, secondary: !0, navTreeRef: l, onActivated: r, onDeactivated: o, className: m, onCancelButton: () => (T.hq.CloseSideMenus(), !0) }, a.createElement(Ee.e, { NavigationManager: T.hq.NavigationManager }, a.createElement(PC, { loggedIn: t, menuOpen: n }), s && a.createElement(EC, { app: s, menuOpen: n }))) } function PC(e) { let { loggedIn: t, menuOpen: n } = e, r = function (e) { let t = a.useRef(); const n = (0, dt.H7)(o.Z5.GamepadUI.AppRunning()); let r = (0, kb.QP)(); return a.useEffect((() => { r == kb.Un.Menu && e && n && t.current.TakeFocus() }), [t, e, n, r]), t }(n), i = (0, T.g)(); !function (e, t) { let n = a.useRef(!1); const r = 36, o = 300; a.useEffect((() => () => { T.hq.IsNewOverlapEnabled() && n.current && SteamClient.Window.GamescopeBlur(!1, r, o) }), []); let i = !(0, d.SZ)((() => T.hq.IsUsingExternalDisplay())) && T.hq.IsNewOverlapEnabled() && e.length > 0 && t; i != n.current && (SteamClient.Window.GamescopeBlur(i, r, o), n.current = i) }(i, n); let s = (0, kb.y$)(); const c = (0, Do.q)(), m = T.hq.BIsInOOBE; let u = (0, k.Z)(yb().Menu, n && yb().Open, s && yb().Collapsed), p = a.useCallback((() => kb.kH.SetFocusedApp(null)), []), _ = (0, kb.vc)(kb.Un.Menu); return a.createElement(Y.s, Object.assign({ navRef: r, "flow-children": "column", className: u, onFocusWithin: _, navEntryPreferPosition: ku.c4.PREFERRED_CHILD }, lt.Qy), i.map((e => a.createElement(LC, { key: e.appid, app: e }))), i.length > 0 && a.createElement("div", { className: yb().RunnningAppSeparator }), t && a.createElement(BC, { route: o.Z5.Library.Home(), label: (0, g.Xx)("#MainTabsHome"), onFocus: p }, a.createElement(l.SK8, null)), !t && a.createElement(BC, { route: o.Z5.GamepadUI.Login(), label: (0, g.Xx)(m ? "#MainTabsOOBE" : "#MainTabsLogin"), onFocus: p }, a.createElement(l.SK8, null)), t && a.createElement(BC, { route: o.Z5.Library.Root(), exactRouteMatch: !0, label: (0, g.Xx)("#MainTabsLibrary"), onFocus: p }, a.createElement(l.Zu5, null)), t && a.createElement(BC, { route: o.Z5.GamepadUI.SteamWeb(), routeState: { url: q.de.GetStoreGreatOnDeckURL() }, label: (0, g.Xx)("#MainTabsStore"), onFocus: p }, a.createElement(l.yh4, null)), t && a.createElement(BC, { route: o.Z5.GamepadUI.Chat(), label: (0, g.Xx)("#MainTabsChat"), onFocus: p }, a.createElement(l._Oo, null)), t && a.createElement(BC, { route: o.Z5.Media.Root(), label: (0, g.Xx)("#MainTabsMedia"), onFocus: p }, a.createElement(l.ewM, null)), t && a.createElement(BC, { route: o.Z5.Downloads(), label: (0, g.Xx)("#MainTabsDownload"), onFocus: p }, a.createElement(l.UWx, null)), t && a.createElement(BC, { route: o.Z5.GamepadUI.Settings.Root(), label: (0, g.Xx)("#MainTabsSettings"), onFocus: p }, c ? a.createElement(l.ccg, null) : a.createElement(l.Zrf, null)), m && a.createElement(BC, { route: o.Z5.GamepadUI.Setup(), label: (0, g.Xx)("#Help"), onFocus: p }, a.createElement(l.WWB, null)), !t && a.createElement(BC, { route: o.Z5.GamepadUI.About(), label: (0, g.Xx)("#MainTabsAbout"), onFocus: p }, a.createElement(l.daM, null)), !1, a.createElement(GC, { action: MC, label: (0, g.Xx)("#Power"), onFocus: p }, a.createElement(l.cbb, null)), a.createElement("div", { className: yb().FooterBoxShadow })) } function OC(e, t, n) { e.push(t, Object.assign({ force: Math.random() }, n || {})), T.hq.CloseSideMenus() } function MC() { T.hq.OpenPowerMenu() } function HC() { return a.createElement(oo.Sd, null) } function UC() { return a.createElement(oo.Vh, null) } function XC() { return a.createElement(oo.Wp, null) } var VC = n(44735); function WC() { const e = (0, oe.k6)(), t = (0, a.useCallback)((() => { T.hq.CloseSideMenus(), e.push(o.Z5.Library.Home(), { bShowGuidedTour: !0 }) }), [e]), n = (0, d.SZ)((() => Wn.F.GetServicesInitialized())); return a.createElement(VC.cw, null, a.createElement(VC.Jc, null, a.createElement(i.sT, { layout: "below", bottomSeparator: "none", onClick: () => { T.hq.CloseSideMenus(), T.hq.NavigateToHelp() } }, (0, g.Xx)("#QuickAccess_Tab_Help_HelpSite"))), a.createElement(VC.Jc, null, a.createElement(i.sT, { layout: "below", bottomSeparator: "none", onClick: () => { T.hq.NavigateToStoreManual() } }, (0, g.Xx)("#QuickAccess_Tab_Help_ViewManual"))), a.createElement(VC.Jc, null, a.createElement(i.sT, { layout: "below", bottomSeparator: "none", onClick: () => { T.hq.NavigateToBugForum() } }, (0, g.Xx)("#QuickAccess_Tab_Help_ReportABug"))), n && a.createElement(VC.Jc, null, a.createElement(i.sT, { layout: "below", bottomSeparator: "none", onClick: t }, (0, g.Xx)("#QuickAccess_Tab_Help_ReplayTour")))) } var ZC = n(985), zC = n.n(ZC), qC = n(28875), KC = n(43987), jC = n.n(KC); function QC(e) { const t = (0, qC.Zb)(); if (!t.bHasBattery || t.flLevel > .1) return null; let n = Math.floor(100 * t.flLevel), r = n < 4, o = (0, k.Z)(jC().LowBattery, r && jC().ReallyLow); return a.createElement("div", { className: o }, a.createElement(l.ks1, { className: jC().LowBatteryGauge }), a.createElement("div", { className: jC().Text }, (0, g.Xx)("#QuickAccess_Tab_Notifications_BatteryLow")), a.createElement("div", { className: jC().Remaining }, `${n}%`)) } function YC(e) { let t = (0, d.SZ)((() => ke.J.BSteamDeckHasLowDiskSpace())); const n = a.useCallback((() => { (0, we.SM)(0) }), []); if (!t) return null; const r = (0, g.Xx)("#ContentManagement_LowDiskSpaceNotification_Title"), o = (0, g.Xx)("#ContentManagement_LowDiskSpaceNotification_Body"), i = a.createElement(l.OOJ, null), s = a.createElement(l.daM, null); return a.createElement(Ge, { logo: i, icon: s, title: r, onActivate: n }, a.createElement(Oe, { multiline: !0 }, o)) } function JC() { const e = (0, d.SZ)((() => ce.tH.Get().GetControllers())).find((e => 4 == e.eControllerType)), t = (0, me.he)(null == e ? void 0 : e.strSerialNumber), n = a.useCallback((() => { T.hq.NavigateToAccount() }), []); if (!e || t) return null; const r = (0, g.Xx)("#Notification_SteamDeckRewards_Title"), o = (0, g.Xx)("#Notification_SteamDeckRewards_Body"), i = a.createElement(l.vrg, null), s = a.createElement(l.daM, null); return a.createElement(Ge, { logo: i, icon: s, title: r, onActivate: n }, a.createElement(Oe, { multiline: !0 }, o)) } function $C() { const e = (0, U.NX)(), t = void 0 !== (null == e ? void 0 : e.friend_invite_count) ? e.friend_invite_count : 0, n = t > 1 ? "#Notification_FriendInvitePinned_Body_Plural" : "#Notification_FriendInvitePinned_Body", r = (0, g.Xx)(n, t.toLocaleString()), o = a.createElement(l.yBp, null), i = a.useCallback((() => te.Pp.ShowInvitesDialog()), []), s = void 0 !== (null == e ? void 0 : e.new_comment_count) ? e.new_comment_count : 0, c = s > 1 ? "#Notification_NewCommentPinned_Body_Plural" : "#Notification_NewCommentPinned_Body", m = (0, g.Xx)(c, s.toLocaleString()), u = a.createElement(l.svY, null), d = a.useCallback((() => { let e = new j.K(K.i8.currentUserSteamID), t = `${ue.De.COMMUNITY_BASE_URL}profiles/${e.ConvertTo64BitString()}/commentnotifications`; T.hq.NavigateToSteamWeb(t) }), []); return a.createElement(a.Fragment, null, t > 0 && a.createElement(Be, { icon: o, body: r, onActivate: i }), s > 0 && a.createElement(Be, { icon: u, body: m, onActivate: d })) } function ey() { let e = (0, U.mw)().map((e => a.createElement(Fe, { key: e.notifications[0].nNotificationID, location: Ie.Tray, group: e, onDismiss: void 0 }))); return a.createElement(a.Fragment, null, a.createElement(QC, null), a.createElement(YC, null), a.createElement($C, null), a.createElement(JC, null), e, 0 == e.length && a.createElement(ty, null)) } function ty(e) { return a.createElement("div", { className: jC().EmptyNotifications }, (0, g.Xx)("#QuickAccess_Tab_Notifications_None")) } var ny = n(18614); function ay() { ce.tH.Get().GetControllers(); return a.createElement(VC.cw, { title: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Controller_Title") }, a.createElement(VC.Jc, null, a.createElement(Yh, null)), a.createElement(VC.Jc, null, a.createElement(Jh, null)), a.createElement(VC.Jc, null, a.createElement($h, { bShowIcon: !0 }))) } var ry = n(35660); function oy(e) { return a.createElement(VC.Jc, null, a.createElement(i.gN, { focusable: !0, icon: a.createElement(Hh, { type: e.device.eType, name: e.device.sName }), label: e.device.sName, childrenLayout: "inline", childrenContainerWidth: "min", padding: "compact", bottomSeparator: e.bottomSeparator })) } function iy() { const e = (0, sn.er)(), t = (0, d.SZ)((() => ce.tH.Get().GetControllers())), n = (0, ry.X)(), r = !T.hq.BIsInOOBE && 0 != t.length, o = (0, co.pl)(), c = (0, co.Xp)(), { rgPairedDevices: m } = Bh(), u = m.filter((e => e.bConnected)), p = wv(), _ = Tv(); return a.createElement(a.Fragment, null, a.createElement(VC.cw, { title: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Brightness_Title") }, a.createElement(VC.Jc, null, a.createElement(vo, { iconOnly: !0, padding: "compact" }))), a.createElement(VC.cw, { title: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Audio_Title") }, a.createElement(VC.Jc, null, a.createElement(G, { direction: s.HL.Output, padding: "compact" })), a.createElement(VC.Jc, null, a.createElement(G, { direction: s.HL.Input, padding: "compact" }))), a.createElement(VC.cw, { title: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Other_Title") }, n && a.createElement(VC.Jc, null, a.createElement(i.sT, { onClick: () => (0, ry.k)(), layout: "below", bottomSeparator: "none" }, (0, g.Xx)("#QuickAccess_ReorderControllers_Button"))), a.createElement(VC.Jc, null, a.createElement(i.fp, { checked: o, onChange: e => co.Mj.Get().SetAirplaneMode(e), label: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Shortcuts_AirplaneMode"), icon: a.createElement(l.$Yc, null), padding: "compact" })), a.createElement(VC.Jc, null, a.createElement(i.fp, { checked: e, onChange: e => sn.$u.Get().SetWifiEnabled(e), label: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Shortcuts_Wifi"), icon: a.createElement(l.ySi, null), padding: "compact" })), a.createElement(VC.Jc, null, a.createElement(Oh, { padding: "compact", label: (0, g.Xx)("#QuickAccess_Tab_Bluetooth_ToggleLabel") })), u.map(((e, t) => a.createElement(oy, { device: e, key: e.id, bottomSeparator: t < u.length ? "standard" : "none" }))), a.createElement(VC.Jc, null, a.createElement(i.fp, { checked: c, onChange: e => co.Mj.Get().SetNightModeEnabled(e), label: (0, g.Xx)("#QuickAccess_Tab_Settings_Section_Shortcuts_NightMode"), icon: a.createElement(l.KfV, null), padding: "compact" }))), r && a.createElement(ay, null), p && a.createElement(VC.cw, { title: _ }, a.createElement(VC.Jc, null, a.createElement(Gv, { concise: !0 })), a.createElement(VC.Jc, null, a.createElement(Fv, null)))) } function ly(e, t) { let n = 300 - 300 * t; return n *= 1, { x: e.x + n, y: e.y, width: e.width, height: e.height } } const sy = a.memo((function (e) { const t = (0, dt.H7)(o.Z5.GamepadUI.AppRunning()); (0, Ct.DC)(e.visible && !t, "QuickAccessMenuBrowserView"); const n = a.useCallback((e => T.hq.NavigationManager.RegisterInputSource(e)), []); let r = (0, H.Hm)(n, { title: "QuickAccess" }); if (!r) return null; r.GetBrowserView().SetTouchGesturesToCancel([9, 10]); const i = { nDuration: 300, fnStep: ly }; let l = t ? "transparent" : "darkblur", s = (0, k.Z)(zC().ViewPlaceholder, t && zC().FullHeight); return a.createElement(bt, { appearance: l, visible: e.visible, onClick: () => T.hq.CloseSideMenus(), zIndex: 4e3 }, a.createElement(H.z4, { className: s, browser: r.GetBrowserView(), visible: e.visible, animateIn: i }), R.createPortal(a.createElement(my, { visible: e.visible, showHeaderAndFooter: t, onFocusNavActivated: () => r.GetBrowserView().SetFocus(!0), onFocusNavDeactivated: () => { r.GetBrowserView().SetFocus(!1), T.hq.GetOpenSideMenu() == T.MA.QuickAccess && T.hq.CloseSideMenus() } }), r.GetRenderElement())) })); function cy(e) { return a.createElement("div", { className: zC().Title }, (0, g.Xx)(e.locId)) } function my(e) { const t = a.useRef(), n = a.useRef(), r = a.useRef(); var i, s; i = t, s = e.visible, a.useEffect((() => { const e = i.current; s ? e.Activate() : e.Deactivate() }), [s, i]); const c = () => (r.current.TakeFocus(), !0), m = () => (n.current.TakeFocus(), !0), u = (0, pe.xY)(), p = (0, T.HX)(), _ = u && !p, g = (0, te.rG)(), h = (0, te.Mb)(), v = (0, te.UK)(); let S = (0, T.E4)(), E = [(u && h || v) && { key: $.hG.VoiceChat, tab: a.createElement(l.Cq4, null), title: a.createElement(a.Fragment, null), panel: a.createElement(UC, null), className: zC().VoiceTab }, u && g && { key: $.hG.RemotePlayTogetherControls, tab: a.createElement(l.KKR, null), title: a.createElement(a.Fragment, null), panel: a.createElement(XC, null) }, u && { key: $.hG.Notifications, tab: a.createElement(l.Tx5, null), title: a.createElement(cy, { locId: "#QuickAccess_Tab_Notifications_Title" }), panel: a.createElement(ey, null) }, u && { key: $.hG.Friends, tab: a.createElement(l._Oo, null), title: a.createElement(a.Fragment, null), panel: a.createElement(HC, null), eFeature: 4 }, { key: $.hG.Settings, title: a.createElement(cy, { locId: "#QuickAccess_Tab_Settings_Title" }), tab: a.createElement(l.Zrf, null), panel: a.createElement(iy, null) }, _ && { key: $.hG.Perf, title: a.createElement(cy, { locId: "#QuickAccess_Tab_Perf_Title" }), tab: a.createElement(l.Xqc, null), panel: a.createElement(ny.qq, null), eFeature: 14 }, { key: $.hG.Help, title: a.createElement(cy, { locId: "#QuickAccess_Tab_Help_Title" }), tab: a.createElement(l.WWB, null), panel: a.createElement(WC, null), eFeature: 14 }].filter((e => !!e)); S = (0, d.SZ)((() => E.some((e => e.key == S && !fb.k5.BIsFeatureBlocked(e.eFeature))) ? S : E[0].key)); let b = (0, k.Z)("BasicUI", { [zC().Container]: !0, [zC().Open]: e.visible }), C = () => (T.hq.CloseSideMenus(), !0), y = (0, T.K6)(); const f = (0, oe.k6)(), A = a.useCallback((() => f.replace(o.Z5.GamepadUI.AppOverlay.Keyboard())), [f]); return a.useEffect((() => { c() }), [S]), a.createElement(M.Fe, { navID: "QuickAccess-NA", NavigationManager: T.hq.NavigationManager, secondary: !0, navTreeRef: t, onActivated: e.onFocusNavActivated, onDeactivated: e.onFocusNavDeactivated, autoFocus: !0, className: b, onCancelButton: c }, a.createElement(Ee.e, { NavigationManager: T.hq.NavigationManager }, a.createElement(Y.s, { id: "QuickAccess-Menu", className: (0, k.Z)(zC().QuickAccessMenu, e.showHeaderAndFooter && zC().HeaderAndFooterVisible), onClick: e => { e.stopPropagation(), e.preventDefault() } }, a.createElement("div", { className: zC().HeaderContainer }, a.createElement(Ct.h4, { quickAccessHeader: !0, visible: e.showHeaderAndFooter })), a.createElement(Y.s, { className: zC().Menu }, a.createElement(Y.s, { className: zC().Tabs, navRef: r, autoFocus: !0, focusable: !1, onCancel: C, onActivate: m, onMoveRight: m, navEntryPreferPosition: ku.c4.PREFERRED_CHILD }, a.createElement(dy, { tabs: E, activeTab: S }), y && a.createElement(Y.s, { className: zC().KeyboardButton, focusable: !0, onActivate: () => { A(), C() } }, a.createElement(l.Fo8, null))), a.createElement(Y.s, { className: zC().PanelOuterNav, onMoveLeft: () => (c(), !0), navRef: n }, a.createElement(_y, { tabs: E, activeTab: S }))), e.showHeaderAndFooter && a.createElement(hb, { VirtualKeyboardManager: T.hq.VirtualKeyboardManager, bQuickAccessFooter: !0 })), a.createElement("div", { className: zC().FooterBoxShadow }))) } function uy(e) { const { tab: t, selected: n } = e; let r = t.key; const o = (0, fb.lE)(t.eFeature), i = a.useCallback((() => { n ? console.log("Trying to change focus to already selected tab") : function (e) { T.hq.OpenQuickAccessMenu(e) }(r) }), [r, n]); if (!t) return null; const l = (0, k.Z)(zC().Tab, n && zC().Selected, o && zC().Blocked, t.className), s = o ? void 0 : i, c = n ? void 0 : s; return a.createElement(Y.s, { key: t.key.toString(), focusable: !o, className: l, onFocus: s, onActivate: c, preferredFocus: n }, t.tab) } function dy(e) { let { tabs: t, activeTab: n } = e, r = t.map((e => a.createElement(uy, { key: null == e ? void 0 : e.key.toString(), tab: e, selected: n == e.key }))); return a.createElement(Y.s, { className: zC().TabContentColumn, "flow-children": "column", preferredFocus: !0, navEntryPreferPosition: ku.c4.PREFERRED_CHILD }, r) } function py(e, t) { return e.findIndex((e => e.key == t)) } function _y(e) { let t = (0, e_.My)(e.tabs, e.activeTab, py, [e_.sk.Up, e_.sk.Down]), n = (0, k.Z)(zC().AllTabContents, t == e_.sk.Up ? zC().Up : zC().Down); return a.createElement("div", { className: n }, e.tabs.map((t => a.createElement(gy, { key: t.key.toString(), tab: t, activeTab: e.activeTab })))) } function gy(e) { let { tab: t, activeTab: n } = e, r = t.key == n, o = a.useCallback((() => r), [r]), i = parseInt(zC().TransitionMenuDelay); const l = { enter: zC().Enter, enterActive: zC().EnterActive, exit: zC().Exit, exitActive: zC().ExitActive }; return a.createElement(op.Z, { key: t.key.toString(), classNames: l, timeout: i, in: r }, a.createElement("div", { className: (0, k.Z)(zC().ContentTransition, r && zC().ActiveTab) }, t.title, a.createElement(he.P8, { className: zC().TabGroupPanel, fnCanTakeFocus: o, onMoveUp: lt.lb, onMoveDown: lt.lb }, a.createElement(Ee.e, null, t.panel)))) } const hy = (0, Q.Pi)((e => { const t = a.useRef(), n = T.hq.ActiveNavigationSourceType != Ut.Rr.MOUSE, r = (0, m.ok)(t), o = function () { const e = a.useRef({ x: 0, y: 0 }), t = a.useCallback((t => { e.current.x = t.clientX, e.current.y = t.clientY }), []); return (0, m.JI)(window, "mousemove", t), e }(); return a.useLayoutEffect((() => { t.current && (n ? (t.current.style.display = null, t.current.style.top = o.current.y / r + "px", t.current.style.left = o.current.x / r + "px") : t.current.style.display = "none") }), [r, n, t, o]), a.createElement("div", { style: { position: "absolute", left: 0, right: 0, top: 0, bottom: 0, contain: "layout", pointerEvents: "none" } }, a.createElement("div", { ref: t, id: "MouseHoverBlockerHack", style: { position: "absolute", width: 1, height: 1, marginLeft: -.5, marginTop: -.5, background: "transparent", pointerEvents: "all" } })) })); function vy(e) { const t = (0, qC.Zb)().bShutdownRequested; return a.createElement(ge.t, null, t && a.createElement(a.Fragment, null, (0, g.Xx)("#Steam_Shutdown_Out_Of_Battery"), a.createElement("br", null)), function (e) { switch (e.eShutdownState) { case 2: { let t = z.dk.GetAppOverviewByAppID(e.appid); return (0, g.Xx)("#Steam_Shutdown_Waiting_For_Game", null == t ? void 0 : t.display_name) } case 4: return (0, g.Xx)("#Steam_Shutdown_Finishing_Download"); case 5: { let t = z.dk.GetAppOverviewByAppID(e.appid); return (0, g.Xx)("#Steam_Shutdown_Waiting_For_Download", null == t ? void 0 : t.display_name) } case 3: return (0, g.Xx)("#Steam_Shutdown_Waiting_For_Cloud"); case 7: return (0, g.Xx)("#Steam_Shutdown_Waiting_For_Logoff") }return (0, g.Xx)("#Steam_Shutdown_Generic") }(e)) } var Sy = n(49610), Ey = (n(69110), n(9079)), by = n(30678); const Cy = a.createContext(null); function yy() { const e = a.useContext(Cy); if (null == e) throw new Error("useControllerLayoutContext cannot find ControllerLayoutContext!"); return e } function fy() { const e = T.hq.MostRecentlyActiveControllerIndex; cr._A.EnsureEditingConfiguration(wt.m2, e) } function Ay(e) { const { activator: t } = e; let n = []; if (t.bindings.forEach(((e, t) => { var a; let r = function (e, t) { var n, a, r, o; const i = yy(); fy(); const l = null === (n = cr._A.EditingConfiguration) || void 0 === n ? void 0 : n.sets[0], s = i.rgBindingOptions; if (void 0 !== (null === (a = e.controller_action) || void 0 === a ? void 0 : a.action)) return (0, Yg.RP)(e.controller_action, null === (r = cr._A.EditingConfiguration) || void 0 === r ? void 0 : r.sets, null == l ? void 0 : l.layers); let c = null == s ? void 0 : s.find((t => (0, zg.vh)(e, t.data))); if (c) { if ((null === (o = e.key_binding_data) || void 0 === o ? void 0 : o.friendly_name_utf8) && "string" == typeof c.label) return (0, g.Xx)("#ControllerBinding_Binding_FriendlyName", e.key_binding_data.friendly_name_utf8, (0, g.Xx)(c.label)); let t = "string" == typeof c.label ? c.label : void 0; return "#" == (null == t ? void 0 : t.charAt(0)) ? (0, g.Xx)(c.label) : c.label } return "unknown" }(e); 4 == (null === (a = cr._A.EditingConfiguration) || void 0 === a ? void 0 : a.controller_type) && ("Next" == r ? r = (0, g.Xx)("#ControllerActionKey_BrightnessUp") : "Prev" == r && (r = (0, g.Xx)("#ControllerActionKey_BrightnessDown"))), r && (0 == n.length ? n.push(r) : n[0] += ", " + r) })), 0 == n.length) return null; let r = ""; return 1 != t.activation && 2 != t.activation && 3 != t.activation && (r = (0, zg.vJ)(zg.Wh[t.activation].id)), a.createElement("div", { className: by.ChordControl }, a.createElement("div", { className: (0, k.Z)(by.ActivatorText, by.ChordControlActivation) }, r, " "), a.createElement("div", { className: (0, k.Z)(by.ActivatorText, by.ChordControlBinding) }, n.map(((e, t) => a.createElement("span", { key: t }, e))))) } function Iy(e) { var t, n; const { input: r, eMode: o, eSource: i } = e; if (fy(), null == o) return null; let l = null == r ? void 0 : r.activators; (null === (t = null == r ? void 0 : r.activators) || void 0 === t ? void 0 : t.length) > 1 && (l = null == r ? void 0 : r.activators.slice(0, 1)); const s = l.map(((e, t) => a.createElement(Ay, { key: t, activator: e }))); return !s || 0 == s.length ? null : a.createElement("div", { key: r.key, className: (0, k.Z)(by.ControllerInputDisplay, by.ChordInputDisplay) }, a.createElement("div", { className: (0, k.Z)(by.InputGlyph, by.ChordControlBinding) }, a.createElement(or.VC, { button: st.FX.HomeMenu, size: or.iM.Small }), a.createElement("span", { className: by.PlusSign }, " + "), a.createElement(Yg.$r, { eControllerType: null === (n = cr._A.EditingConfiguration) || void 0 === n ? void 0 : n.controller_type, eInput: r.key, eMode: o, eSource: i, bPreview: !0 })), a.createElement("div", { className: by.ChordControlContainer }, s)) } const ky = (0, Q.Pi)((function (e) { var t, n, r, o, i, l; const { sourcesFilter: s } = e; fy(); const c = null === (t = cr._A.EditingConfiguration) || void 0 === t ? void 0 : t.sets[0], m = null == s ? null == c ? void 0 : c.source_bindings : s(null == c ? void 0 : c.source_bindings), u = (null === (n = m[0]) || void 0 === n ? void 0 : n.active_group) ? null === (o = null === (r = m[0]) || void 0 === r ? void 0 : r.active_group) || void 0 === o ? void 0 : o.mode : void 0, d = 4 == u || 7 == u, p = null === (i = cr._A.EditingConfiguration) || void 0 === i ? void 0 : i.controller_type; let _ = []; return null == m || m.forEach((e => { var t; let n = null === (t = null == e ? void 0 : e.active_group) || void 0 === t ? void 0 : t.inputs.filter((e => e.activators.length > 0 && (0, Yg.Iy)(p, e.key) && 68 != e.key)); _ = _.concat(n) })), _.sort(((e, t) => e.key - t.key)), d || 0 != _.length ? a.createElement("div", { className: by.ControlsListSection }, d && a.createElement("div", { className: (0, k.Z)(by.ControllerInputDisplay) }, a.createElement("div", { className: (0, k.Z)(by.InputGlyph, by.ChordControlBinding) }, a.createElement(or.VC, { button: st.FX.HomeMenu, size: or.iM.Small }), a.createElement("span", { className: by.PlusSign }, " + "), a.createElement(Yg.CR, { controllerType: null === (l = cr._A.EditingConfiguration) || void 0 === l ? void 0 : l.controller_type, controllerSource: m[0].key, controllerModeInput: 0, className: by.MediumGlyphIcon })), a.createElement("div", { className: by.ChordControl }, a.createElement("div", { className: (0, k.Z)(by.ActivatorText, by.ChordControlActivation) }, "", " "), a.createElement("div", { className: (0, k.Z)(by.ActivatorText, by.ChordControlBinding) }, a.createElement("span", { style: { maxWidth: "400px" } }, (0, zg.Vr)(zg.k3[u].id))))), _.map(((e, t) => a.createElement(Iy, { key: t, input: e, eMode: u, eSource: m[0].key })))) : null })); function wy(e) { const { controllerSource: t } = e; return a.createElement(ky, { sourcesFilter: e => { if (!e) return []; return e.filter((e => e.key == t)).sort((e => e.key)) } }) } function Ny(e) { let t = function (e) { if (!e) return null; let t = []; return 1 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 4 })), 8 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 12 })), 2 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 13 })), 4096 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 1 })), 4 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 3 })), 2048 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 10 })), 4096 & e.unCapabilities && t.push(a.createElement(wy, { controllerSource: 2 })), t.push(a.createElement(wy, { controllerSource: 5 })), t }(yy().controller); return a.createElement("div", { className: by.ChordControlsSections }, t) } function Ty(e) { return a.createElement(a.Fragment, null, a.createElement("div", { className: by.ChordControlsSections }, a.createElement(wy, { controllerSource: 4 }), a.createElement(wy, { controllerSource: 5 }), a.createElement(wy, { controllerSource: 6 }), a.createElement(wy, { controllerSource: 7 }), a.createElement(wy, { controllerSource: 2 }), a.createElement(wy, { controllerSource: 1 }), a.createElement(wy, { controllerSource: 3 }), a.createElement(wy, { controllerSource: 10 }))) } function xy(e) { return a.createElement(a.Fragment, null, a.createElement("div", { className: by.ChordControlsSections }, a.createElement(wy, { controllerSource: 4 }), a.createElement(wy, { controllerSource: 5 }), a.createElement(wy, { controllerSource: 6 }), a.createElement(wy, { controllerSource: 7 }), a.createElement(wy, { controllerSource: 12 }), a.createElement(wy, { controllerSource: 3 }), a.createElement(wy, { controllerSource: 13 }))) } function Dy(e) { return a.createElement("div", { className: by.ChordControlsSections }, a.createElement(wy, { controllerSource: 4 }), a.createElement(wy, { controllerSource: 5 }), a.createElement(wy, { controllerSource: 6 }), a.createElement(wy, { controllerSource: 7 }), a.createElement(wy, { controllerSource: 12 }), a.createElement(wy, { controllerSource: 3 }), a.createElement(wy, { controllerSource: 13 })) } function Fy(e) { return a.createElement("div", { className: by.ChordControlsSections }, a.createElement(wy, { controllerSource: 4 }), a.createElement(wy, { controllerSource: 5 }), a.createElement(wy, { controllerSource: 6 }), a.createElement(wy, { controllerSource: 7 }), a.createElement(wy, { controllerSource: 12 }), a.createElement(wy, { controllerSource: 3 }), a.createElement(wy, { controllerSource: 13 })) } const Gy = { [-1]: Ny, 20: Ny, 0: Ny, 1: Fy, 2: Ty, 3: Ty, 4: function (e) { return a.createElement(a.Fragment, null, a.createElement("div", { className: by.ChordControlsSections }, a.createElement(wy, { controllerSource: 4 }), a.createElement(wy, { controllerSource: 5 }), a.createElement(wy, { controllerSource: 6 }), a.createElement(wy, { controllerSource: 7 }), a.createElement(wy, { controllerSource: 12 }), a.createElement(wy, { controllerSource: 2 }), a.createElement(wy, { controllerSource: 3 }), a.createElement(wy, { controllerSource: 13 }), a.createElement(wy, { controllerSource: 1 }), a.createElement(wy, { controllerSource: 10 }))) }, 30: Ny, 44: Ny, 31: xy, 32: xy, 33: Dy, 34: Dy, 35: Ny, 36: Fy, 37: Fy, 38: Ny, 42: Ny, 43: function (e) { return a.createElement("div", { className: by.ChordControlsSections }, a.createElement(wy, { controllerSource: 5 }), a.createElement(wy, { controllerSource: 13 }), a.createElement(wy, { controllerSource: 3 }), a.createElement(wy, { controllerSource: 6 }), a.createElement(wy, { controllerSource: 7 }), a.createElement(wy, { controllerSource: 12 }), a.createElement(wy, { controllerSource: 4 })) }, 45: Dy, 46: xy, 39: Ny, 40: Ny, 41: Ny, 47: Ny, 400: Ny, 800: Ny }; function By(e) { var t; const n = e.visible ? s.s7.Notification : null; if ((0, c.gI)(n), !e.visible) return null; fy(); const r = null !== (t = cr._A.EditingConfigurationControllerIndex) && void 0 !== t ? t : T.hq.MostRecentlyActiveControllerIndex, o = ce.tH.Get().GetController(r), i = (0, Ey.cN)(void 0, void 0), l = o && Gy[o.eControllerType], m = o && ce.tH.GetControllerTypeString(o.eControllerType); return a.createElement(bt, { appearance: "darkblur", visible: e.visible, zIndex: 4e3 }, a.createElement(Y.s, { className: (0, k.Z)(by.ChordSummary) }, a.createElement(Y.s, { className: (0, k.Z)(by.ControllerConfiguratorSummary, m), focusable: !1 }, a.createElement("div", { className: by.ChordControlsTitle }, (0, g.Xx)("#ControllerChord_GuideButtonShortcuts")), l && a.createElement(Cy.Provider, { value: { controller: o, rgBindingOptions: i } }, a.createElement(l, null))))) } n(61273); var Ly = n(76637), Ry = n(4757), Py = n.n(Ry); let Oy = class extends a.Component { constructor(e) { var t; super(e), this.m_fnUnregisterLocCallback = null, this.state = { bLoading: !0, strHeaderHeight: pb().HeaderHeightVisible }, (0, de.BL)(window).SetUsePopups(!1), (null === (t = SteamClient.Browser) || void 0 === t ? void 0 : t.RegisterForGestureEvents) && SteamClient.Browser.RegisterForGestureEvents(this.OnGestureEvent), (0, u.EH)(this.ObserveHeaderState) } ObserveHeaderState() { let e = pt.Ni.BShowHeader() ? pb().HeaderHeightVisible : ""; this.state.strHeaderHeight != e && this.setState({ strHeaderHeight: e }) } OnGestureEvent(e) { if (5 === e.eTouchGesture) { const t = window.document.elementFromPoint(e.x, e.y); null == t || t.dispatchEvent(new MouseEvent("contextmenu", { bubbles: !0 })) } } RegisterSoundCallbacks() { let e = (0, de.BL)(window); e.RegisterOnModalShownCallback((() => x.LT.PlayNavSound(x.qr.ShowModal))), e.RegisterOnModalHiddenCallback((() => x.LT.PlayNavSound(x.qr.HideModal))) } componentDidMount() { return (0, r.mG)(this, void 0, void 0, (function* () { this.props.bPlayingStartupMovie || this.RegisterSoundCallbacks(), yield (0, pe.gV)().Init(this.props.cm), Sy.dk.Init(), Zy(), this.m_fnUnregisterLocCallback = g.Yt.GetTokensChangedCallbackList().Register(this.LocalizationTokensChanged), it.Oo.SetContextMenuConstructor(ft), this.setState({ bLoading: !1 }), ue.De.STANDALONE_CONFIGURATOR_APPID > 0 && (T.hq.Navigate(o.Z5.Library.Home()), T.hq.Navigate(o.Z5.GamepadUI.ControllerConfigurator.Main(ue.De.STANDALONE_CONFIGURATOR_APPID))) })) } componentDidUpdate(e) { e.bPlayingStartupMovie && !this.props.bPlayingStartupMovie && this.RegisterSoundCallbacks(), T.hq.NavigationManager.SetSuppressGamepadInput(this.props.bPlayingStartupMovie) } componentWillUnmount() { this.m_fnUnregisterLocCallback && (this.m_fnUnregisterLocCallback.Unregister(), this.m_fnUnregisterLocCallback = null) } LocalizationTokensChanged() { Zy() } render() { const { bPlayingStartupMovie: e } = this.props; if (this.state.bLoading) return e ? null : a.createElement(ge.t, null); if (T.hq.BIsShuttingDown()) { const e = T.hq.GetShutdownState(); return a.createElement(vy, { eShutdownState: e.eShutdownState, appid: e.appid }) } const t = (0, pe.gV)().BHasCurrentUser(), n = T.hq.GetOpenSideMenu(), r = cr._A.GetChordHintVisible(); let o = { "--basicui-header-height": `${this.state.strHeaderHeight}` }; if (ue.De.IN_STANDALONE_KEYBOARD) return a.createElement("div", { className: (0, k.Z)("BasicUI", "GamepadMode", pb().BasicUiRoot), style: o }, a.createElement(ut.sE, null, a.createElement("div", { id: "MainNavMenu-Rest", "flow-children": "row", className: pb().MainNavMenuMainSplit }, a.createElement(Uy, null), a.createElement(_n.St, { VirtualKeyboardManager: T.hq.VirtualKeyboardManager }))), a.createElement(By, { visible: r }), a.createElement(hy, null)); if (ue.De.STANDALONE_CONFIGURATOR_APPID > 0) return a.createElement("div", { className: (0, k.Z)("BasicUI", "GamepadMode", pb().BasicUiRoot, "windows" == ue.De.PLATFORM && pb().StandaloneConfigurator), style: o }, a.createElement(ut.sE, null, a.createElement("div", { id: "MainNavMenu-Rest", "flow-children": "row", className: pb().MainNavMenuMainSplit }, a.createElement(Hy, null), a.createElement(hb, { VirtualKeyboardManager: T.hq.VirtualKeyboardManager, bQuickAccessFooter: !1 }), a.createElement(_n.St, { VirtualKeyboardManager: T.hq.VirtualKeyboardManager }))), a.createElement(By, { visible: r }), a.createElement(hy, null)); let i = yp.mg.IsLockScreenActive(); const l = { breakNarrow: [parseInt(Py().GamepadUIBreakNarrow), "NarrowWindow"], breakWide: [parseInt(Py().GamepadUIBreakWide), "WideWindow"], breakShort: [parseInt(Py().GamepadUIBreakShort), "ShortWindow"], strMedium: "MediumWindow", fnDimensionsChanged: (e, t) => { T.hq.SetWindowDimensions(e, t) } }; return a.createElement(Ly.u, Object.assign({ className: (0, k.Z)("BasicUI", "GamepadMode", pb().BasicUiRoot), style: o }, l), a.createElement(ut.sE, null, a.createElement("div", { id: "MainNavMenu-Rest", "flow-children": "row", className: pb().MainNavMenuMainSplit }, !i && a.createElement(FC, { loggedIn: t, visible: n == T.MA.Main }), a.createElement(Hy, null), a.createElement(hb, { VirtualKeyboardManager: T.hq.VirtualKeyboardManager, bQuickAccessFooter: !1 }), a.createElement(_n.St, { VirtualKeyboardManager: T.hq.VirtualKeyboardManager }), !i && a.createElement(sy, { visible: n == T.MA.QuickAccess }))), a.createElement(By, { visible: r }), a.createElement(mt.S, null, !e && !i && a.createElement(et, null)), a.createElement(mt.S, null, a.createElement(D, null)), a.createElement(mt.S, null, a.createElement(My, null)), a.createElement(hy, null)) } }; function My() { const e = (0, oe.k6)(); return a.useEffect((() => { (0, oe.LX)(e.location.pathname, o.Z5.GamepadUI.Login()) && yp.mg.GetSettings().bLockOnLogin || yp.mg.GetSettings().bLockOnWake && (0, fp.PS)({ preventCancel: !0, preventSteamButtons: !0 }) }), []), null } (0, r.gn)([m.ak], Oy.prototype, "ObserveHeaderState", null), (0, r.gn)([m.ak], Oy.prototype, "OnGestureEvent", null), (0, r.gn)([m.ak], Oy.prototype, "LocalizationTokensChanged", null), Oy = (0, r.gn)([Q.Pi], Oy); const Hy = (0, Q.Pi)((function () { const e = (0, dt.bz)(T.hq.BIsOverlayPath), t = (0, k.Z)(pb().BasicHome, e && pb().TransparentBackground, !e && pb().OpaqueBackground), n = (0, ct.Q)("root"), r = yp.mg.GetActiveLockScreenProps(); return a.createElement(M.Fe, { NavigationManager: T.hq.NavigationManager, navID: "root", navTreeRef: n, id: "Header.Main.Footer", "flow-children": "column", className: t, onCancelButton: T.hq.GetRootCancelHandler() }, a.createElement(mt.S, null, a.createElement(mt.S, null, a.createElement(Ct.h4, { visible: pt.Ni.BShowHeader() })), a.createElement(Ee.O, { NavigationManager: T.hq.NavigationManager }, a.createElement(Y.s, { id: "Main", autoFocus: !0, className: pb().Content, onMoveUp: lt.CE }, a.createElement(mt.S, null, r ? a.createElement(fp.qH, Object.assign({}, r)) : a.createElement(cb, null))))), a.createElement(mt.S, null, a.createElement(de.t9, { ModalManager: (0, de.BL)(window), className: (0, k.Z)(pb().GamepadDialogOverlay, "GamepadMode"), DialogWrapper: Xy }))) })), Uy = (0, Q.Pi)((function () { const e = (0, k.Z)(pb().BasicHome, pb().TransparentBackground), t = (0, ct.Q)("root"), n = a.useCallback((e => { (0, hi.LP)(e) || (0, vi.X)(!1, `Didn't handle virtual keypress from overlay, key: "${e}"`) }), []), r = a.useCallback((() => { }), []), o = (0, hi.CJ)({ onTextEntered: n, onKeyboardNavOut: r }), i = a.useCallback((e => { e || SteamClient.Input.StandaloneKeyboardDismissed() }), []); return (0, _n.$q)(T.hq.VirtualKeyboardManager, i), T.hq.VirtualKeyboardManager.SetDismissOnEnterKey(!1), a.useLayoutEffect((() => (o.ShowVirtualKeyboard(), () => o.BIsActive() && o.HideVirtualKeyboard())), [o]), a.createElement(M.Fe, { NavigationManager: T.hq.NavigationManager, navID: "root", navTreeRef: t, id: "Header.Main.Footer", "flow-children": "column", className: e, onCancelButton: T.hq.GetRootCancelHandler() }, a.createElement(mt.S, null, a.createElement(Ee.O, { NavigationManager: T.hq.NavigationManager }, a.createElement(Y.s, { id: "Main", autoFocus: !0, className: pb().Content, onMoveUp: lt.CE })))) })); function Xy(e) { const { className: t, active: n, children: r, modalKey: o } = e, i = a.useRef(); (0, M.cp)(i, n, !0); const l = (0, ct.Q)(`ModalDialogOverlay_${o}`), s = (0, m.BE)(i, l); return a.createElement(M.Fe, { className: t, navTreeRef: s, secondary: !0, NavigationManager: T.hq.NavigationManager, navID: `ModalDialogOverlay_${o}` }, r) } function Vy(e) { return function (e, t) { var n, r; const o = (0, kv.Yv)(), i = (0, kv.dK)(), l = (0, kv.DY)(); a.useEffect((() => { var n, a, r, s, c; if (o && !1 === (null === (n = i.data) || void 0 === n ? void 0 : n.has_mode_override) && (null === (a = i.data) || void 0 === a ? void 0 : a.description) && (null === (r = l.data) || void 0 === r ? void 0 : r.width) && (null === (s = l.data) || void 0 === s ? void 0 : s.height)) { const [n, a] = [l.data.width, l.data.height]; n * a > e * Math.max(t, e / 1.6) && (null === (c = SteamClient.System.DisplayManager) || void 0 === c || c.SetGamescopeInternalResolution(e, n / a == 1.6 ? e / 1.6 : t)) } }), [o, null === (n = i.data) || void 0 === n ? void 0 : n.has_mode_override, null === (r = i.data) || void 0 === r ? void 0 : r.description, l, e, t]) }(e.maxWidth, e.maxHeight), a.createElement(a.Fragment, null, " ", e.children, " ") } function Wy(e) { return a.createElement(mt.S, null, a.createElement(Mt, null, a.createElement(i.vY, null, e.children))) } function Zy() { st.Dg.Instance().SetDefaultAction(st.FX.QuickMenu, null), st.Dg.Instance().SetDefaultAction(st.FX.HomeMenu, (0, g.Xx)(vb[st.FX.HomeMenu])), st.Dg.Instance().SetDefaultAction(st.FX.A, (0, g.Xx)(vb[st.FX.A])), st.Dg.Instance().SetDefaultAction(st.FX.B, (0, g.Xx)(vb[st.FX.B])) } !function () { let e = window; e.ClearBackgroundInterval = window.clearInterval, e.ClearBackgroundTimeout = window.clearTimeout, e.SetBackgroundInterval = window.setInterval, e.SetBackgroundTimeout = window.setTimeout }(), (0, pe.xz)(); const zy = function (e) { return a.createElement(o.Br, { basename: (0, o.bo)() }, a.createElement(Vy, { maxWidth: 1920, maxHeight: 1080 }, a.createElement(Wy, null, a.createElement(Oy, Object.assign({}, e))))) } }, 12208: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAAgACADAREAAhEBAxEB/8QAhwABAAIDAAAAAAAAAAAAAAAABwMGAgQFAQADAQADAAAAAAAAAAAAAAAEBQYHAQIDEAACAgEDAgQFAwUAAAAAAAABAgMEBQARBjESIUETB1FhcYEiobEywXIjFCQRAAECBAQFBAIDAAAAAAAAAAECAwARBAUhMUES8GFxkQZRgaETsUIyYiP/2gAMAwEAAhEDEQA/AH3mnNsfximjSj1r0+/+rVB2J26sx8lH668X3w2OcH2+gVUrkMEjMwP5X3E5fkJWkOQkrIf4xViYVUfDdfyP3Ola6latYsGLTTtiW0HrjGGM9xuYY6YSLkZLKA/lFaJmVh8N2/IfY64TVOJ1js9aKdwS2hPTCGThXNaHJ6DSRr6F2DYWqpO/bv0ZT5qdNWHw4OcR1xty6Zcjik5GBX3Myk+S5fkXLEinKa0KeQWE9pA+rAnQ9Sjd7RO2m+mmuB3H/JR2nlLI+x+CYnqR0MTi6U0tSO7kr0Qs/wDQC0UMLkiNQgIDOwHcS3TTqx2JD6Pscy0EUXkHkTrbpaaO2WZjtYBcJnnlgnxtevehQyo0CBY5EBAYFDuAw33BGg/KbCKdgvMEjbmIGs3kD7i/rcUTPnFs4xiqOMy0M1WBIXk/xOyAKSr+Gx2+ex1AWyvcFQiZJBMu+EP65ZcaIJnLGDL3Ixc2N5lkkkBCWZTahbyZZz3kj6MSPtq2WJGMhubRQ+qepn3iWtaxuZxtOKS5FRydGIVyLJKQzRISY2WQAhXUHtIbrp/aLslhOxf8YLRVJeSNypLAljkR19Ys3CcdRqTWp0tx3bXZ6JNcl4Yg5BO8hADOQOi77Dr1Gk3mPkSFMfS3+/444wijsFIFOFc57fTLvx8xc8RA02RhA6IwkY/AL4/vrPLOwXKlEv1O7tFVVr2tnnhG1zjg9DlNBY5G9C9BuatoDft36qw81OtEUmcSFdQpqEyOChkYFMp7ac1x9j0TjZLSlu1Jqw9VG3OwP4+Kj+4DQ6kkRLuWqoSqW2fMZcdYUOMcQt43GQUIYSCo7p5nHYGkbxZvHx69PlqOeoaqreKthSP7YSEaTQpZpGEtgzlnLU6xdMZjYqURAPdK/wDN/wCg+Wqq221FKiQxUczxpAtRUF08o//Z" }, 6359: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/images/library_capsule.png" }, 64957: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/images/library_hero.png" }, 37640: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/images/library_logo_transparent.png" }, 42438: (e, t, n) => { "use strict"; n.r(t), n.d(t, { default: () => a }); const a = "/images/store_capsule_main.png" }, 56131: (e, t, n) => { var a = { "./google_chrome/icon.jpg": 12208, "./google_chrome/library_capsule.png": 6359, "./google_chrome/library_hero.png": 64957, "./google_chrome/library_logo_transparent.png": 37640, "./google_chrome/store_capsule_main.png": 42438 }; function r(e) { var t = o(e); return n(t) } function o(e) { if (!n.o(a, e)) { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t } return a[e] } r.keys = function () { return Object.keys(a) }, r.resolve = o, e.exports = r, r.id = 56131 }, 48030: (e, t, n) => { var a = { "./bumper_end.wav": 49437, "./confirmation_negative.wav": 30783, "./confirmation_positive.wav": 97266, "./deck_ui_achievement_toast.wav": 93163, "./deck_ui_bumper_end_02.wav": 1405, "./deck_ui_default_activation.wav": 51261, "./deck_ui_hide_modal.wav": 75985, "./deck_ui_into_game_detail.wav": 63683, "./deck_ui_launch_game.wav": 59244, "./deck_ui_message_toast.wav": 98946, "./deck_ui_misc_01.wav": 87679, "./deck_ui_misc_08.wav": 98995, "./deck_ui_misc_10.wav": 57906, "./deck_ui_navigation.wav": 94615, "./deck_ui_out_of_game_detail.wav": 74990, "./deck_ui_show_modal.wav": 73815, "./deck_ui_side_menu_fly_in.wav": 97306, "./deck_ui_side_menu_fly_out.wav": 24400, "./deck_ui_slider_down.wav": 21424, "./deck_ui_slider_up.wav": 10926, "./deck_ui_switch_toggle_off.wav": 88371, "./deck_ui_switch_toggle_on.wav": 66447, "./deck_ui_tab_transition_01.wav": 73548, "./deck_ui_tile_scroll.wav": 66555, "./deck_ui_toast.wav": 80908, "./deck_ui_typing.wav": 80185, "./deck_ui_volume.wav": 27422, "./pop_sound.wav": 53532 }; function r(e) { var t = o(e); return n(t) } function o(e) { if (!n.o(a, e)) { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t } return a[e] } r.keys = function () { return Object.keys(a) }, r.resolve = o, e.exports = r, r.id = 48030 } }]);
//# sourceMappingURL=sp.js.map